{"version":3,"sources":["language-ru/Number.ts","language-ru/DayOfWeek.ts","types/ScheduleStructure.ts","language-ru/utils.ts","lib/datetimeUtils.ts","lib/formatters.ts","lib/ApiModel.ts","lib/ApiHelper.ts","language-ru/Month.ts","components/Spacers.tsx","images/App Icon.png","components/TopMenu.tsx","components/consts.ts","components/LinkToOnline.tsx","components/ScheduleLesson.tsx","components/ScheduleDayOff.tsx","pages/DashboardPage.tsx","images/schedule.png","images/location.png","images/faq.png","images/phone.png","components/Home/Main.tsx","components/Home/TabSelectorRow.tsx","components/Home/ShowScheduleButtonRow.tsx","components/Home/RememberCheckboxRow.tsx","pages/HomePage.tsx","components/SocialList.tsx","components/ContactsCard.tsx","pages/Contacts.tsx","images/lib.jpeg","components/Libraries.tsx","components/FAQCard.tsx","pages/FAQ.tsx","images/Star-1.png","pages/Start.tsx","images/Karta.png","pages/NavigatorPage.tsx","components/ScheduleDay.tsx","components/WeekCarousel/WeekCarouselDay.tsx","components/WeekCarousel/WeekCarousel.tsx","components/WeekSelect/ButtonNextWeek.tsx","components/WeekSelect/ButtonPrevWeek.tsx","components/WeekSelect/ButtonThisWeek.tsx","components/WeekSelect/WeekSelect.tsx","components/ScheduleView.tsx","pages/SchedulePage.tsx","pages/Settings.tsx","types/base.d.ts","themes/tools.tsx","themes/Theme.tsx","components/LessonCard.tsx","pages/Lesson.tsx","lib/AssistantWrapper.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Number","ordinal","fem","singular","nominative","genitive","cardinal","DayOfWeek","short","long","prepositional","Bell","lessonName","teacher","room","lessonType","lessonNumber","url","groupNumber","this","padZeros","s","len","padStart","lessonTypeAdjToNoun","adj","result","pairNumberToPairNumText","pairCount","moment","MS_IN_DAY","formatTimeHhMm","date","hours","getHours","minutes","getMinutes","concat","getFirstDayWeek","console","log","dayDiff","weekDay","getDay","firstDay","getTime","monthNum","getMonth","dayNum","getDate","y","getFullYear","m","toString","d","formatDateWithDashes","Date","formatTeacherName","teacherData","last_name","first_name","mid_name","DEFAULT_STATE_WEEK_DAY","title","count","DEFAULT_STATE_DAY","current_week","other_week","ApiModel","userId","user","unsavedUser","pushSettings","isStudent","isSchedule","isSavedUser","validation","day","saved_schedule","other_schedule","isSavedSchedule","Hour","Minute","IsActive","isTeacherError","teacher_id","group_id","filial_id","eng_group","subgroup_name","group","undefined","ApiHelper","userSchedule","teacher_info","groupId","filialId","groupName","SetWeekSchedule","formatScheduleData","scheduleData","i","schedule","isSave","getUser","isCurrentWeek","warn","firstDayWeek","week","isTeacher","response","teacherName","initials","CheckIsCorrectTeacher","IsInitialsError","settings","status","id","parsedTeacher2","IsError","IsGroupNameError","IsSubGroupError","IsEngGroupError","promiseGroupName","promiseEnglishGroup","engGroupName","Promise","all","then","responses","group_response","english_response","JSON","parse","name","String","subGroupName","replace","updateUser","groupApiModel","NO_LESSONS_NAME","API_URL","getScheduleFromDb","english_group_id","a","config","params","axios","get","catch","error","rawSchedule","data","parsedSchedule","formatShcdeuleData","FormateSchedule","getScheduleTeacherFromDb","teacherId","formatSchedule","getSchedulebyUserId","user_id","getIdTeacherFromDb","teacher_in","teacher_initials","answer","parsedTeacherData","getInTeacherFromDb","rawTeacherData","addUserToPushNotification","sub","post","createUser","subGroup","engGroup","getGroupByName","groupInfo","IsEnglishGroupExist","group_num","jsonData","schedule_from_api","subgroup","Array","fill","bell","day_num","schedule_header","bell_num","slice","lesson_info","lessons","lesson_info_state","groups","header","LessonStartEnd","start","end","subject_name","teachers","room_name","type","other","reset","Month","Spacer100","styled","div","Spacer200","Spacer300","HeaderScheduleCol","label","subLabel","Col","style","marginLeft","TextBox","GoToDashboardButton","onClick","Button","size","view","pin","event","contentRight","IconChevronLeft","color","GoToHomeButton","IconSettings","TopMenu","onDashboardClick","onHomeClick","Bd","Row","margin","ACCENT_TEXT_COLOR","COLOR_BUTTON_PRIMARY","LinkToOnline","text","href","target","fontSize","LessonStartAndFinishTime","time","lines","LessonName","isAccented","Day","lessonNum","to","textDecoration","Body","GroupNumber","TeacherName","MainContent","isTeacherAndValid","onTeacherClick","paddingLeft","LessonRightContent","ScheduleLesson","startTime","endTime","lesson","startEndTime","CellListItem","paddingRight","content","DAY_OFF_TEXT","ScheduleDayOff","display","flexDirection","alignSelf","justifyContent","locale","HeaderRow","assistant","marginRight","Header","back","logo","minimize","onMinimizeClick","on","ScheduleSectionTitleRow","paddingTop","IconEvent","CatalogueHeaderRow","IconApps","TodaySummary","from","lessonCount","lessonsStart","lessonsEnd","dayOfWeek","month","isSunday","dateToday","format","charAt","toUpperCase","dateDay","DashboardCard","Card","height","marginTop","cursor","CardBody","CardContent","Caption","maxWidth","padding","Image","src","GetCloser","history","push","width","contentLeft","CellDisclosure","CatalogueItems","IsStudent","ScheduleLessonTitle","NoLesson","DashboardPage","currentLesson","currentLessonStartEnd","nextLesson","nextLessonStartEnd","apiModel","isUser","current_date","toISOString","Container","overflow","LineSkeleton","roundness","RectSkeleton","Main","TopMenuRow","HeaderRoot","HeaderBack","HeaderLogo","alt","HeaderTitleWrapper","HeaderTitle","Cell","TabSelectorRow","tabs","selectedIndex","onSelect","alignItems","Tabs","map","tabText","TabItem","isActive","ShowScheduleButtonRow","RememberCheckboxRow","checked","onChange","Checkbox","USER_MODES","HomeDescription","textAlign","TextFieldForUserInfo","value","isError","TextField","className","HomePage","props","disabled","state","studentSettings","teacherSettings","studentValidation","teacherValidation","IsSave","handleAssistantActionGroup","bind","handleAssistantActionSubGroup","handleAssistantActionEngGroup","handleAssistantActionShowSchedule","removeListener","setState","save_student","save_teacher","goToSchedule","CheckIsCorrectStudent","isCorrect","LoadSchedule","studentContent","tabIndex","description","prevState","teacherContent","mainContent","React","Component","SocialListItem","link","SocialList","compact","social_media","media","index","ContactsCard","site","tel","mail","Headline","Contacts","contacts_data","contact","marginBottom","Libraries","questions","answers","useState","flag","setFlag","IconChevronUp","IconChevronDown","CardMedia","lib","FAQCard","FAQ","faq","Start","isMobileDevice","HeaderMinimize","Paragraph","star","BuildingListItem","building","address","Badge","IconLocation","backgroundColor","BuildingList","buildings","Fragment","NavigatorPage","karta","ScheduleDayLessons","dayLessons","currentLessonNumber","isToday","lessonIndex","isCurrentLesson","ScheduleDay","isReady","isDayOff","background","WeekCarouselDay","isSelected","isMarked","CarouselItem","scrollSnapAlign","toLowerCase","WeekCarousel","markedIndex","cols","setIndex","Carousel","as","axis","scrollSnapType","detectActive","detectThreshold","onIndexChange","paddingStart","paddingEnd","ButtonNextWeek","IconChevronRight","paddingBottom","ButtonPrevWeek","ButtonThisWeek","position","bottom","WeekSelect","onPrevWeekClick","onThisWeekClick","onNextWeekClick","ScheduleView","IsSavedSchedule","current","getCurrentLesson","formatDate","weekDayShort","dateDdDotMm","getIsCorrectTeacher","CurrentWeek","NextWeek","action","strDayOfWeekNum_","note","handleDayChange","parseInt","setDate","date_to_url","note1","note2","CheckGroupOrTeacherSetted","dayOfWeekZeroIndex","IsCurrentWeek","dayOfWeekLongPrepositional","sendSay6","page","minHeight","PreviousWeek","today","weekDayIndex","Boolean","doSetTeacher","SchedulePage","timeParam","refetchData","prevProps","refetchDay","restProps","Settings","Save","timePush","hour","min","edit","AddPush","sendAction","action_id","Switch","TimePicker","HeaderContent","IconEdit","Edit","visibleItems","max","options","seconds","DAY_SUNDAY","DAY_NOT_SUNDAY","DAY_TODAY","DAY_TOMORROW","CHAR_SBER","THEME_DARK","THEME_LIGHT","ThemeBackgroundSber","createGlobalStyle","darkSber","ThemeBackgroundEva","darkEva","ThemeBackgroundJoy","darkJoy","ThemeBackgroundSberLight","lightSber","ThemeBackgroundEvaLight","lightEva","ThemeBackgroundJoyLight","lightJoy","getThemeBackgroundByChar","character","themeType","CHAR_EVA","CHAR_JOY","DocStyle","gradient","Theme","theme","children","sanitizeRoom","Footnote","LessonCard","createBrowserHistory","Lesson","go","AssistantWrapper","_App","_assistant","getState","getStateForAssistantStub","createAssistant","handleAssistantDataEvent","item_selector","items","handleAssistantDataEventCharacter","handleAssistantDataEventSmartAppData","emit","handleAssistantCharacter","handleAssistantSub","dispatchAssistantAction","handleAssistantPageChange","handleAssistantForDayOffset","handleAssistantWhenLesson","timestamp","dayOfWeekStrIndex","handleAssistantHowMany","handleAssistantHowManyLeft","when","handleAssistantWhere","when_","handleAssistantWhatLesson","isNaN","handleAssistantFirstLesson","handleAssistantShowSchedule","close","sendData","parameters","dayName","EventEmitter","ENTER_DATA_NO_OFFICIAL_TEXT","ENTER_DATA_OFFICIAL_TEXT","getTodayDayOfWeek","App","notes","now","init","fetchUser","minute","sendHello","pageRoute","offset","sendTodaySchedule","ChangePage","sendTomorrowSchedule","type1","day1","startEndLesson","getStartEndLesson","type2","day2","number","getLessonsCountForDate","lessonText","dayOfWeekIndex","assistantParams","amount","amountOfRemainingLessons","getAmountOfRemainingLessons","pron","whereLessonParams","whereWillLesson","exist","whatLesson","firstLessonNumStr","getStartFirstLesson","num","actionNote","location","pathname","toLocaleLowerCase","includes","sendChangeGroup","dayNumber","lessonIdx","todayOrTomorrow","lessonEnd","startOrEnd","getBordersRequestLesson","getEndLastLesson","strDate","formatDateWithDots","todayIndex","bellIdx","thisLessonStartEnd","countRemainingLessons","todayDayOfWeek","todayWorkDayZeroIndex","todayBells","todayLessons","NO_LESSON","firstLessonTimeHhMm","currLessonNum","firstLessonInfo","breaks","will","nextLessonRoom","numberNearestLesson","audience","whereCurrentLesson","_date","path","render","match","detectDevice","toggleTheme","todayZeroIndex","currentLessonIdx","nextLessonIdx","IsSaved","lessonWeek","pageNo","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.727e1f53.chunk.js","sourcesContent":["export const Number = {\r\n  ordinal: {\r\n    fem: {\r\n      singular: {\r\n        /**\r\n         * Порядковые числительные именительный падеж\r\n         * ordinalNominativeCaseSingularFemDict\r\n         */\r\n        nominative: {\r\n          '1': 'первая',\r\n          '2': 'вторая',\r\n          '3': 'третья',\r\n          '4': 'четвертая',\r\n          '5': 'пятая',\r\n          '6': 'шестая',\r\n          '7': 'седьмая'\r\n        },\r\n        /**\r\n         * Порядковые числительные родительный падеж\r\n         * ordinalGenitiveCaseSingularFemDict\r\n         */\r\n        genitive: {\r\n          1: 'первой',\r\n          2: 'второй',\r\n          3: 'третьей',\r\n          4: 'четвертой',\r\n          5: 'пятой',\r\n          6: 'шестой',\r\n          7: 'седьмой'\r\n        }\r\n      }\r\n    }\r\n  },\r\n  /**\r\n   * Количественные числительные\r\n   */\r\n  cardinal: {\r\n    fem: {\r\n      0: 'ноль',\r\n      1: 'одна',\r\n      2: 'две',\r\n      3: 'три',\r\n      4: 'четыре',\r\n      5: 'пять',\r\n      6: 'шесть',\r\n      7: 'семь',\r\n    }\r\n  }\r\n}\r\n\r\nexport default Number;\r\n","export const DayOfWeek = {\r\n  short: [\r\n    \"Вс\", // 0\r\n    \"Пн\", // 1\r\n    \"Вт\", // 2\r\n    \"Ср\", // 3\r\n    \"Чт\", // 4\r\n    \"Пт\", // 5\r\n    \"Сб\", // 6\r\n  ],\r\n  long: {\r\n    // именительный падеж\r\n    nominative: [\r\n      \"Воскресенье\",\r\n      \"Понедельник\",\r\n      \"Вторник\",\r\n      \"Средa\",\r\n      \"Четверг\",\r\n      \"Пятница\",\r\n      \"Суббота\",\r\n    ],\r\n    // предложный падеж (но без предлога)\r\n    prepositional: [\r\n      \"Воскресенье\", // 0\r\n      \"Понедельник\", // 1\r\n      \"Вторник\",     // 2\r\n      \"Среду\",       // 3\r\n      \"Четверг\",     // 4\r\n      \"Пятницу\",     // 5\r\n      \"Субботу\",     // 6\r\n    ]\r\n  },\r\n}\r\n\r\nexport default DayOfWeek;\r\n","export class Bell {\r\n  lessonName: string\r\n  teacher: string\r\n  room: string\r\n  // startAndFinishTime: string\r\n  lessonType: string\r\n  lessonNumber: string\r\n  url: string\r\n  groupNumber: string\r\n\r\n  constructor(\r\n    lessonName = \"\",\r\n    teacher = \"\",\r\n    room = \"\",\r\n    // startAndFinishTime = \"\",\r\n    lessonType = \"\",\r\n    lessonNumber = \"\",\r\n    url = \"\",\r\n    groupNumber = \"\"\r\n  ) {\r\n    this.lessonName = lessonName;\r\n    this.teacher = teacher;\r\n    this.room = room;\r\n    // this.startAndFinishTime = startAndFinishTime;\r\n    this.lessonType = lessonType;\r\n    this.lessonNumber = lessonNumber;\r\n    this.url = url;\r\n    this.groupNumber = groupNumber;\r\n  }\r\n\r\n  reset() {\r\n    this.lessonName = \"\";\r\n    this.teacher = \"\";\r\n    this.room = \"\";\r\n    // this.startAndFinishTime = \"\";\r\n    this.lessonType = \"\";\r\n    this.lessonNumber = \"\";\r\n    this.url = \"\";\r\n    this.groupNumber = \"\";\r\n  }\r\n}\r\n","//\r\n\r\nexport function capitalize(s: string): string {\r\n  return s.charAt(0).toUpperCase() + s.slice(1);\r\n}\r\n\r\n/**\r\n * Добавление незначащих нулей слева\r\n *\r\n * @param {string} s\r\n * @param {number} len\r\n * return {string}\r\n */\r\nexport const padZeros = (s: string, len: number) => s.padStart(len, '0');\r\n\r\n\r\n/**\r\n *\r\n * @param {string} adj\r\n * @returns {string}\r\n */\r\nexport function lessonTypeAdjToNoun(adj: string): string {\r\n  let result;\r\n  switch (adj) {\r\n    case \"Лекционные\":\r\n      result = \"Лекция\";\r\n      break;\r\n    case \"Практические\":\r\n      result = \"Практика\";\r\n      break;\r\n    case \"Лабораторные\":\r\n      result = \"Лаба\";\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  return result\r\n}\r\n\r\n/**\r\n *\r\n * @param {number} pairCount\r\n * @return {string}\r\n */\r\nexport function pairNumberToPairNumText(pairCount: number): string {\r\n  switch (pairCount) {\r\n    case 1:\r\n      return \"одна пара\";\r\n    case 2:\r\n      return \"две пары\";\r\n    case 3:\r\n      return \"три пары\";\r\n    case 4:\r\n      return \"четыре пары\";\r\n    default:\r\n      return `${pairCount} пар`;\r\n  }\r\n}\r\n\r\n\r\nexport function pairNumberToPairText(pairCount: number): string | undefined {\r\n  const lesson = (pairCount === 1)\r\n    ? \"пара\"\r\n    : (pairCount === 2 || pairCount === 3 || pairCount === 4)\r\n      ? \"пары\"\r\n      : \"пар\"\r\n  return lesson;\r\n}\r\n\r\n\r\n","import * as moment from 'moment';\r\nimport DayOfWeek from \"../language-ru/DayOfWeek\";\r\n\r\nimport { padZeros } from '../language-ru/utils';\r\nimport number from \"../language-ru/Number\";\r\n\r\n// Init `momentjs` module\r\nmoment.locale('ru');\r\n\r\n/**\r\n * сколько миллисекунд в 1 дне\r\n */\r\nexport const MS_IN_DAY = 24 * 60 * 60 * 1000;\r\n\r\n/**\r\n * Convert string DD?MM?YYYY to Date\r\n *\r\n * @param {string} s\r\n * @return {Date}\r\n */\r\nexport const ddMmYyyyToDate = (s: string): Date => {\r\n  const d = parseInt(s.slice(0, 2));\r\n  const m = parseInt(s.slice(3, 5))-1;\r\n  const y = parseInt(s.slice(-4));\r\n  return new Date(y, m, d);\r\n}\r\n\r\n/**\r\n * Convert string DD?MM?YY to Date\r\n *\r\n * @param {string} s\r\n * @return {Date}\r\n */\r\nexport const ddMmYyToDate = (s: string): Date => {\r\n  const d = parseInt(s.slice(0, 2));\r\n  const m = parseInt(s.slice(3, 5))-1;\r\n  const y = 2000 + parseInt(s.slice(-2));\r\n  return new Date(y, m, d);\r\n}\r\n\r\n/**\r\n * форматирование даты в \"YYYY-MM-DD\"\r\n *\r\n * @param {Date} date\r\n * @returns {string}\r\n */\r\nexport function formatDateWithDashes(date: Date): string {\r\n  const monthNum = date.getMonth() + 1;\r\n  const dayNum = date.getDate();\r\n  const y = date.getFullYear();\r\n\r\n  //pad with zeroes\r\n  // const m = (monthNum < 10 ? '0' : '') + monthNum;\r\n  const m = padZeros(monthNum.toString(), 2);\r\n  // const d = (dayNum < 10 ? '0' : '') + dayNum;\r\n  const d = padZeros(dayNum.toString(), 2);\r\n\r\n  return `${y}-${m}-${d}`;\r\n}\r\n\r\n/**\r\n * форматирование даты в вид \"DD.MM.YY\"\r\n *\r\n * @param {Date} date\r\n * @returns {string}\r\n */\r\nexport function formatDateWithDots(date: Date): string {\r\n  const monthNum = date.getMonth() + 1;\r\n  const dayNum = date.getDate();\r\n  const y = String(date.getFullYear()).slice(2, 4)\r\n\r\n  //pad with zeroes\r\n  // const m = (monthNum < 10 ? '0' : '') + monthNum;\r\n  const m = padZeros(monthNum.toString(), 2);\r\n  // const d = (dayNum < 10 ? '0' : '') + dayNum;\r\n  const d = padZeros(dayNum.toString(), 2);\r\n\r\n  return `${d}.${m}.${y}`;\r\n}\r\n\r\n/**\r\n * получить текущее время в формате \"HH:MM\"\r\n *\r\n * @param {Date} date\r\n * @returns {string}\r\n */\r\nexport function formatTimeHhMm(date: Date): string {\r\n  const hours = date.getHours()\r\n  const minutes = date.getMinutes()\r\n  return `${(hours < 10 ? '0' : '').concat('' + hours)}:${(minutes < 10 ? '0' : '').concat('' + minutes)}`\r\n}\r\n\r\n\r\n/**\r\n * получить дату первого дня недели\r\n * в виде строки\r\n *\r\n * @param date\r\n */\r\nexport function getFirstDayWeek(date: Date): string {\r\n  console.log('getFirstDayWeek:', date)\r\n  // номер дня недели\r\n  // const now = new Date();\r\n  // this.setState({ today: now.getDay() });\r\n\r\n  const weekDay = date.getDay()\r\n  let dayDiff: number;\r\n\r\n  if (weekDay === 0) { // Воскресенье\r\n    dayDiff = -(weekDay + 6);\r\n\r\n  } else if (weekDay === 1) { // Понедельник\r\n    dayDiff = 0;\r\n\r\n  } else { // Не воскресенье и не понедельник\r\n    // число первого дня недели\r\n    dayDiff = - (weekDay - 1);\r\n\r\n  }\r\n  const firstDay = date.getTime() + dayDiff * MS_IN_DAY;\r\n  const result = formatDateWithDashes(new Date(firstDay))\r\n  console.log('getFirstDayWeek: result:', result)\r\n  return result;\r\n}\r\n\r\n\r\n// /**\r\n//  *\r\n//  * @param {string} adj\r\n//  * @returns {string}\r\n//  */\r\n// export function lessonTypeAdjToNoun(adj: string): string {\r\n//   let result;\r\n//   switch (adj) {\r\n//     case \"Лекционные\":\r\n//       result = \"Лекция\";\r\n//       break;\r\n//     case \"Практические\":\r\n//       result = \"Практика\";\r\n//       break;\r\n//     case \"Лабораторные\":\r\n//       result = \"Лаба\";\r\n//       break;\r\n//     default:\r\n//       break;\r\n//   }\r\n//   return result\r\n// }\r\n\r\n// /**\r\n//  *\r\n//  * @param {number} pairCount\r\n//  * @return {string}\r\n//  */\r\n// export function pairNumberToPairNumText(pairCount: number): string {\r\n//   switch (pairCount) {\r\n//     case 1:\r\n//       return \"одна пара\";\r\n//     case 2:\r\n//       return \"две пары\";\r\n//     case 3:\r\n//       return \"три пары\";\r\n//     case 4:\r\n//       return \"четыре пары\";\r\n//     default:\r\n//       return `${pairCount} пар`;\r\n//   }\r\n// }\r\n\r\n\r\n// export function pairNumberToPairText(pairCount: number): string | undefined {\r\n//   const lesson = (pairCount === 1)\r\n//     ? \"пара\"\r\n//     : (pairCount === 2 || pairCount === 3 || pairCount === 4)\r\n//       ? \"пары\"\r\n//       : \"пар\"\r\n//   return lesson;\r\n// }\r\n\r\n/**\r\n * возвращает короткое название дня недели (Пн,Вт,...)\r\n * для заданной даты\r\n *\r\n * @param {Date} date\r\n * @returns string    - короткое название дня недели (Пн,Вт,...)\r\n */\r\nexport function getDayOfWeekShortForDate(date: Date): string {\r\n  // Возвращает порядковый номер дня недели на заданную дату\r\n  // 0 - воскресенье, 1 - понедельник\r\n  const dayOfWeekIndexForDate = date.getDay();\r\n  return DayOfWeek.short[dayOfWeekIndexForDate];\r\n}\r\n\r\n","import {ITeacherInfo} from \"./ApiHelper\";\r\n\r\nexport const formatTeacherName = (teacherData: ITeacherInfo) => (\r\n  `${teacherData.last_name} ${teacherData.first_name}. ${teacherData.mid_name}.`\r\n)\r\n\r\nexport function formatFullGroupName(group: string, subGroup: string): string {\r\n  return (subGroup !== \"\")\r\n    ? `${group} (${subGroup})`\r\n    : `${group} `\r\n}\r\n\r\n\r\n","import * as ApiHelper from \"./ApiHelper\";\r\n\r\n\r\nimport {\r\n  IDayHeader\r\n} from '../types/base'\r\n\r\nimport {Bell} from '../types/ScheduleStructure'\r\nimport {group} from \"console\";\r\n\r\nimport {MS_IN_DAY, formatDateWithDashes, getFirstDayWeek} from '../lib/datetimeUtils'\r\nimport {formatTeacherName} from '../lib/formatters'\r\nimport {threadId} from \"worker_threads\";\r\nimport ScheduleDay from \"../components/ScheduleDay\";\r\n\r\n\r\nexport interface IPushSettings {\r\n  Hour: number\r\n  Minute: number\r\n  IsActive: boolean\r\n}\r\n\r\nexport interface IDay {\r\n  current_week: IDayHeader[]\r\n  other_week: IDayHeader[]\r\n}\r\n\r\nexport interface IStudentSettings {\r\n  groupName: string,\r\n  subGroupName: string,\r\n  engGroupName: string\r\n}\r\n\r\nexport interface ITeacherSettings {\r\n  initials: string\r\n}\r\n\r\nexport interface IStudentValidation {\r\n  IsGroupNameError: boolean,\r\n  IsSubGroupError: boolean,\r\n  IsEngGroupError: boolean\r\n}\r\n\r\nexport interface ITeacherValidation {\r\n  IsInitialsError: boolean\r\n}\r\n\r\nexport const DEFAULT_STATE_WEEK_DAY = [\r\n  {\r\n    title: 'Пн',\r\n    date: \"\",\r\n    count: 0\r\n  }, {\r\n    title: 'Вт',\r\n    date: \"\",\r\n    count: 0,\r\n  }, {\r\n    title: 'Ср',\r\n    date: \"\",\r\n    count: 0\r\n  }, {\r\n    title: 'Чт',\r\n    date: \"\",\r\n    count: 0\r\n  }, {\r\n    title: 'Пт',\r\n    date: \"\",\r\n    count: 0\r\n  }, {\r\n    title: 'Сб',\r\n    date: \"\",\r\n    count: 0\r\n  }\r\n]\r\n\r\nexport interface IUserData {\r\n  eng_group: string\r\n  filial_id: string\r\n  group_id: string\r\n  subgroup_name: string\r\n  teacher_id: string\r\n  teacher: string\r\n  group: string\r\n}\r\n\r\n\r\nexport const DEFAULT_STATE_DAY = {\r\n  current_week: DEFAULT_STATE_WEEK_DAY,\r\n  other_week: DEFAULT_STATE_WEEK_DAY\r\n}\r\n\r\nexport type ThisOtherWeekBells = Bell\r\nexport type DayBells = ThisOtherWeekBells[]\r\nexport type IScheduleDays = DayBells[]\r\n\r\n\r\nexport class ApiModel {\r\n  public userId: string\r\n  public user: IUserData | undefined\r\n  public unsavedUser: IUserData\r\n  public pushSettings: IPushSettings\r\n  public isStudent: boolean\r\n  public isSchedule: boolean\r\n  //false когда пользователь первый раз зашел в приложение\r\n  public isSavedUser: boolean\r\n\r\n  public validation: {\r\n    teacher: {\r\n      isTeacherError: boolean\r\n    }\r\n  }\r\n\r\n  public day: {\r\n    current_week: IDayHeader[]\r\n    other_week: IDayHeader[]\r\n  }\r\n  //Расписание для сохраненных данных\r\n  public saved_schedule: {\r\n    current_week: IScheduleDays\r\n    other_week: IScheduleDays\r\n  }\r\n  //Расписание для несохраненных данных\r\n  public other_schedule: {\r\n    current_week: IScheduleDays\r\n    other_week: IScheduleDays\r\n  }\r\n  public isSavedSchedule: boolean\r\n\r\n  constructor() {\r\n    this.userId = \"\"\r\n    this.pushSettings = {\r\n      Hour: -1,\r\n      Minute: -1,\r\n      IsActive: false\r\n    }\r\n    this.day = DEFAULT_STATE_DAY\r\n    this.saved_schedule = {\r\n      current_week: [],\r\n      other_week: []\r\n    }\r\n    this.other_schedule = {\r\n      current_week: [],\r\n      other_week: []\r\n    }\r\n    this.isSavedSchedule = true\r\n    this.isStudent = true\r\n    this.isSavedUser = false\r\n    this.isSchedule = false\r\n    this.validation = {\r\n      teacher: {\r\n        isTeacherError: false\r\n      }\r\n    }\r\n    this.unsavedUser = {\r\n      teacher: \"\",\r\n      teacher_id: \"\",\r\n      group_id: \"\",\r\n      filial_id: \"\",\r\n      eng_group: \"\",\r\n      subgroup_name: \"\",\r\n      group: \"\"\r\n    }\r\n  }\r\n\r\n\r\n  public async AddPush() {\r\n    if (this.pushSettings != undefined && this.userId != undefined) {\r\n      await ApiHelper.addUserToPushNotification(this.userId, this.pushSettings)\r\n    }\r\n  }\r\n\r\n  // public async fetchUser(userId: string): Promise<ApiHelper.IUserData | undefined> {\r\n  public async fetchUser(userId: string): Promise<void> {\r\n    if (this.userId === userId && this.user) return;\r\n\r\n    // try {\r\n    //const apiResult = await ApiHelper.getUser(userId);\r\n    //this.user = apiResult === '0' ? undefined : apiResult\r\n    this.userId = userId; // устанавливаем только если данные были получены без ошибки\r\n    // return this.user;\r\n    // } \r\n  }\r\n\r\n  public async getSchedulebyUserId() {\r\n    let userSchedule: ApiHelper.IScheduleByUserIdData | undefined;\r\n\r\n    if (this.userId != undefined) {\r\n      // Такой пользователь уже есть в базе\r\n      // Получаем настройки для данного пользователя\r\n      userSchedule = await ApiHelper.getSchedulebyUserId(this.userId)\r\n      console.log(\"UserSchedule\", userSchedule)\r\n      if (userSchedule == undefined) {\r\n        this.isSavedUser = false\r\n      } else {\r\n        this.isSavedUser = true\r\n        if (userSchedule.teacher_id != \"\" && userSchedule.teacher_id != undefined) {\r\n          const teacher = formatTeacherName(userSchedule.teacher_info);\r\n          this.user = {\r\n            teacher: teacher,\r\n            teacher_id: userSchedule.teacher_id,\r\n            group_id: userSchedule.groupId,\r\n            filial_id: userSchedule.filialId,\r\n            eng_group: userSchedule.eng_group,\r\n            subgroup_name: userSchedule.subgroup_name,\r\n            group: userSchedule.groupName\r\n          }\r\n          this.isStudent = false\r\n\r\n        } else if\r\n        (userSchedule.groupName != \"\") {\r\n          this.user = {\r\n            teacher: \"\",\r\n            teacher_id: \"\",\r\n            group_id: userSchedule.groupId,\r\n            group: userSchedule.groupName,\r\n            filial_id: userSchedule.filialId,\r\n            eng_group: userSchedule.eng_group,\r\n            subgroup_name: userSchedule.subgroup_name\r\n          }\r\n          this.isStudent = true;\r\n\r\n        }\r\n\r\n\r\n      }\r\n\r\n    }\r\n    if (userSchedule != undefined) {\r\n      this.SetWeekSchedule(userSchedule.formatScheduleData, 0, true)\r\n    }\r\n\r\n  }\r\n\r\n  public IsReadyShowSchedule() {\r\n    return this.user != undefined && ((this.user.teacher_id != \"\" && this.user.teacher_id != undefined)\r\n      || (this.user.group_id != \"\" && this.user.group_id != undefined))\r\n  }\r\n\r\n  /**\r\n   * заполнение данными расписания из бд\r\n   */\r\n  public SetWeekSchedule(scheduleData: ApiHelper.IScheduleFormatData, i: Number, isSavedSchedule: boolean) {\r\n    this.isSavedSchedule = isSavedSchedule\r\n    console.log(\"SetWeekSchedule: IsSave:\", isSavedSchedule)\r\n    console.log(\"SetWeekSchedule: i:\", i)\r\n    this.isSchedule = false;\r\n    if (isSavedSchedule) {\r\n      let saved_schedule = this.saved_schedule\r\n      if (scheduleData.schedule && scheduleData.day) {\r\n        if (i == 0) {\r\n          saved_schedule.current_week = scheduleData.schedule\r\n          this.day.current_week = scheduleData.day\r\n        } else {\r\n          saved_schedule.other_week = scheduleData.schedule\r\n          this.day.other_week = scheduleData.day\r\n        }\r\n      }\r\n\r\n      this.saved_schedule = saved_schedule\r\n\r\n    } else {\r\n      if (scheduleData.schedule && scheduleData.day) {\r\n        if (i == 0) {\r\n          console.log(\"Set other shcedule; current week\")\r\n          this.other_schedule.current_week = scheduleData.schedule\r\n          this.day.current_week = scheduleData.day\r\n        } else {\r\n          this.day.other_week = scheduleData.day\r\n          this.other_schedule.other_week = scheduleData.schedule\r\n        }\r\n      }\r\n\r\n    }\r\n    this.isSchedule = true\r\n\r\n  }\r\n\r\n  public async createUser() {\r\n    if (this.userId != undefined && this.user != undefined) {\r\n      await ApiHelper.createUser(\r\n        this.userId,\r\n        this.user.filial_id != undefined ? this.user.filial_id : \"\",\r\n        this.user.group_id != undefined ? this.user.group_id : \"\",\r\n        this.user.subgroup_name != undefined ? this.user.subgroup_name : \"\",\r\n        this.user.eng_group != undefined ? this.user.eng_group : \"\",\r\n        this.user.teacher_id != undefined ? this.user.teacher_id : \"\",\r\n      )\r\n    }\r\n  }\r\n\r\n\r\n  protected getUser(isSave: boolean): IUserData | undefined {\r\n    return isSave ? this.user : this.unsavedUser;\r\n  }\r\n\r\n\r\n  protected isTeacher(isSave: boolean) {\r\n    console.log(\"IsTeacher\", this.unsavedUser)\r\n    const user = this.getUser(isSave);\r\n    return user && user.teacher_id\r\n  }\r\n\r\n\r\n  public async getScheduleFromDb(date: Date, isSave: boolean, isCurrentWeek: Boolean) {\r\n    /*\r\n        let teacher_id, group_id, eng;\r\n        console.log(\"isSave\", isSave)\r\n        if (isSave) {\r\n          teacher_id = this.user?.teacher_id;\r\n          group_id = this.user?.group_id;\r\n          console.log(\"getScheduleFromDb: groupId\", group_id)\r\n          if(group_id && this.user){\r\n            console.log(\"GROUP:\",this.user.group)\r\n            //group_id = this.convertGroupNameToGroupId(this.user?.group)\r\n          }\r\n          else{\r\n            return\r\n          }\r\n          eng = this.user?.eng_group\r\n          if (this.isTeacher(isSave) && this.unsavedUser && this.user?.teacher) {\r\n            this.isStudent=false;\r\n            this.unsavedUser.teacher = this.user.teacher\r\n          }\r\n          else {\r\n            this.isStudent = true;\r\n          }\r\n        }\r\n        else {\r\n          teacher_id = this.unsavedUser.teacher_id;\r\n          group_id = this.unsavedUser.group_id;\r\n          eng = this.unsavedUser.eng_group;\r\n        }\r\n    */\r\n\r\n    const user = this.getUser(isSave);\r\n    console.log(\"apiModel.getScheduleFromDb: user\", user)\r\n\r\n    if (!user || !user?.group_id) {\r\n      console.warn('No user or group set')\r\n      return;\r\n    }\r\n\r\n    const firstDayWeek = getFirstDayWeek(date);\r\n    console.log(\"apiModel:getScheduleFromDb: firstDayWeek\", firstDayWeek)\r\n\r\n    let week = isCurrentWeek ? 0 : 1\r\n\r\n    this.isStudent = !this.isTeacher(isSave);\r\n\r\n    const response = this.isTeacher(isSave)\r\n      ? await ApiHelper.getScheduleTeacherFromDb(\r\n        user?.teacher_id || '',\r\n        firstDayWeek\r\n      )\r\n      : await ApiHelper.getScheduleFromDb(\r\n        user?.group_id || '',\r\n        user?.eng_group || '',\r\n        firstDayWeek\r\n      );\r\n\r\n    this.SetWeekSchedule(response, week, isSave);\r\n  }\r\n\r\n  public async doSetTeacher(teacherName: string): Promise<boolean> {\r\n    console.log(\"DoSetTeacher\", this.unsavedUser)\r\n\r\n    if (this.unsavedUser != undefined) {\r\n      this.unsavedUser.teacher = teacherName\r\n    }\r\n    let teacher: ITeacherSettings = {initials: teacherName}\r\n    return !( (await this.CheckIsCorrectTeacher(teacher, false)).IsInitialsError);\r\n  }\r\n\r\n  public async convertGroupNameToGroupId(groupName: string): Promise<Number> {\r\n    return (groupName)\r\n      ? await ApiHelper.getGroupByName(groupName)\r\n      : -1;\r\n  }\r\n\r\n  // todo исправить асинхронную работу\r\n  public async CheckIsCorrectTeacher(settings: ITeacherSettings, isSave: boolean): Promise<ITeacherValidation> {\r\n    let result: ITeacherValidation = {\r\n      IsInitialsError: true\r\n    }\r\n    if (settings.initials != undefined) {\r\n      let teacherData = await ApiHelper.getIdTeacherFromDb(settings.initials)\r\n      if (teacherData) {\r\n        console.log('handleTeacherChange:', teacherData);\r\n        console.log('handleTeacherChange: status:', teacherData.status);\r\n\r\n        console.log(\"Number(teacherData.status)\", Number(teacherData.status))\r\n        result.IsInitialsError = Number(teacherData.status) != 1\r\n        if (\r\n          (teacherData.status == \"-1\") ||\r\n          (teacherData.status == \"-2\")\r\n        ) {\r\n          console.log(\"handleTeacherChange: teacherData.status:\", teacherData.status);\r\n          this.validation.teacher.isTeacherError = false\r\n          return {IsInitialsError: false}\r\n\r\n        } else {\r\n          // ApiHelper.getScheduleTeacherFromDb(\r\n          //   teacherData.id,\r\n          //   getFirstDayWeek(new Date())\r\n          // ).then((response) => {\r\n          //   console.log(\"handleTeacherChange: getScheduleTeacherFromDb: response\", response)\r\n          //   this.SetWeekSchedule(response, 0, isSave);\r\n          // });\r\n        }\r\n\r\n        let parsedTeacher2 = await ApiHelper.getInTeacherFromDb(teacherData.id)\r\n        if (parsedTeacher2) {\r\n          let teacher = formatTeacherName(parsedTeacher2)\r\n          if (isSave && this.user != undefined) {\r\n            this.user.teacher = teacher\r\n          } else if (!isSave) {\r\n            this.unsavedUser = {\r\n              teacher: teacher,\r\n              teacher_id: teacherData.id,\r\n              group_id: \"\",\r\n              filial_id: \"\",\r\n              eng_group: \"\",\r\n              subgroup_name: \"\",\r\n              group: \"\"\r\n            }\r\n            console.log(\"UNSAVED USER\", this.unsavedUser)\r\n          }\r\n          this.validation.teacher.isTeacherError = false\r\n          this.isStudent = false\r\n          if (isSave && this.user != undefined) {\r\n            this.user.teacher_id = teacherData.id\r\n            ApiHelper.createUser(\r\n              this.userId,\r\n              this.user.filial_id,\r\n              this.user.group_id,\r\n              this.user.subgroup_name,\r\n              this.user.eng_group,\r\n              this.user.teacher_id,\r\n            );\r\n          }\r\n        }\r\n        return result\r\n      }\r\n    }\r\n    return result\r\n  }\r\n\r\n  public async CheckIsCorrectStudent(settings: IStudentSettings, isSave: boolean): Promise<IStudentValidation> {\r\n    console.log('App: isCorrect', settings)\r\n    let IsError: IStudentValidation = {\r\n      IsGroupNameError: true,\r\n      IsSubGroupError: true,\r\n      IsEngGroupError: true\r\n    }\r\n    let promiseGroupName = ApiHelper.getGroupByName(settings.groupName);\r\n    let promiseEnglishGroup = ApiHelper.IsEnglishGroupExist(Number(settings.engGroupName));\r\n\r\n    return Promise.all([\r\n      promiseGroupName,\r\n      promiseEnglishGroup,\r\n    ])\r\n      .then((responses) => {\r\n        console.log(\"App: isCorrect: response\", responses)\r\n        const [\r\n          group_response,\r\n          english_response,\r\n        ] = responses;\r\n        let group\r\n        let groupId\r\n        if (group_response) {\r\n          group = JSON.parse(group_response);\r\n          if (group.status == 1) {\r\n            console.log(group.name, group.id, \"GROUP RESPONSE\")\r\n            IsError.IsGroupNameError = false;\r\n          }\r\n          groupId = String(group.id);\r\n        }\r\n        console.log(\"App: isCorrect: response: english\", english_response);\r\n\r\n        if (english_response || settings.engGroupName == \"\") {\r\n          IsError.IsEngGroupError = false;\r\n          console.log(`App: isCorrect: correct_eng: ${IsError.IsEngGroupError}`);\r\n        }\r\n        if ((settings.subGroupName === \"\") || (settings.subGroupName.replace(/[\\s-_.]/g, '') === \"1\") || (settings.subGroupName.replace(/[\\s-_.]/g, '') === \"2\")) {\r\n          IsError.IsSubGroupError = false;\r\n        }\r\n\r\n        let isCorrect = !IsError.IsEngGroupError && !IsError.IsGroupNameError && !IsError.IsSubGroupError\r\n        if (isCorrect) {\r\n          let updateUser = {\r\n            group_id: groupId,\r\n            group: group.name,\r\n            eng_group: settings.engGroupName,\r\n            subgroup_name: settings.subGroupName,\r\n            teacher_id: \"\",\r\n            teacher: \"\",\r\n            filial_id: this.user == undefined ? \"\" : this.user.filial_id\r\n          }\r\n          if (isSave) {\r\n            ApiHelper.createUser(\r\n              this.userId,\r\n              this.user == undefined ? \"\" : this.user.filial_id,\r\n              group.id,\r\n              settings.subGroupName,\r\n              settings.engGroupName,\r\n              \"\"\r\n            )\r\n            this.user = updateUser\r\n          } else {\r\n            this.unsavedUser = updateUser\r\n          }\r\n\r\n        }\r\n        return IsError\r\n      })\r\n\r\n  }\r\n\r\n  public async LoadSchedule(isSave: boolean): Promise<void> {\r\n    let group_id = isSave ? this.user?.group_id : this.unsavedUser?.group_id\r\n    let eng_group = isSave ? this.user?.eng_group : this.unsavedUser?.eng_group\r\n    if (eng_group == undefined) {\r\n      eng_group = \"\"\r\n    }\r\n    if (group_id == undefined) {\r\n      return\r\n    }\r\n    const response = await ApiHelper.getScheduleFromDb(\r\n      group_id,\r\n      String(eng_group),\r\n      getFirstDayWeek(new Date())\r\n    )\r\n    this.SetWeekSchedule(response, 0, isSave);\r\n    this.isStudent = true\r\n  }\r\n\r\n\r\n  public CheckGroupOrTeacherSetted(): boolean {\r\n    let groupApiModel = this.user?.group == undefined ? \"\" : this.user.group\r\n    let teacher = this.isSavedUser ? this.user?.teacher : this.unsavedUser?.teacher\r\n    if (teacher == undefined) {\r\n      teacher = \"\"\r\n    }\r\n    if (groupApiModel == undefined) {\r\n      groupApiModel = \"\";\r\n    }\r\n    return groupApiModel != \"\" || teacher != \"\"\r\n  }\r\n\r\n  // protected async _dbGetUser(userId: string): Promise<ApiHelper.IUserData | undefined> {\r\n  //   const apiResult = await ApiHelper.getUser(userId)\r\n  //   this.user = apiResult === '0' ? undefined : apiResult\r\n  //   return this.user;\r\n  // }\r\n  //\r\n  // protected _localGetUser(/*userId: string*/): ApiHelper.IUserData | undefined {\r\n  //   // предполагаем, что userId не изменяется во время работы приложения\r\n  //   return this.user;\r\n  // }\r\n  //\r\n  // protected async _lazyGetUser(userId: string): Promise<ApiHelper.IUserData | undefined> {\r\n  //   let result = this._localGetUser(/*userId*/);\r\n  //   if (!result) {\r\n  //     result = await this._dbGetUser(userId)\r\n  //   }\r\n  //   return result;\r\n  // }\r\n  //\r\n  // protected _transformUser(user: ApiHelper.IUserData | undefined): IUserModel | undefined {\r\n  //   return user\r\n  //     ? {\r\n  //       engGroup: user.eng_group,\r\n  //       filialId: user.filial_id,\r\n  //       groupId: user.group_id,\r\n  //       subGroup: user.subgroup_name,\r\n  //       teacherId: user.teacher_id,\r\n  //       userId: user.teacher_id,\r\n  //     }\r\n  //     : undefined;\r\n  // }\r\n  //\r\n  // public async getUser(userId: string): Promise<IUserModel | undefined> {\r\n  //   return this._transformUser(await this._lazyGetUser(userId));\r\n  // }\r\n\r\n}\r\n\r\n\r\nexport default ApiModel\r\n","import axios, {AxiosResponse} from \"axios\";\r\n\r\nimport filial from '../data/filial.json';\r\n\r\nimport {Bell} from '../types/ScheduleStructure'\r\nimport {LessonStartEnd} from '../App'\r\n\r\nimport {IScheduleDays, DEFAULT_STATE_WEEK_DAY} from './ApiModel'\r\n\r\nimport {IDayHeader} from '../types/base'\r\n\r\nimport {IPushSettings} from './ApiModel'\r\n\r\nexport interface ITeacherApiData extends ITeacherInfo {\r\n  // first_name: string\r\n  // mid_name: string\r\n  // last_name: string\r\n  status: '-1' | '-2'\r\n  id: string\r\n}\r\n\r\nexport const NO_LESSONS_NAME = \"Пар нет 🎉\"\r\n\r\n//\r\n\r\ninterface IScheduleTeacherData {\r\n  name: string\r\n}\r\n\r\ninterface IScheduleGroup {\r\n  name: string\r\n  subgroup_name: string | undefined\r\n}\r\n\r\nexport interface IScheduleLessonInfo {\r\n  groups: IScheduleGroup[]\r\n  subject_name: string\r\n  teachers: IScheduleTeacherData[]\r\n  room_name: string\r\n  type: string\r\n  other: string\r\n}\r\n\r\nexport interface IScheduleFormatData {\r\n  schedule: IScheduleDays | undefined\r\n  day: IDayHeader[] | undefined\r\n}\r\n\r\ninterface IScheduleBellHeader {\r\n  start_lesson: string\r\n  end_lesson: string\r\n}\r\n\r\ninterface ISchedule {\r\n  header: IScheduleBellHeader\r\n  day1: IScheduleLessonInfo\r\n  day2: IScheduleLessonInfo\r\n  day3: IScheduleLessonInfo\r\n  day4: IScheduleLessonInfo\r\n  day5: IScheduleLessonInfo\r\n  day6: IScheduleLessonInfo\r\n  day7: IScheduleLessonInfo\r\n}\r\n\r\ninterface IScheduleHeaderDay {\r\n  date: string\r\n}\r\n\r\ninterface IScheduleHeader {\r\n  day1: IScheduleHeaderDay,\r\n  day2: IScheduleHeaderDay,\r\n  day3: IScheduleHeaderDay,\r\n  day4: IScheduleHeaderDay,\r\n  day5: IScheduleHeaderDay,\r\n  day6: IScheduleHeaderDay,\r\n  day7: IScheduleHeaderDay,\r\n}\r\n\r\n// interface Schedule {\r\n//   bell: ScheduleHeader[]\r\n// }\r\n\r\nexport interface IScheduleApiData {\r\n  schedule: ISchedule[]\r\n  schedule_header: IScheduleHeader\r\n}\r\n\r\nexport interface ITeacherInfo {\r\n  last_name: string,\r\n  first_name: string,\r\n  mid_name: string\r\n}\r\n\r\nexport interface IScheduleByUserIdData {\r\n  day: number\r\n  formatScheduleData: IScheduleFormatData,\r\n  groupName: string,\r\n  groupId: string,\r\n  hour: number, //час отправки пушей\r\n  isActive: boolean, //отправка пушей\r\n  minute: number, //минута отправки пушей\r\n  filialId: string,\r\n  eng_group: string,\r\n  schedule: IScheduleApiData,\r\n  status: number,\r\n  subgroup_name: string,\r\n  teacher_id: string,\r\n  teacher_info: ITeacherInfo\r\n  userId: string,\r\n}\r\n\r\nexport interface IPushData {\r\n  sub: string,\r\n  hour: number,\r\n  minute: number\r\n}\r\n\r\n//\r\n\r\n//const API_URL = \"http://127.0.0.1:8000/\";\r\nconst API_URL = \"https://mirmisis.ru\";\r\n\r\nexport async function getScheduleFromDb(groupId: string, english_group_id: string, date: string): Promise<IScheduleFormatData> {\r\n  const url = `${API_URL}schedule`;\r\n  const config = {\r\n    params: {\r\n      group_id: groupId,\r\n      english_group_id: english_group_id,\r\n      date: date,\r\n    },\r\n  };\r\n  console.log(`ApiHelper: getScheduleFromDb: url: \"${url}\", config:`, config);\r\n\r\n  const response = await axios.get(url, config).catch((error) => {\r\n    console.log(error);\r\n  });\r\n\r\n  if (response && response[\"status\"] == 200) {\r\n    const {data: rawSchedule} = response;\r\n    const parsedSchedule: IScheduleApiData = JSON.parse(rawSchedule);\r\n    console.log(`ApiHelper: getScheduleFromDb: parsedSchedule:`, parsedSchedule);\r\n    let formatShcdeuleData: IScheduleFormatData = FormateSchedule(parsedSchedule, \"\")\r\n    return formatShcdeuleData;\r\n  } else {\r\n    return {schedule: undefined, day: undefined}\r\n  }\r\n}\r\n\r\nexport async function getScheduleTeacherFromDb(teacherId: string, date: string): Promise<IScheduleFormatData> {\r\n  const url = `${API_URL}schedule_teacher`;\r\n  const config = {\r\n    params: {\r\n      teacher_id: teacherId,\r\n      date: date,\r\n    },\r\n  };\r\n  console.log(`ApiHelper: getScheduleTeacherFromDb: url: \"${url}\", config:`, config);\r\n  const response = await axios.get(url, config).catch((error) => {\r\n    console.log(error);\r\n  });\r\n\r\n  if (response && response[\"status\"] == 200) {\r\n    const {data: rawSchedule} = response;\r\n    const parsedSchedule: IScheduleApiData = JSON.parse(rawSchedule);\r\n    console.log(`ApiHelper: getScheduleTeacherFromDb: parsedSchedule:`, parsedSchedule);\r\n    let formatSchedule: IScheduleFormatData = FormateSchedule(parsedSchedule, \"\");\r\n    return formatSchedule;\r\n  } else {\r\n    return {schedule: undefined, day: undefined}\r\n  }\r\n}\r\n\r\n\r\n \r\n\r\nexport async function getSchedulebyUserId(user_id: string): Promise<IScheduleByUserIdData | undefined>{\r\n  const url = `${API_URL}data_by_user_id`;\r\n  const config={\r\n    params:{\r\n      user_id: user_id\r\n    }\r\n  }\r\n  const response = await axios.get(url, config).catch((error) => {\r\n    console.log(error);\r\n  });\r\n  ;\r\n\r\n\r\n  if (response && response[\"status\"] == 200) {\r\n    const {data: rawSchedule} = response;\r\n    const parsedSchedule: IScheduleByUserIdData = JSON.parse(rawSchedule);\r\n    console.log(`ApiHelper: getSchedulebyUserId: parsedSchedule:`, parsedSchedule);\r\n    parsedSchedule.formatScheduleData = FormateSchedule(parsedSchedule.schedule, parsedSchedule.subgroup_name)\r\n    return parsedSchedule;\r\n  }\r\n}\r\n\r\n\r\nexport async function getIdTeacherFromDb(teacher_in: string): Promise<ITeacherApiData | undefined> {\r\n  console.log(`ApiHelper: teacher_in`, teacher_in);\r\n\r\n  const url = `${API_URL}teacher_by_initials`;\r\n  const config = {\r\n    params: {\r\n      teacher_initials: teacher_in,\r\n    },\r\n  };\r\n  console.log(`ApiHelper: getIdTeacherFromDb: url: \"${url}\", config:`, config);\r\n\r\n  const response = await axios.get(url, config).catch((error) => {\r\n    console.log(error);\r\n  });\r\n  if (response && response[\"status\"] == 200) {\r\n    const {data: answer} = response;\r\n    const parsedTeacherData = JSON.parse(answer) as ITeacherApiData;\r\n    console.log(`ApiHelper: getIdTeacherFromDb: parsedTeacherData:`, parsedTeacherData);\r\n    return parsedTeacherData;\r\n  }\r\n}\r\n\r\nexport async function getInTeacherFromDb(teacher_id: string): Promise<ITeacherApiData | undefined> {\r\n  const url = `${API_URL}teacher_by_id`;\r\n  const config = {\r\n    params: {\r\n      teacher_id: teacher_id,\r\n    },\r\n  };\r\n  console.log(`ApiHelper: getInTeacherFromDb: url: \"${url}\", config:`, config);\r\n\r\n  const response = await axios.get(url, config).catch((error) => {\r\n    console.log(error);\r\n  });\r\n  if (response && response[\"status\"] == 200) {\r\n    const {data: rawTeacherData} = response;\r\n    const parsedTeacherData = JSON.parse(rawTeacherData) as ITeacherApiData;\r\n    console.log(`ApiHelper: getInTeacherFromDb: parsedTeacherData:`, parsedTeacherData);\r\n    return parsedTeacherData;\r\n  }\r\n}\r\n\r\nexport async function addUserToPushNotification(sub: string, pushSettings: IPushSettings) {\r\n  const url = `${API_URL}add_user_to_push_notification`;\r\n  const data = {\r\n    \"sub\": sub,\r\n    \"hour\": pushSettings.Hour,\r\n    \"minute\": pushSettings.Minute,\r\n    \"isActive\": pushSettings.IsActive,\r\n    // \"day\": day\r\n  };\r\n  console.log(`ApiHelper: add_user_to_push_notification: url: \"${url}\", data:`, data);\r\n\r\n  const response = await axios.post(url, data);\r\n  console.log(`ApiHelper: add_user_to_push_notification: response:`, response);\r\n\r\n  return response;\r\n}\r\n\r\n\r\nexport async function createUser(\r\n  userId: string,\r\n  filialId: string,\r\n  groupId: string,\r\n  subGroup: string,\r\n  engGroup: string,\r\n  teacher_id: string,\r\n): Promise<AxiosResponse<any>> {\r\n  const url = `${API_URL}user`;\r\n  const data = {\r\n    \"user_id\": userId,\r\n    \"filial_id\": filialId != undefined ? filialId : \"\",\r\n    \"group_id\": groupId != undefined ? groupId : \"\",\r\n    \"subgroup_name\": subGroup != undefined ? subGroup : \"\",\r\n    \"eng_group\": engGroup != undefined ? engGroup : \"\",\r\n    \"teacher_id\": teacher_id != undefined ? teacher_id : \"\"\r\n  };\r\n  console.log(`ApiHelper: createUser: url: \"${url}\", data:`, data);\r\n\r\n  const response = await axios.post(url, data);\r\n  console.log(`ApiHelper: createUser: response:`, response);\r\n\r\n  return response;\r\n}\r\n\r\n\r\ninterface StarUser {\r\n  userId: string\r\n  filialId: string\r\n  groupId: string\r\n  subGroup: string\r\n  engGroup: string\r\n  teacherId: string\r\n}\r\n\r\n\r\n\r\nexport interface IUserData {\r\n  eng_group: string\r\n  filial_id: string\r\n  group_id: string\r\n  subgroup_name: string\r\n  teacher_id: string\r\n  user_id: string\r\n}\r\n\r\nexport type GetUserResult = IUserData | \"0\"\r\n\r\nexport async function getUser(userId: string): Promise<GetUserResult | undefined> {\r\n  const url = `${API_URL}users`;\r\n  const config = {\r\n    params: {\r\n      user_id: userId,\r\n    },\r\n  };\r\n  console.log(`ApiHelper: getUser: url: \"${url}\", config:`, config);\r\n\r\n  const response = await axios.get(url, config).catch((error) => {\r\n    console.log(error);\r\n  });\r\n  ;\r\n  if (response && response[\"status\"] == 200) {\r\n    const {data: answer} = response;\r\n    console.log(`ApiHelper: getUser: answer:`, answer);\r\n    return answer;\r\n  }\r\n}\r\n\r\nexport async function getGroupById(groupId: number) {\r\n  const url = `${API_URL}group_by_id`;\r\n  const config = {\r\n    params: {\r\n      group_id: groupId,\r\n    },\r\n  };\r\n  console.log(`ApiHelper: getGroupById: url: \"${url}\", config:`, config);\r\n\r\n  const response = await axios.get(url, config).catch((error) => {\r\n    console.log(error);\r\n  });\r\n  ;\r\n  if (response && response[\"status\"] == 200) {\r\n    const {data: groupInfo} = response;\r\n    console.log(`ApiHelper: getGroupById: groupInfo:`, groupInfo);\r\n    return groupInfo;\r\n  }\r\n}\r\n\r\nexport async function getGroupByName(groupName: string) {\r\n  const url = `${API_URL}group_by_name`;\r\n  const config = {\r\n    params: {\r\n      name: groupName,\r\n    },\r\n  };\r\n  console.log(`ApiHelper: getGroupByName: url: \"${url}\", config:`, config);\r\n\r\n  const response = await axios.get(url, config).catch((error) => {\r\n    console.log(error);\r\n  });\r\n  ;\r\n  if (response && response[\"status\"] == 200) {\r\n    const {data: groupInfo} = response;\r\n    console.log(`ApiHelper: getGroupByName: groupInfo:`, groupInfo);\r\n    return groupInfo;\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\nexport async function IsEnglishGroupExist(group_num: number): Promise<boolean> {\r\n  const url = `${API_URL}is_english_group_exist`;\r\n  const config = {\r\n    params: {\r\n      group_num: group_num,\r\n    },\r\n  };\r\n  console.log(`ApiHelper: isEnglishGroupExist: url: \"${url}\", config:`, config);\r\n\r\n  const response = await axios.get(url, config).catch((error) => {\r\n    console.log(error);\r\n  });\r\n  ;\r\n  if (response && response[\"status\"] == 200) {\r\n    const {data} = response;\r\n    console.log(`ApiHelper: isEnglishGroupExist: response:`, data);\r\n    let jsonData = JSON.parse(data)\r\n    return jsonData.status === '1';\r\n  }\r\n  return false\r\n}\r\n\r\nexport function FormateSchedule(schedule_from_api: IScheduleApiData, subgroup): IScheduleFormatData {\r\n  let schedule = new Array(7).fill([]);\r\n  let day: IDayHeader[] = DEFAULT_STATE_WEEK_DAY;\r\n  for (let day in schedule) {\r\n    schedule[day] = Array(7).fill([])\r\n    for (let bell in schedule[day]) {\r\n      schedule[day][bell] = new Bell();\r\n    }\r\n  }\r\n  for (let day in schedule) {\r\n    for (let bell in schedule[day]) {\r\n      schedule[day][bell].lessonName = \"\";\r\n      schedule[day][bell].teacher = \"\";\r\n      schedule[day][bell].room = \"\";\r\n      schedule[day][bell].lessonType = \"\";\r\n      schedule[day][bell].lessonNumber = \"\";\r\n      schedule[day][bell].url = \"\";\r\n      schedule[day][bell].groupNumber = \"\";\r\n    }\r\n  }\r\n\r\n  for (let day_num = 1; day_num < 7; day_num++) {\r\n\r\n    // todo\r\n    let countLessons = 0;\r\n\r\n    day[day_num - 1].count = 0;\r\n\r\n    if (schedule_from_api.schedule !== null) {\r\n      day[day_num - 1].date = schedule_from_api.schedule_header[`day_${day_num}`].date;\r\n      for (let bell in schedule_from_api.schedule) { //проверка\r\n        let bell_num = Number(bell.slice(-1)) - 1\r\n        let lesson_info: IScheduleLessonInfo = schedule_from_api.schedule[bell][`day_${day_num}`].lessons[0]\r\n        let lesson_info_state: Bell = schedule[day_num - 1][bell_num]\r\n\r\n        const subgroup_name = lesson_info?.groups?.[0]?.subgroup_name;\r\n\r\n        let header = schedule_from_api.schedule[bell]['header']\r\n        LessonStartEnd[bell_num] = {start: header['start_lesson'], end: header['end_lesson']}\r\n\r\n        if (\r\n          (schedule_from_api.schedule[bell_num] !== undefined) &&\r\n          (lesson_info !== undefined) &&\r\n          (subgroup_name !== \"\") &&\r\n          (subgroup_name === subgroup) &&\r\n          (subgroup !== \"\")\r\n        ) {\r\n\r\n          lesson_info_state.lessonName = lesson_info.subject_name;\r\n          lesson_info_state.teacher = lesson_info.teachers[0].name;\r\n          lesson_info_state.room = lesson_info.room_name;\r\n          lesson_info_state.lessonType = lesson_info.type;\r\n          lesson_info_state.lessonNumber = bell.slice(5, 6);\r\n          lesson_info_state.url = lesson_info.other;\r\n          countLessons++;\r\n          day[day_num - 1].count++;\r\n\r\n        } else if (\r\n          (schedule_from_api.schedule[bell] !== undefined) &&\r\n          (lesson_info !== undefined) &&\r\n          (subgroup_name !== \"\") &&\r\n          (subgroup_name !== subgroup) &&\r\n          (subgroup !== \"\")\r\n        ) {\r\n          lesson_info_state.reset()\r\n\r\n        } else if (\r\n          (schedule_from_api.schedule[bell] !== undefined) &&\r\n          (lesson_info !== undefined)\r\n        ) {\r\n          lesson_info_state.lessonName = lesson_info.subject_name;\r\n          lesson_info_state.teacher = lesson_info.teachers[0].name;\r\n          lesson_info_state.room = lesson_info.room_name;\r\n          lesson_info_state.lessonType = lesson_info.type;\r\n          lesson_info_state.lessonNumber = bell.slice(5, 6);\r\n          lesson_info_state.url = lesson_info.other;\r\n\r\n          for (let name in lesson_info.groups) {\r\n            lesson_info_state.groupNumber += `${lesson_info.groups[name].name} `;\r\n          }\r\n          countLessons++;\r\n          day[day_num - 1].count++;\r\n\r\n        } else {\r\n          lesson_info_state.reset();\r\n        }\r\n      }\r\n      if (day[day_num - 1].count === 0)\r\n        schedule[day_num - 1][0].lessonName = NO_LESSONS_NAME;\r\n\r\n    } else {\r\n      schedule[day_num - 1][0].lessonName = NO_LESSONS_NAME;\r\n    }\r\n\r\n  }\r\n\r\n  return {schedule: schedule, day: day} as IScheduleFormatData\r\n}\r\n","export const Month = {\r\n  long: {\r\n    // родительный падеж\r\n    genitive: [\r\n      \"января\",\r\n      \"февраля\",\r\n      \"марта\",\r\n      \"апреля\",\r\n      \"мая\",\r\n      \"июня\",\r\n      \"июля\",\r\n      \"августа\",\r\n      \"сентября\",\r\n      \"октября\",\r\n      \"ноября\",\r\n      \"декабря\",\r\n    ]\r\n  }\r\n}\r\n\r\nexport default Month\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const Spacer100 = styled.div`\r\n  width: 100px;\r\n  min-height: 100px;\r\n  height: 100px;\r\n`;\r\n\r\nexport const Spacer200 = styled.div`\r\n  width: 200px;\r\n  min-height: 200px;\r\n  height: 200px;\r\n`;\r\n\r\nexport const Spacer300 = styled.div`\r\n  width: 200px;\r\n  min-height: 300px;\r\n  height: 300px;\r\n`;\r\n\r\n","export default \"data:image/png;base64,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\"","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {Button, CardHeadline2, Col, Image, Row, TextBox, TextBoxSubTitle, TextBoxTitle,  CardParagraph1, Body2\r\n} from \"@sberdevices/plasma-ui\";\r\nimport {\r\n  IconHouse,\r\n  IconNavigationArrow,\r\n  IconSettings,\r\n  IconChevronRight,\r\n  IconChevronLeft\r\n} from \"@sberdevices/plasma-icons\";\r\n\r\nimport logo from \"../images/logo.png\";\r\n\r\n\r\n\r\nexport const HeaderTitleCol = ({\r\n                       title\r\n                     }: {\r\n  title: string\r\n}) => (\r\n  <Col style={{marginLeft: \"0.5em\", paddingTop: \"0.5em\"}}>\r\n    <TextBox>\r\n      <CardHeadline2>{title}</CardHeadline2>\r\n    </TextBox>\r\n  </Col>\r\n)\r\n\r\n\r\n\r\nconst DEFAULT_SCHEDULE_TEXT = 'Расписание занятий';\r\n\r\nexport function HeaderScheduleCol({\r\n                                 label = DEFAULT_SCHEDULE_TEXT,\r\n                                 subLabel,\r\n                               }: {\r\n  label?: string\r\n  subLabel: string\r\n}) {\r\n  return (\r\n    <Col style={{marginLeft: \"0.5em\"}}>\r\n      <TextBox>\r\n        <TextBoxTitle>{label}</TextBoxTitle>\r\n        <TextBoxSubTitle>{subLabel}</TextBoxSubTitle>\r\n      </TextBox>\r\n    </Col>\r\n  )\r\n}\r\n\r\n\r\nexport const GoToNavigatorButton = ({\r\n                               onClick,\r\n                             }: {\r\n  onClick: React.MouseEventHandler<HTMLElement>\r\n}) => (\r\n  <Button\r\n    onClick={(event) => onClick(event)}\r\n    contentRight={\r\n      <IconNavigationArrow size=\"s\" color=\"inherit\"/>\r\n    }\r\n  />\r\n)\r\n\r\n\r\n\r\nexport const GoToDashboardButton = ({\r\n                               onClick,\r\n                             }: {\r\n  onClick: React.MouseEventHandler<HTMLElement>\r\n}) => (\r\n  <Button\r\n    size=\"s\"\r\n    view=\"clear\"\r\n    pin=\"circle-circle\"\r\n    onClick={(event) => onClick(event)}\r\n    contentRight={\r\n      <IconChevronLeft size=\"s\" color=\"inherit\"/>\r\n    }\r\n  />\r\n)\r\n\r\nexport const GoToHomeButton = ({\r\n                          onClick,\r\n                        }: {\r\n  onClick: React.MouseEventHandler<HTMLElement>\r\n}) => (\r\n  <Button\r\n    size=\"s\"\r\n    view=\"clear\"\r\n    pin=\"circle-circle\"\r\n    onClick={(event) => onClick(event)}\r\n    contentRight={\r\n      <IconSettings size=\"s\" color=\"inherit\"/>\r\n    }\r\n  />\r\n)\r\n\r\n\r\nexport const GoToScheduleButton = ({\r\n                                     disabled=false,\r\n                                     style={},\r\n                                     onClick,\r\n                                   }: {\r\n  disabled?: boolean\r\n  style?: Object\r\n  onClick: React.MouseEventHandler<HTMLElement>\r\n}) => (\r\n  disabled\r\n    ? <Button\r\n      view=\"clear\"\r\n      disabled={disabled}\r\n    />\r\n    : <Button\r\n      size=\"s\"\r\n      view=\"clear\"\r\n      pin=\"circle-circle\"\r\n      onClick={(event) => onClick(event)}\r\n      contentRight={\r\n        <IconChevronRight size=\"s\" color=\"inherit\"/>\r\n      }\r\n      style={style}\r\n    />\r\n)\r\n\r\nexport const TopMenu = ({\r\n                   label,\r\n                   subLabel,\r\n                   onDashboardClick,\r\n                   onHomeClick,\r\n                   Bd,\r\n                   //Load_Schedule\r\n                 }: {\r\n  label?: string \r\n  subLabel: string\r\n  // onNavigatorClick: () => void\r\n  onDashboardClick: () => void\r\n  onHomeClick: () => void\r\n  Bd: () => Promise<void>\r\n  //Load_Schedule: () => void\r\n}) => {\r\n  return (\r\n    <Row style={{margin: \"1.5em 1em 1em 0.5em \"}}>\r\n\r\n      <GoToDashboardButton\r\n                        onClick={async () => {\r\n                          onDashboardClick();\r\n                        }}\r\n                      />\r\n      <HeaderScheduleCol\r\n        label={label}\r\n        subLabel={subLabel}\r\n      />\r\n\r\n      <Col style={{margin: \"0 0 0 auto\"}}>\r\n\r\n       \r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\n\r\nexport default TopMenu\r\n","export const DEFAULT_TEXT_COLOR = 'var(--plasma-colors-white-secondary)';\r\nexport const ACCENT_TEXT_COLOR = 'var(--plasma-colors-button-accent)';\r\nexport const COLOR_BLACK = 'rgba(0,0,0, 0)';\r\n\r\nexport const COLOR_BUTTON_PRIMARY = \"var(--plasma-colors-button-primary)\";\r\nexport const COLOR_PRIMARY = \"var(--plasma-colors-primary\";\r\n\r\n","import React from \"react\";\r\nimport {DEFAULT_TEXT_COLOR} from \"./consts\";\r\n\r\nconst LINK_TEXT = 'Ссылка на онлайн-конференцию';\r\n\r\nexport const LinkToOnline = ({\r\n                               url,\r\n                               text,\r\n}: {\r\n  url: string,\r\n  text?: string,\r\n}) => (\r\n  url\r\n    ? (\r\n    <a href={url}  target=\"_blank\"\r\n       style={{ color: DEFAULT_TEXT_COLOR, fontSize:\"1em\" }}\r\n    >{ text || LINK_TEXT }</a>\r\n    )\r\n    : (\r\n      <div style={{margin: \"0\"}}></div>\r\n    )\r\n)\r\n\r\nexport default LinkToOnline;\r\n","import React from \"react\";\r\nimport {\r\n  Link\r\n} from \"react-router-dom\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {\r\n  Body2,\r\n  TextBox,\r\n  TextBoxSubTitle,\r\n  TextBoxTitle,\r\n  TextBoxLabel,\r\n  Badge,\r\n  Col,\r\n  CellListItem,\r\n} from \"@sberdevices/plasma-ui\";\r\nimport {\r\n  //IconSettings,\r\n  IconLocation,\r\n  //IconMoreVertical\r\n} from \"@sberdevices/plasma-icons\";\r\nimport {LessonStartEnd, StartEnd} from \"../App\";\r\nimport {NO_LESSONS_NAME} from '../lib/ApiHelper'\r\n//import { darkJoy, darkEva, darkSber } from \"@sberdevices/plasma-tokens/themes\";\r\n//import { createGlobalStyle } from \"styled-components\";\r\n\r\n//import { text, background, gradient } from \"@sberdevices/plasma-tokens\";\r\n// import \"../themes/App.css\";\r\nimport {ACCENT_TEXT_COLOR, COLOR_BLACK, COLOR_PRIMARY, COLOR_BUTTON_PRIMARY} from \"./consts\";\r\nimport {Bell} from \"../types/ScheduleStructure\";\r\n\r\n// import {DEFAULT_TEXT_COLOR} from '../App';\r\n// import {THIS_WEEK, THIS_OR_OTHER_WEEK} from \"../types/base.d\";\r\nimport {lessonTypeAdjToNoun} from '../language-ru/utils';\r\nimport LinkToOnline from './LinkToOnline';\r\n\r\n\r\nexport const LessonStartAndFinishTime = (\r\n  {\r\n    time\r\n  }: {\r\n    time: string\r\n  }\r\n) => {\r\n  return (\r\n    <TextBoxSubTitle lines={8}>\r\n      {time}\r\n    </TextBoxSubTitle>\r\n  )\r\n}\r\n\r\nexport const LessonName = (\r\n  {\r\n    isAccented,\r\n    text,\r\n    lessonNumber,\r\n    isCurrentWeek,\r\n    isSave,\r\n    Day\r\n  }: {\r\n    isAccented: boolean\r\n    text: string\r\n    lessonNumber: string\r\n    isCurrentWeek: boolean\r\n    isSave: boolean\r\n    Day: number\r\n  }\r\n) => {\r\n  let lessonNum = `${lessonNumber}. `\r\n  return (\r\n    <Link\r\n      to={`/lesson/${isSave}/${isCurrentWeek}/${Day}/${lessonNumber}`}\r\n      style={{\r\n        color: isAccented\r\n          ? ACCENT_TEXT_COLOR\r\n          : COLOR_BUTTON_PRIMARY\r\n        , textDecoration: 'none',\r\n\r\n      }}\r\n    >\r\n\r\n      <Body2\r\n        style={isAccented ? {color: ACCENT_TEXT_COLOR, fontSize: \"18px\"} : {color: COLOR_BUTTON_PRIMARY, fontSize: \"18px\"}}\r\n      >\r\n       {lessonNum} {text}\r\n      </Body2>\r\n\r\n    </Link>\r\n  )\r\n}\r\n\r\nexport const GroupNumber = (\r\n  {\r\n    text,\r\n  }: {\r\n    text: string\r\n  }\r\n) => {\r\n  return (\r\n    <TextBoxTitle>\r\n      {text}\r\n    </TextBoxTitle>\r\n  )\r\n}\r\n\r\nexport const TeacherName = (\r\n  {\r\n    text,\r\n    style = {},\r\n    onClick,\r\n  }: {\r\n    text: string\r\n    style?: React.CSSProperties\r\n    onClick: (event: React.MouseEvent<HTMLAnchorElement, MouseEvent>) => void\r\n  }\r\n) => {\r\n  return (\r\n    text != \"\" || text != null ? (\r\n      <a\r\n        href='#'\r\n        // style={{color: \"white\"}}\r\n        style={style}\r\n        onClick={(event) => onClick(event)}\r\n      >\r\n        {text}\r\n      </a>) : (<div style={{margin: \"0\"}}></div>)\r\n\r\n  )\r\n}\r\n\r\nexport const LessonLeftContent = (\r\n  {\r\n    text,\r\n    visible,\r\n  }: {\r\n    text: string\r\n    visible: boolean\r\n  }\r\n) => {\r\n  return (\r\n    visible\r\n      ? <Badge\r\n        text={text}\r\n        view=\"primary\"\r\n        style={{marginRight: \"0.5em\"}}\r\n        size=\"l\"\r\n      />\r\n      : <div></div>\r\n  )\r\n}\r\n\r\nconst MainContent = (\r\n  {\r\n    lessonName,\r\n    lessonNumber,\r\n    groupNumber,\r\n    teacher,\r\n    time,\r\n    url,\r\n    isAccented,\r\n    isTeacherAndValid,\r\n    isCurrentWeek,\r\n    isSave,\r\n    Day,\r\n    onTeacherClick,\r\n  }: {\r\n    lessonName: string\r\n    lessonNumber: string\r\n    groupNumber: string\r\n    teacher: string\r\n    time: string\r\n    url: string\r\n    isAccented: boolean\r\n    isTeacherAndValid: boolean\r\n    isCurrentWeek: boolean\r\n    isSave: boolean\r\n    Day: number\r\n    onTeacherClick: (teacherName: string) => void\r\n  }\r\n) => {\r\n  return (\r\n\r\n    <TextBox >\r\n      <LessonStartAndFinishTime\r\n        time={time}\r\n      />\r\n      <LessonName\r\n        isCurrentWeek={isCurrentWeek}\r\n        isSave={isSave}\r\n        Day={Day}\r\n        text={lessonName}\r\n        lessonNumber={lessonNumber}\r\n        isAccented={isAccented}\r\n      />\r\n      {\r\n        isTeacherAndValid && groupNumber != \"\"\r\n          ? <GroupNumber\r\n            text={groupNumber}\r\n          /> : <div></div>\r\n      }\r\n      {!isTeacherAndValid && teacher != \"\"\r\n        ? <TeacherName\r\n          text={teacher}\r\n          style={{color: COLOR_BUTTON_PRIMARY}}\r\n          onClick={() => onTeacherClick(teacher)}\r\n        /> : <div></div>\r\n      }\r\n      <Col size={12} style={{paddingLeft: \"0\"}}>\r\n      <LinkToOnline url={url}/>\r\n      </Col>\r\n\r\n    </TextBox>\r\n  )\r\n}\r\n\r\nexport const LessonRightContent = (\r\n  {\r\n    room,\r\n    lessonType,\r\n  }: {\r\n    room: string\r\n    lessonType: string\r\n  }\r\n) => {\r\n  return (\r\n    <TextBox>\r\n      {room ? (\r\n        <TextBoxTitle style={{fontSize: \"16px\"}}>{room}</TextBoxTitle>) : (<div></div>)\r\n      }\r\n      <TextBoxLabel >\r\n        {lessonType}\r\n      </TextBoxLabel>\r\n    </TextBox>\r\n  )\r\n}\r\n\r\n\r\nconst ScheduleLesson = (\r\n  {\r\n    lesson,\r\n    startEndTime,\r\n    isAccented,\r\n    isTeacherAndValid,\r\n    onTeacherClick,\r\n    isCurrentWeek,\r\n    isSave,\r\n    Day\r\n  }: {\r\n    lesson: Bell\r\n    startEndTime: StartEnd\r\n    isAccented: boolean\r\n    isTeacherAndValid: boolean\r\n    onTeacherClick: (teacherName: string) => void\r\n    isCurrentWeek: boolean\r\n    isSave: boolean\r\n    Day: number\r\n  }\r\n) => {\r\n\r\n  const formatStartEndTime = (startTime: string, endTime: string): string => {\r\n    return startTime ? `${startTime} - ${endTime}` : \"\";\r\n  }\r\n\r\n  return (\r\n    <CellListItem\r\n      style={{paddingLeft: \"1em\", paddingRight: \"1em\", margin: \"0\"}}\r\n      content={\r\n        lesson.lessonName != \"Пар нет 🎉\"\r\n          ? <MainContent\r\n            isCurrentWeek={isCurrentWeek}\r\n            isSave={isSave}\r\n            Day={Day}\r\n            lessonName={lesson.lessonName}\r\n            lessonNumber={lesson.lessonNumber}\r\n            groupNumber={lesson.groupNumber}\r\n            teacher={lesson.teacher}\r\n            url={lesson.url}\r\n            time={\r\n              formatStartEndTime(startEndTime.start, startEndTime.end)\r\n            }\r\n            isAccented={isAccented}\r\n            isTeacherAndValid={isTeacherAndValid}\r\n            onTeacherClick={onTeacherClick}\r\n          />\r\n          : <Body2 style={{marginLeft: \"1em\", fontSize: \"18px\"}}>\r\n            {lesson.lessonName}\r\n          </Body2>\r\n      }\r\n      contentRight={\r\n        <LessonRightContent\r\n          room={lesson.room}\r\n          lessonType={\r\n            // todo: это преобразование должно быть раньше\r\n            lessonTypeAdjToNoun(lesson.lessonType)\r\n          }\r\n        />\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nexport default ScheduleLesson\r\n","import {Row, TextBox, TextBoxBigTitle} from \"@sberdevices/plasma-ui\";\r\nimport React from \"react\";\r\n\r\nexport const DAY_OFF_TEXT = 'Выходной 😋';\r\n\r\nexport const ScheduleDayOff = () => (\r\n  <Row style={{\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    alignSelf: \"center\",\r\n    justifyContent: \"center\"\r\n  }}>\r\n    <TextBox>\r\n      <TextBoxBigTitle>{ DAY_OFF_TEXT }</TextBoxBigTitle>\r\n    </TextBox>\r\n  </Row>\r\n)\r\n\r\nexport default ScheduleDayOff;\r\n","import React, {MouseEventHandler} from \"react\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  DeviceThemeProvider,\r\n  TextBoxBiggerTitle,\r\n  Body1,\r\n  Card,\r\n  Image,\r\n  CardBody,\r\n  CardBody2,\r\n  //CardBody1,\r\n  CardContent,\r\n  //CardMedia,\r\n  CardParagraph1,\r\n  CardParagraph2,\r\n  TextBox,\r\n  CellListItem,\r\n  CardHeadline3,\r\n  LineSkeleton,\r\n  RectSkeleton,\r\n  CellDisclosure,\r\n  Caption,\r\n  Header\r\n} from '@sberdevices/plasma-ui';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {ApiModel, ITeacherSettings} from '../lib/ApiModel'\r\n//import {createGlobalStyle} from \"styled-components\";\r\nimport {\r\n  IconLocation,\r\n  IconStarFill,\r\n  IconApps,\r\n  IconEvent,\r\n  IconHelp,\r\n  IconCallCircle\r\n}\r\n  from \"@sberdevices/plasma-icons\";\r\nimport Month from \"../language-ru/Month\";\r\nimport {\r\n  DocStyle,\r\n  getThemeBackgroundByChar,\r\n} from '../themes/tools';\r\nimport {\r\n  capitalize,\r\n} from '../language-ru/utils';\r\nimport {\r\n  ITeacherValidation\r\n} from '../lib/ApiModel'\r\nimport {\r\n  formatTimeHhMm,\r\n} from '../lib/datetimeUtils';\r\nimport {StartEnd} from '../App';\r\nimport {Spacer100, Spacer200, Spacer300} from '../components/Spacers'\r\nimport DayOfWeek from \"../language-ru/DayOfWeek\";\r\n\r\nimport phone from \"../images/phone.png\";\r\nimport schedule from \"../images/schedule.png\";\r\nimport faq from \"../images/faq.png\";\r\nimport location from \"../images/location.png\";\r\nimport logo from \"../images/App Icon.png\";\r\n\r\nimport {Bell} from '../types/ScheduleStructure'\r\nimport {pairNumberToPairNumText} from '../language-ru/utils'\r\nimport {GoToHomeButton} from \"../components/TopMenu\";\r\nimport ScheduleLesson from \"../components/ScheduleLesson\";\r\nimport {history} from \"../App\";\r\nimport {AssistantWrapper} from \"../lib/AssistantWrapper\";\r\n\r\nimport {DAY_OFF_TEXT} from '../components/ScheduleDayOff'\r\nimport moment from 'moment';\r\nimport 'moment/locale/ru';\r\n\r\nconst NO_LESSONS_TODAY_TEXT = 'Сегодня пар нет';\r\n\r\nmoment.locale('ru');\r\n\r\n\r\nconst HeaderRow = ({\r\n                     onHomeClick,\r\n                     assistant\r\n                   }: {\r\n  onHomeClick: () => void\r\n  assistant: AssistantWrapper\r\n}) => (\r\n  <Row style={{\r\n    margin: \"1em\",\r\n    marginLeft: \"5%\",\r\n    marginRight: \"5%\"\r\n  }}>\r\n    <Header\r\n      back={false}\r\n      logo={logo}\r\n      title=\"Мир МИСиС\"\r\n      minimize\r\n      onMinimizeClick={() => assistant.on('exit', () => {\r\n      })}\r\n    >\r\n      <GoToHomeButton\r\n        onClick={() => onHomeClick()}\r\n      />\r\n    </Header>\r\n\r\n  </Row>\r\n)\r\n\r\n\r\nconst ScheduleSectionTitleRow = () => (\r\n  <Row>\r\n\r\n    <Col\r\n      style={{\r\n        marginLeft: \"5%\",\r\n        paddingTop: \"1.2em\"\r\n      }}\r\n    >\r\n      <IconEvent/>\r\n    </Col>\r\n\r\n    <Col style={{\r\n      paddingTop: \"1.3em\"\r\n    }}>\r\n      <TextBox>\r\n        <CardHeadline3>\r\n          Мое расписание\r\n        </CardHeadline3>\r\n      </TextBox>\r\n    </Col>\r\n\r\n  </Row>\r\n)\r\n\r\n\r\nconst CatalogueHeaderRow = () => {\r\n  return (\r\n    <Row>\r\n      <Col style={{marginLeft: \"5%\", paddingTop: \"1.6em\"}}>\r\n        <IconApps/>\r\n      </Col>\r\n      <Col style={{paddingTop: \"1.7em\"}}>\r\n        <TextBox>\r\n          <CardHeadline3>\r\n            Каталог\r\n          </CardHeadline3>\r\n        </TextBox>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\n\r\nconst TodaySummary = ({\r\n                        date,\r\n                        lessonCount,\r\n                        lessonsStart,\r\n                        lessonsEnd\r\n                      }: {\r\n  date: Date\r\n  lessonCount: number\r\n  lessonsStart: string\r\n  lessonsEnd: string\r\n}) => {\r\n  const dayOfWeek = date.getDay();\r\n  const month = date.getMonth();\r\n  const isSunday = dayOfWeek === 0;\r\n  const weekDayShortToday = capitalize(\r\n    moment(date).format('dd')\r\n  );\r\n  const dateToday = moment(date).format('DD.MM.YY');\r\n  const dateDay = dateToday.slice(0, 1) === \"0\"\r\n    ? dateToday.slice(1, 2)\r\n    : dateToday.slice(0, 2)\r\n\r\n\r\n  const formatLessonsCountFromTo = (\r\n    count: string,\r\n    from: string,\r\n    to: string,\r\n  ): string => (\r\n    `Сегодня ${count} с ${from} до ${to}`\r\n  )\r\n\r\n  return (\r\n    <Row style={{\r\n      marginLeft: \"6%\",\r\n      paddingTop: \"0.5em\",\r\n    }}>\r\n      <TextBox\r\n        // @ts-ignore\r\n\r\n      >\r\n        <CardParagraph2 style={{fontSize: \"1.4em\"}}>\r\n          {\r\n            isSunday\r\n              ? DAY_OFF_TEXT\r\n              : `${DayOfWeek.long.nominative[dayOfWeek]}, ${dateDay} ${Month.long.genitive[month]}`\r\n          }\r\n        </CardParagraph2>\r\n        <CardParagraph1 style={{color: \"grey\", paddingTop: \"0.5em\",}}>\r\n          {\r\n            !isSunday && typeof lessonCount !== 'undefined' && lessonCount !== 0\r\n              ? formatLessonsCountFromTo(\r\n                pairNumberToPairNumText(lessonCount),\r\n                lessonsStart,\r\n                lessonsEnd,\r\n              )\r\n              : NO_LESSONS_TODAY_TEXT\r\n          }\r\n        </CardParagraph1>\r\n      </TextBox>\r\n    </Row>\r\n  )\r\n}\r\n\r\n\r\nconst DashboardCard = ({\r\n                         text,\r\n                         sub,\r\n                         onClick,\r\n                       }: {\r\n  text: string\r\n  sub: string\r\n  onClick?: MouseEventHandler<HTMLElement>\r\n}) => {\r\n  return (\r\n    <Col size={2} >\r\n      <Card\r\n        style={{\r\n          height: \"180px\",\r\n          marginTop: \"5%\",\r\n          cursor: !!onClick ? 'pointer' : 'default',\r\n          display: \"flex\", flexDirection: \"column\"\r\n        }}\r\n        onClick={(event) => !!onClick ? onClick(event) : undefined}>\r\n        <CardBody >\r\n          <CardContent style={{height: \"180px\"}}>\r\n            <TextBox>\r\n              <Caption style={{color: \"grey\"}}>\r\n                {sub}\r\n              </Caption>\r\n              <CardHeadline3>\r\n                {text}\r\n              </CardHeadline3>\r\n            </TextBox>\r\n            {text == \"Другое расписание\" ?\r\n              <Col style={{margin: \"auto 0 0 0\", maxWidth: '2.3rem', padding: \"0 0 0 0\"}}>\r\n                <Image src={schedule}/>\r\n              </Col> : <div></div>\r\n            }\r\n            {text == \"Карта\" ?\r\n              <Col style={{margin: \"auto 0 0 0\", maxWidth: '2.3rem', padding: \"0 0 0 0\"}}>\r\n                <Image src={location}/>\r\n              </Col> : <div></div>\r\n            }\r\n            {text == \"FAQ\" ?\r\n              <Col style={{margin: \"auto 0 0 0\", maxWidth: '2.3rem', padding: \"0 0 0 0\"}}>\r\n                <Image src={faq}/>\r\n              </Col> : <div></div>\r\n            }\r\n            {text == \"Контакты\" ?\r\n              <Col style={{margin: \"auto 0 0 0\", maxWidth: '2.3rem', padding: \"0 0 0 0\"}}>\r\n                <Image src={phone}/>\r\n              </Col> : <div></div>\r\n            }\r\n          </CardContent>\r\n        </CardBody>\r\n      </Card>\r\n    </Col>\r\n  )\r\n}\r\n\r\nconst GetCloser = ({}: {}) => {\r\n  return (\r\n    <Row style={{marginLeft: \"4.5%\", marginRight: \"4.5%\", marginTop: \"0.5em\", paddingTop: \"0\"}}>\r\n\r\n      <Card onClick={() => history.push('/settings')} style={{padding: \"0 0 0 0\", width: \"100%\", height: \"40%\"}}>\r\n\r\n        <CardBody\r\n          style={{padding: \"0 0 0 0\"}}\r\n        >\r\n          <CardContent style={{padding: \"0 0 0 0\"}}>\r\n            <CellListItem\r\n              style={{padding: \"0 0 0 0\"}}\r\n              contentLeft={\r\n                <TextBox>\r\n                  <TextBoxBiggerTitle style={{marginRight: \"0.3em\", marginLeft: \"0.3em\", padding: \"0 0 0 0\"}}>\r\n                    🥺\r\n                  </TextBoxBiggerTitle>\r\n                </TextBox>}\r\n              content={\r\n                <TextBox>\r\n                  <Body1 style={{padding: \"0 0 0 0\"}}>\r\n                    Станем ближе?\r\n                  </Body1>\r\n                  <Body1 style={{padding: \"0 0 0 0\", color: \"grey\"}}>\r\n                    Сохрани свои данные\r\n                  </Body1>\r\n                </TextBox>\r\n\r\n              }\r\n              contentRight={\r\n                <CellDisclosure style={{marginRight: \"1em\", marginLeft: \"0.3em\", padding: \"0 0 0 0\"}}/>\r\n              }\r\n            >\r\n            </CellListItem>\r\n          </CardContent>\r\n\r\n        </CardBody>\r\n\r\n      </Card>\r\n\r\n    </Row>\r\n\r\n  )\r\n}\r\n\r\nconst CatalogueItems = ({IsStudent}: {\r\n  IsStudent: boolean\r\n}) => {\r\n\r\n  return (\r\n    <Row style={{marginLeft: \"4%\", marginRight: \"4%\"}}>\r\n\r\n\r\n      <DashboardCard\r\n        text=\"Карта\"\r\n        sub=\"Как добраться\"\r\n        onClick={() => history.push('/navigation')}\r\n      />\r\n\r\n      <DashboardCard\r\n        text=\"Другое расписание\"\r\n        sub=\"\"\r\n        onClick={() =>\r\n          IsStudent ? history.push('/home/true') : history.push('/home/false')\r\n        }\r\n      />\r\n\r\n      <DashboardCard\r\n        text=\"FAQ\"\r\n        sub=\"Часто задаваемые вопросы\"\r\n        onClick={() => history.push('/faq')}\r\n      />\r\n\r\n      <DashboardCard\r\n        text=\"Контакты\"\r\n        sub=\"Как связаться\"\r\n        onClick={() => history.push('/contacts')}\r\n      />\r\n\r\n    </Row>\r\n\r\n  )\r\n}\r\n\r\nconst ScheduleLessonTitle = ({text}: { text: string }) => (\r\n  <TextBox\r\n    // @ts-ignore\r\n\r\n  >\r\n    <CardParagraph1 style={{color: \"grey\", marginTop: \"0.5em\"}}>\r\n      {text}\r\n    </CardParagraph1>\r\n  </TextBox>\r\n)\r\n\r\n\r\nconst NoLesson = () => (\r\n  < CardBody2 style={{fontSize: \"1.1em\"}}>\r\n    Пары нет🎊\r\n  </CardBody2>\r\n)\r\n\r\nconst DashboardPage = ({\r\n                         isTeacherAndValid,\r\n                         start,\r\n                         end,\r\n                         count,\r\n                         currentLesson,\r\n                         currentLessonStartEnd,\r\n                         nextLesson,\r\n                         nextLessonStartEnd,\r\n                         apiModel,\r\n                         assistant,\r\n                         isUser\r\n                       }: {\r\n  isTeacherAndValid: boolean\r\n  count: number,\r\n  start: string,\r\n  end: string,\r\n  currentLesson: Bell,\r\n  currentLessonStartEnd: StartEnd,\r\n  nextLesson: Bell,\r\n  nextLessonStartEnd: StartEnd,\r\n  apiModel: ApiModel\r\n  assistant: AssistantWrapper\r\n  isUser: boolean\r\n}) => {\r\n\r\n  console.log('DashboardPage:', apiModel.user?.group_id, apiModel.user?.teacher_id)\r\n  // console.log('DashboardPage:', {count})\r\n  let current_date = new Date().toISOString().slice(0, 10)\r\n  return (\r\n    <Container style={{\r\n      padding: 0,\r\n      overflow: \"hidden\",\r\n      // height: '100%',\r\n      // overflow: 'auto',\r\n    }}>\r\n      <HeaderRow\r\n        // onHomeClick={() => onGoToPage(SETTING_PAGE_NO)}\r\n        assistant={assistant}\r\n        onHomeClick={() => history.push('/settings')}\r\n      />\r\n      {\r\n        apiModel.isSchedule\r\n          ? (\r\n            <Row>\r\n              <TodaySummary\r\n                date={new Date()}\r\n                lessonCount={count}\r\n                lessonsStart={start}\r\n                lessonsEnd={end}\r\n              />\r\n\r\n              <Col size={12}>\r\n                <ScheduleSectionTitleRow/>\r\n                <Card\r\n                  style={{\r\n                    marginLeft: \"4.5%\",\r\n                    marginTop: \"0.5em\",\r\n                    marginRight: \"4.5%\"\r\n                  }}\r\n                  onClick={() => {\r\n                    history.push('/schedule/' + current_date + '/' + true + '/' + true)\r\n                  }}\r\n                >\r\n\r\n                  <CardBody\r\n                    // style={{padding: \"0 0 0 0\"}}\r\n                  >\r\n                    <CardContent\r\n                      // compact\r\n                      style={{padding: \"0 0.2em 0.5em 0.8em\"}}\r\n                    >\r\n                      <ScheduleLessonTitle text=\"Сейчас\"/>\r\n                      {\r\n                        !!currentLesson && count != 0\r\n                          ? (\r\n                            <ScheduleLesson\r\n                              isCurrentWeek={true}\r\n                              isSave={true}\r\n                              Day={new Date().getDay()}\r\n                              lesson={currentLesson}\r\n                              startEndTime={currentLessonStartEnd}\r\n                              isTeacherAndValid={isTeacherAndValid}\r\n                              isAccented={true}\r\n                              // todo: задавать имя преподавателя\r\n                              onTeacherClick={(teacherName) => apiModel.CheckIsCorrectTeacher({initials: currentLesson.teacher}, false)}\r\n                            />\r\n                          )\r\n                          : <NoLesson/>\r\n                      }\r\n                    </CardContent>\r\n                    {\r\n                      !!nextLesson && count != 0 // !!nextLessonIdx\r\n                        ? (\r\n                          <CardContent style={{padding: \"0 0.2em 0.2em 0.8em\"}}>\r\n\r\n                            <ScheduleLessonTitle text=\"Дальше\"/>\r\n\r\n                            <ScheduleLesson\r\n                              isCurrentWeek={true}\r\n                              isSave={true}\r\n                              Day={new Date().getDay()}\r\n                              lesson={nextLesson}\r\n                              startEndTime={nextLessonStartEnd}\r\n                              isTeacherAndValid={isTeacherAndValid}\r\n                              isAccented={false}\r\n                              // todo: задавать имя преподавателя\r\n                              onTeacherClick={() => apiModel.CheckIsCorrectTeacher({initials: nextLesson.teacher}, false)}\r\n                            />\r\n                          </CardContent>\r\n                        )\r\n                        : (<div></div>)\r\n                    }\r\n                    <Button size=\"s\">Посмотреть всё</Button>\r\n                  </CardBody>\r\n\r\n                </Card>\r\n              </Col>\r\n\r\n\r\n            </Row>\r\n          )\r\n          : (<div></div>)}\r\n\r\n\r\n      {\r\n        !apiModel.isSchedule && apiModel.isSavedUser && (apiModel.user?.group_id != \"\" || apiModel.user?.teacher_id != \"\") || !isUser\r\n          ? (\r\n            <Col>\r\n              <LineSkeleton size=\"headline2\" roundness={8} style={{marginLeft: \"4%\", marginRight: \"4%\", width: \"95%\"}}/>\r\n              <LineSkeleton size=\"headline3\" roundness={8} style={{marginLeft: \"4%\", marginRight: \"4%\", width: \"95%\"}}/>\r\n              <ScheduleSectionTitleRow/>\r\n              <RectSkeleton width=\"95%\" height=\"10rem\" style={{marginTop: \"0.5em\", marginLeft: \"4%\", marginRight: \"4%\"}}\r\n                            roundness={16}/>\r\n            </Col>\r\n          ) :\r\n          (\r\n            <div></div>\r\n          )\r\n\r\n\r\n      }\r\n      {\r\n        isUser && (apiModel.user?.group_id == \"\" || apiModel.user?.group_id == undefined) && (apiModel.user?.teacher_id == \"\" || apiModel.user?.teacher_id == undefined)\r\n          ? (<GetCloser/>)\r\n          : (<div></div>)}\r\n      <CatalogueHeaderRow/>\r\n\r\n      <CatalogueItems\r\n        IsStudent={apiModel.isStudent}\r\n      />\r\n\r\n      <Spacer300/>\r\n\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default DashboardPage\r\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import React, {DetailedHTMLProps, HTMLAttributes} from \"react\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Cell,\r\n  HeaderBack,\r\n  HeaderLogo,\r\n  HeaderTitle,\r\n  HeaderTitleWrapper,\r\n  HeaderRoot,\r\n} from '@sberdevices/plasma-ui';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport logo from \"../../images/App Icon.png\";\r\nimport {history} from '../../App';\r\nimport {Spacer200} from '../Spacers'\r\n\r\n\r\ninterface MainProps {\r\n  contentRight: DetailedHTMLProps<HTMLAttributes<HTMLDivElement>, HTMLDivElement>\r\n}\r\n\r\nconst Main = ({\r\n                contentRight,\r\n              }: MainProps) => {\r\n\r\n  const TopMenuRow = () => (\r\n    <Row style={{\r\n      margin: \"1em\", marginLeft: \"5%\",\r\n      marginRight: \"5%\"\r\n    }}>\r\n      <HeaderRoot>\r\n        <HeaderBack onClick={() => history.push('/dashboard')}/>\r\n        <HeaderLogo src={logo} alt=\"Logo\" onClick={() => history.push('/dashboard')}/>\r\n        <HeaderTitleWrapper>\r\n          <HeaderTitle>Другое расписание</HeaderTitle>\r\n        </HeaderTitleWrapper>\r\n      </HeaderRoot>\r\n    </Row>\r\n  )\r\n\r\n  return (\r\n    <Container\r\n      style={{padding: 0, overflow: \"hidden\"}}\r\n    >\r\n      <TopMenuRow/>\r\n      <Cell\r\n        content={\r\n          contentRight\r\n        }\r\n        style={{\r\n          padding: '0',\r\n          margin: '0 auto',\r\n        }}\r\n      >\r\n      </Cell>\r\n      <Spacer200/>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Main\r\n","import React from \"react\";\r\nimport {Row, Tabs, TabItem} from '@sberdevices/plasma-ui';\r\n\r\nexport const TabSelectorRow = ({\r\n                              tabs,\r\n                              selectedIndex,\r\n                              onSelect,\r\n                            }: {\r\n  tabs: string[],\r\n  selectedIndex: number,\r\n  onSelect: (tabIndex: number) => void\r\n}) => {\r\n  console.log(selectedIndex, \"selectedIndex\");\r\n  return (\r\n    <Row style={{\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      alignItems: \"center\",\r\n      justifyContent: \"center\"\r\n    }}>\r\n      <Tabs view=\"secondary\" size=\"m\">\r\n        {\r\n          tabs.map(\r\n            (tabText, i) =>\r\n              <TabItem\r\n                key={tabText}\r\n                isActive={i === selectedIndex}\r\n                onClick={() => onSelect(i)}\r\n              >\r\n                {tabText}\r\n              </TabItem>\r\n          )\r\n        }\r\n      </Tabs>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default TabSelectorRow\r\n","import React from \"react\";\r\nimport {Row, Button} from '@sberdevices/plasma-ui';\r\n\r\n\r\nexport const ShowScheduleButtonRow = ({\r\n                               onClick\r\n                             }: {\r\n  onClick: (event: React.MouseEventHandler<HTMLElement>) => void\r\n}) => {\r\n  return (\r\n    <Row\r\n      style={{\r\n        display: \"flex\",\r\n        alignItems: \"flex-start\",\r\n        justifyContent: \"center\",\r\n        margin: \"0.5em\"\r\n      }}\r\n    >\r\n      <Button\r\n        text=\"Посмотреть расписание\"\r\n        view=\"primary\"\r\n        onClick={onClick}\r\n        style={{margin: \"1.5%\"}}\r\n      />\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default ShowScheduleButtonRow\r\n","import React from \"react\";\r\nimport {Row} from '@sberdevices/plasma-ui';\r\nimport {\r\n  Checkbox\r\n} from \"@sberdevices/plasma-ui\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\n\r\nexport const RememberCheckboxRow = ({\r\n                                       label,\r\n                                       checked,\r\n                                       onChange,\r\n                                     }: {\r\n  label: string\r\n  checked: boolean\r\n  onChange: (value: boolean) => void\r\n}) => {\r\n  return (\r\n    <Row\r\n      style={{\r\n        display: \"flex\",\r\n        alignItems: \"flex-start\",\r\n        justifyContent: \"center\",\r\n        margin: \"0.8em\"\r\n      }}\r\n    >\r\n      <Checkbox\r\n        label={label}\r\n        checked={checked}\r\n        onChange={(event) => onChange(event.target.checked)}\r\n      />\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default RememberCheckboxRow\r\n","import React from \"react\";\r\nimport {\r\n  TextBoxBigTitle,\r\n  TextBox,\r\n  TextBoxLabel,\r\n  TextField,\r\n  Container,\r\n} from \"@sberdevices/plasma-ui\";\r\nimport {\r\n  ApiModel,\r\n  IStudentValidation,\r\n  ITeacherValidation,\r\n  IStudentSettings,\r\n  ITeacherSettings,\r\n\r\n} from '../lib/ApiModel'\r\nimport {history} from \"../App\";\r\nimport {AssistantWrapper} from \"../lib/AssistantWrapper\";\r\nimport Main from '../components/Home/Main';\r\nimport TabSelectorRow from '../components/Home/TabSelectorRow'\r\nimport {ShowScheduleButtonRow} from '../components/Home/ShowScheduleButtonRow'\r\nimport {RememberCheckboxRow} from '../components/Home/RememberCheckboxRow'\r\n\r\nconst HOME_TITLE = 'Салют!';\r\n// const DESC_JOY = \"Заполни данные, чтобы открывать расписание одной фразой\";\r\n// const DESC_OTHERS = \"Чтобы посмотреть расписание, укажите данные учебной группы\";\r\n\r\nconst LABEL_GROUP = \"Номер академической группы через дефисы\";\r\nconst LABEL_SUB_GROUP = \"Номер подгруппы: 1 или 2\";\r\nconst LABEL_ENG_GROUP = \"Число номера группы по английскому\";\r\nconst LABEL_TEACHER = \"Фамилия И. О.\";\r\nconst LABEL_REMEMBER_FIO = \"Запомнить ФИО, если Вы преподаватель \";\r\nconst LABEL_TO_VIEW_SCHEDULE = \"Чтобы посмотреть расписание, укажите фамилию и инициалы через пробел и точку\";\r\nconst LABEL_REMEMBER_GROUP = \"Запомнить эту группу \";\r\n\r\nexport const USER_MODES = [\r\n  'Студент',\r\n  'Преподаватель',\r\n];\r\n\r\n\r\nconst HomeTitle = ({\r\n                     text,\r\n                   }: {\r\n  text: string\r\n}) => (\r\n  <TextBox>\r\n    <TextBoxBigTitle\r\n      style={{\r\n        margin: '1.5%',\r\n        textAlign: \"center\",\r\n      }}\r\n    >\r\n      {text}\r\n    </TextBoxBigTitle>\r\n  </TextBox>\r\n)\r\n\r\nconst HomeDescription = ({\r\n                           text,\r\n                         }: {\r\n  text: string\r\n}) => (\r\n  <TextBox>\r\n    <TextBoxLabel style={{\r\n      margin: '1.5em',\r\n      textAlign: \"center\"\r\n    }}>\r\n      {text}\r\n    </TextBoxLabel>\r\n  </TextBox>\r\n\r\n)\r\n\r\n\r\nconst TextFieldForUserInfo = ({\r\n                                label,\r\n                                value,\r\n                                isError,\r\n                                // fieldType,\r\n                                onChange,\r\n                              }: {\r\n  label: string\r\n  value: string\r\n  isError: boolean\r\n  // fieldType: string\r\n  onChange: (value: string) => void\r\n}) => {\r\n\r\n  return (\r\n    <TextField\r\n      // id=\"tf\"\r\n      label={label}\r\n      status={isError ? 'error' : undefined}\r\n      className=\"editText\"\r\n      // placeholder=\"Напиши номер своей академической группы\"\r\n      value={value}\r\n      style={{margin: \"0.5em\"}}\r\n      // onChange={(event) => {\r\n      //   onChange(fieldType, event.target.value)\r\n      // }}\r\n      onChange={(event) => {\r\n        onChange(event.target.value)\r\n      }}\r\n    />\r\n  )\r\n}\r\n\r\n\r\ninterface HomeViewProps {\r\n  assistant: AssistantWrapper\r\n  description: string\r\n  // onShowScheduleClick: (IsSave: boolean, IsCurrentWeek: boolean) => void\r\n  apiModel: ApiModel\r\n  IsStudent: boolean\r\n}\r\n\r\ninterface HomeViewState {\r\n  disabled: boolean\r\n  studentSettings: IStudentSettings\r\n  teacherSettings: ITeacherSettings\r\n  studentValidation: IStudentValidation\r\n  teacherValidation: ITeacherValidation\r\n  IsSave: boolean\r\n}\r\n\r\nclass HomePage extends React.Component<HomeViewProps, HomeViewState> {\r\n\r\n  constructor(props: HomeViewProps) {\r\n    super(props);\r\n    let disabled = true;\r\n    if (props.apiModel.user != undefined && props.apiModel.user?.group_id !== \"\") disabled = false;\r\n    let user = this.props.apiModel.user;\r\n    this.state = {\r\n      disabled: disabled,\r\n      studentSettings: {\r\n        groupName: user == undefined ? \"\" : user.group,\r\n        subGroupName: user?.subgroup_name == undefined ? \"\" : user.subgroup_name,\r\n        engGroupName: user?.eng_group == undefined ? \"\" : user.eng_group,\r\n      },\r\n      teacherSettings: {\r\n        initials: user == undefined ? \"\" : user.teacher\r\n      },\r\n      studentValidation: {\r\n        IsGroupNameError: false,\r\n        IsSubGroupError: false,\r\n        IsEngGroupError: false\r\n      },\r\n      teacherValidation: {IsInitialsError: false},\r\n      IsSave: false\r\n    }\r\n    this.handleAssistantActionGroup.bind(this);\r\n    this.handleAssistantActionSubGroup.bind(this)\r\n    this.handleAssistantActionEngGroup.bind(this)\r\n    this.handleAssistantActionShowSchedule.bind(this)\r\n    console.log('HomePage:', this.state.studentSettings, \"Student Settings\")\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    this.props.assistant.on('action-group', this.handleAssistantActionGroup);\r\n    this.props.assistant.on('action-subGroup', this.handleAssistantActionSubGroup)\r\n    this.props.assistant.on('action-engGroup', this.handleAssistantActionEngGroup)\r\n    this.props.assistant.on('show_schedule', this.handleAssistantActionShowSchedule)\r\n  }\r\n\r\n\r\n  componentWillUnmount() {\r\n    this.props.assistant.removeListener('action-group', this.handleAssistantActionGroup);\r\n    this.props.assistant.removeListener('action-subGroup', this.handleAssistantActionSubGroup)\r\n    this.props.assistant.removeListener('action-engGroup', this.handleAssistantActionEngGroup)\r\n    this.props.assistant.removeListener('show_schedule', this.handleAssistantActionShowSchedule)\r\n  }\r\n\r\n\r\n  handleAssistantActionGroup(group) {\r\n    console.log('action-group', group)\r\n  }\r\n\r\n  handleAssistantActionSubGroup(subGroup) {\r\n    let settings = this.state.studentSettings\r\n    this.setState({\r\n      studentSettings: {\r\n        groupName: settings.groupName,\r\n        engGroupName: settings.engGroupName,\r\n        subGroupName: subGroup\r\n      }\r\n    })\r\n  }\r\n\r\n  handleAssistantActionEngGroup(engGroup) {\r\n    let settings = this.state.studentSettings\r\n    this.setState({\r\n      studentSettings: {\r\n        groupName: settings.groupName,\r\n        engGroupName: engGroup,\r\n        subGroupName: settings.subGroupName\r\n      }\r\n    })\r\n  }\r\n\r\n  async handleAssistantActionShowSchedule() {\r\n    this.props.IsStudent\r\n      ? await this.save_student()\r\n      : await this.save_teacher()\r\n  }\r\n\r\n\r\n  goToSchedule(isSave: boolean, isCurrentWeek: boolean) {\r\n    let current_date = new Date().toISOString().slice(0, 10)\r\n    history.push('/schedule/' + current_date + '/' + isSave + '/' + isCurrentWeek)\r\n  }\r\n\r\n  async save_teacher() {\r\n    let teacherValidation = await this.props.apiModel.CheckIsCorrectTeacher(this.state.teacherSettings, this.state.IsSave)\r\n    // console.log(\"Teacher validation\", teacherValidation)\r\n    if (!teacherValidation.IsInitialsError) {\r\n      // console.log(\"Show Schedule\")\r\n      // console.log(this.props.apiModel)\r\n      this.goToSchedule(this.state.IsSave, true)\r\n    } else {\r\n      this.setState({teacherValidation: {IsInitialsError: teacherValidation.IsInitialsError}})\r\n    }\r\n  }\r\n\r\n  async save_student() {\r\n    let isCorrect = await this.props.apiModel.CheckIsCorrectStudent(this.state.studentSettings, this.state.IsSave)\r\n    if (!isCorrect.IsEngGroupError && !isCorrect.IsGroupNameError && !isCorrect.IsSubGroupError) {\r\n      // console.log(this.state.IsSave)\r\n      this.props.apiModel.isSavedSchedule = this.state.IsSave\r\n      await this.props.apiModel.LoadSchedule(this.state.IsSave)\r\n      this.goToSchedule(this.state.IsSave, true)\r\n    } else {\r\n      this.setState({\r\n        studentValidation: {\r\n          IsEngGroupError: isCorrect.IsEngGroupError,\r\n          IsGroupNameError: isCorrect.IsGroupNameError,\r\n          IsSubGroupError: isCorrect.IsSubGroupError\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    const studentContent = (\r\n      <Container style={{\r\n        padding: 0,\r\n        // overflow: \"hidden\",\r\n        height: '100%',\r\n      }}>\r\n\r\n        <TabSelectorRow\r\n          tabs={USER_MODES}\r\n          selectedIndex={this.props.IsStudent ? 0 : 1}\r\n          onSelect={(tabIndex) => tabIndex === 0 ? history.push('/home/true') : history.push('/home/false')}\r\n        />\r\n\r\n        <HomeDescription\r\n          text={this.props.description}\r\n        />\r\n\r\n        <TextFieldForUserInfo\r\n          label={LABEL_GROUP}\r\n          isError={this.state.studentValidation.IsGroupNameError}\r\n          value={this.state.studentSettings.groupName}\r\n          onChange={(value) => this.setState(prevState => ({\r\n            studentSettings: {\r\n              ...prevState.studentSettings,\r\n              groupName: value,\r\n            }\r\n          }))\r\n          }\r\n\r\n        />\r\n\r\n        <TextFieldForUserInfo\r\n          label={LABEL_SUB_GROUP}\r\n          isError={this.state.studentValidation.IsSubGroupError}\r\n          value={this.state.studentSettings.subGroupName}\r\n          onChange={(value) => this.setState(prevState => ({\r\n            studentSettings: {\r\n              ...prevState.studentSettings,\r\n              subGroupName: value,\r\n            }\r\n          }))\r\n          }\r\n        />\r\n\r\n        <TextFieldForUserInfo\r\n          label={LABEL_ENG_GROUP}\r\n          isError={this.state.studentValidation.IsEngGroupError}\r\n          value={this.state.studentSettings.engGroupName}\r\n          onChange={(value) => this.setState(prevState => ({\r\n            studentSettings: {\r\n              ...prevState.studentSettings,\r\n              engGroupName: value,\r\n            }\r\n          }))\r\n          }\r\n        />\r\n\r\n        <RememberCheckboxRow\r\n          label={LABEL_REMEMBER_GROUP}\r\n          checked={this.state.IsSave}\r\n          onChange={(value) => {\r\n            this.setState({IsSave: value})\r\n          }}\r\n        />\r\n\r\n        <ShowScheduleButtonRow\r\n          onClick={async () => {\r\n            await this.save_student()\r\n          }}\r\n        />\r\n\r\n      </Container>\r\n    );\r\n\r\n    const teacherContent = (\r\n      <Container style={{padding: 0}}>\r\n\r\n        <TabSelectorRow\r\n          tabs={USER_MODES}\r\n          selectedIndex={this.props.IsStudent ? 0 : 1}\r\n          onSelect={(tabIndex) => tabIndex === 0\r\n            ? history.push('/Home/true')\r\n            : history.push('/Home/false')}\r\n        />\r\n\r\n        <HomeDescription\r\n          text={LABEL_TO_VIEW_SCHEDULE}\r\n        />\r\n\r\n        <TextFieldForUserInfo\r\n          label={LABEL_TEACHER}\r\n          value={this.state.teacherSettings.initials}\r\n          isError={this.state.teacherValidation.IsInitialsError}\r\n          onChange={(value) => this.setState({teacherSettings: {initials: value}})}\r\n        />\r\n\r\n        <RememberCheckboxRow\r\n          label={LABEL_REMEMBER_FIO}\r\n          checked={this.state.IsSave}\r\n          onChange={(value) => this.setState({IsSave: value})\r\n          }\r\n        />\r\n\r\n        <ShowScheduleButtonRow\r\n          onClick={async () => {\r\n            await this.save_teacher()\r\n          }}\r\n        />\r\n\r\n      </Container>\r\n    )\r\n\r\n    const mainContent = this.props.IsStudent\r\n      ? studentContent\r\n      : teacherContent;\r\n\r\n    return (\r\n      <Main\r\n        contentRight={mainContent}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nexport default HomePage\r\n","import React from \"react\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {\r\n  CellListItem, Card, CardBody, CardContent,\r\n} from \"@sberdevices/plasma-ui\";\r\nimport social_media from '../data/social_media.json';\r\n\r\n\r\nexport const SocialListItem = ({\r\n                                 logo,\r\n                                 name,\r\n                                 link,\r\n                               }: {\r\n  logo: string,\r\n  name: string,\r\n  link: string,\r\n}) =>\r\n  (\r\n    <CellListItem\r\n      contentLeft={\r\n        <div>\r\n          <a href={link}><img src={logo}></img></a>\r\n        </div>\r\n      }\r\n      content={\r\n        <a href={link} style={{color: 'var(--plasma-colors-button-primary)', marginLeft: \"1em\"}}>{name}</a>\r\n      }\r\n    />\r\n  )\r\n\r\n\r\nexport const SocialList = ({}: {}) => (\r\n  <Card>\r\n    <CardBody style={{padding: \"0 0 0 0\"}}>\r\n\r\n\r\n      <CardContent compact style={{padding: \"1em\"}}>\r\n\r\n\r\n        {\r\n          social_media.map((media,index) => //console.log(media, i)\r\n            (\r\n              <SocialListItem\r\n                key={index}\r\n                logo={media.logo}\r\n                name={media.name}\r\n                link={media.link}\r\n              />\r\n            )\r\n          )\r\n        }\r\n      </CardContent>\r\n\r\n    </CardBody>\r\n  </Card>\r\n)\r\n","import React from \"react\";\r\nimport {Col} from '@sberdevices/plasma-ui';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  CardContent,\r\n  TextBox,\r\n  Headline3,\r\n  Body1,\r\n  Caption,\r\n} from \"@sberdevices/plasma-ui\";\r\n\r\nexport const ContactsCard = ({\r\n                               site,\r\n                               text,\r\n                               tel,\r\n                               mail\r\n                             }: {\r\n  site: string\r\n  text: string\r\n  tel: string,\r\n  mail: string,\r\n}) => {\r\n  return (\r\n    <Col style={{margin: \"0 1em 1em 1em\"}}>\r\n      <Headline3>\r\n        {text}\r\n      </Headline3>\r\n      <Card\r\n        style={{\r\n          marginTop: \"0.5em\",\r\n        }}\r\n      >\r\n        <CardBody>\r\n          <CardContent>\r\n\r\n            {\r\n              site !== \"\" ? (\r\n                  <TextBox>\r\n                    <Caption style={{color: \"grey\"}}>\r\n                      Ссылка\r\n                    </Caption>\r\n                    <Body1 style={{color: \"var(--plasma-colors-button-primary)\"}}>\r\n                      <a  target=\"_blank\" href={site} style={{color: \"var(--plasma-colors-button-primary)\"}}>\r\n                        {site}\r\n                      </a>\r\n                    </Body1>\r\n                  </TextBox>\r\n                ) :\r\n                (<div></div>)\r\n            }\r\n\r\n            {\r\n              mail !== \"\" && tel !== \"\" ?\r\n              (\r\n                <TextBox>\r\n                  <Caption style={{color: \"grey\"}}>\r\n                    Телефон\r\n                  </Caption>\r\n                  <Body1 style={{color: \"var(--plasma-colors-button-primary)\"}}>\r\n                    <a href={`tel:${tel}`} style={{color: \"var(--plasma-colors-button-primary)\"}}>\r\n                      {tel}\r\n                    </a>\r\n                  </Body1>\r\n\r\n                  <Caption style={{color: \"grey\"}}>\r\n                    Почта\r\n                  </Caption>\r\n                  <a href={`mailto:`+mail} style={{color: \"var(--plasma-colors-button-primary)\"}}>\r\n                    {mail}\r\n                  </a>\r\n                </TextBox>\r\n              ) : (<div></div>)\r\n\r\n            }\r\n          </CardContent>\r\n        </CardBody>\r\n      </Card>\r\n    </Col>\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {\r\n  Container,\r\n  Row,\r\n  Headline3,\r\n  HeaderBack,\r\n  HeaderLogo,\r\n  HeaderTitle,\r\n  HeaderTitleWrapper,\r\n  HeaderRoot,\r\n} from \"@sberdevices/plasma-ui\";\r\nimport {history} from \"../App\";\r\nimport {Spacer300} from '../components/Spacers'\r\nimport contacts_data from '../data/contacts.json';\r\nimport logo from \"../images/App Icon.png\";\r\nimport {SocialList} from '../components/SocialList'\r\nimport {ContactsCard} from '../components/ContactsCard'\r\n\r\n\r\nconst Contacts = ({\r\n                  }: {\r\n}) => {\r\n  return (\r\n    <Container style={{\r\n      padding: 0,\r\n      // overflow: \"hidden\",\r\n      height: '100%',\r\n      overflow: 'auto',\r\n    }}>\r\n\r\n      <Row style={{\r\n        margin: \"1em\",\r\n        marginLeft: \"5%\",\r\n        marginRight: \"5%\"\r\n      }}>\r\n        <HeaderRoot>\r\n          <HeaderBack\r\n            onClick={() => history.push(\"/dashboard\")}\r\n          />\r\n          <HeaderLogo\r\n            src={logo}\r\n            alt=\"Logo\"\r\n            onClick={() => history.push(\"/dashboard\")}\r\n          />\r\n          <HeaderTitleWrapper>\r\n            <HeaderTitle>Контакты</HeaderTitle>\r\n          </HeaderTitleWrapper>\r\n        </HeaderRoot>\r\n        {/* <Header\r\n            back={true}\r\n            title=\"Контакты\"\r\n            onBackClick={() => onDashboardClick()}\r\n          >\r\n          </Header> */}\r\n\r\n      </Row>\r\n      {\r\n        contacts_data.map((contact, index) => (\r\n          <ContactsCard\r\n            key={index}\r\n            site={contact.site}\r\n            text={contact.text}\r\n            tel={contact.tel}\r\n            mail={contact.mail}\r\n          />\r\n        ))\r\n      }\r\n\r\n      <div style={{margin: \"0 1.3em 1.3em 1.3em\"}}>\r\n        <Headline3 style={{marginBottom: \"0.5em\"}}>\r\n          Мы в социальных сетях\r\n        </Headline3>\r\n        <SocialList/>\r\n      </div>\r\n\r\n      <Spacer300/>\r\n\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Contacts\r\n","export default __webpack_public_path__ + \"static/media/lib.268889e0.jpeg\";","import React, {useState} from \"react\";\r\nimport {Col, Row} from '@sberdevices/plasma-ui';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport lib from \"../images/lib.jpeg\";\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  CardMedia,\r\n  CardContent,\r\n  TextBox,\r\n  Headline3,\r\n  Body1,\r\n  TextBoxLabel,\r\n  Caption,\r\n  Button,\r\n  CellListItem\r\n} from \"@sberdevices/plasma-ui\";\r\n//import {  } from \"@sberdevices/plasma-ui/node_modules/@sberdevices/plasma-core\";\r\nimport {\r\n  IconChevronDown, IconChevronUp\r\n} from \"@sberdevices/plasma-icons\";\r\n\r\n\r\nexport const Libraries = ({\r\n                            questions,\r\n                            text,\r\n                            answers,\r\n                            site\r\n                          }: {\r\n  questions: string\r\n  text: string\r\n  answers: string[],\r\n  site: string\r\n}) => {\r\n  const [flag, setFlag] = useState(false);\r\n  const Click = () => {\r\n\r\n    setFlag(!flag);\r\n  }\r\n  return (\r\n    <Col style={{margin: \"0 1em 1em 1em\"}}>\r\n      <Headline3>\r\n        {text}\r\n      </Headline3>\r\n      <Card\r\n        style={{\r\n          marginTop: \"0.5em\",\r\n        }}\r\n      >\r\n        <CardBody style={{padding: \"0 0 0 0\"}}>\r\n          <CardContent style={{padding: \"0 0 0 0\"}}>\r\n            <CellListItem\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"row\",\r\n                alignItems: \"flex-start\",\r\n                padding: \"0 0 0 0\",\r\n                paddingLeft: \"0.5em\"\r\n              }}\r\n\r\n              contentRight={\r\n                <Button\r\n                  style={{display: \"flex\", flexDirection: \"row\", alignItems: \"flex-start\", margin: \"0 0 auto 0\"}}\r\n                  size=\"s\"\r\n                  view=\"clear\"\r\n                  pin=\"circle-circle\"\r\n                  onClick={() => {\r\n                    Click()\r\n                  }}\r\n                  contentRight={!flag ? (\r\n                    <IconChevronDown size=\"s\" color=\"inherit\"/>) : (<IconChevronUp size=\"s\" color=\"inherit\"/>)\r\n                  }/>\r\n              }\r\n\r\n              content={\r\n                flag ? (\r\n\r\n                  <TextBox>\r\n                    <TextBoxLabel style={{color: \"grey\"}}>\r\n                      {questions}\r\n                    </TextBoxLabel>\r\n                    {answers.map((answer) => (\r\n                      <Body1 style={{color: \"var(--plasma-colors-button-primary)\"}}>\r\n                        {answer}\r\n                      </Body1>\r\n                    ))}\r\n                    <a href={site} style={{color: \"var(--plasma-colors-button-primary)\"}}>{site}</a>\r\n                  </TextBox>\r\n                ) : (\r\n                  <TextBox>\r\n                    <Row style={{display: \"flex\", flexDirection: \"row\", justifyContent: \"space-between\"}}>\r\n                      <Col>\r\n                        <TextBoxLabel style={{color: \"grey\"}}>\r\n                          {questions}\r\n                        </TextBoxLabel>\r\n                      </Col>\r\n                    </Row>\r\n                  </TextBox>\r\n                )\r\n              }\r\n            />\r\n          </CardContent>\r\n          {\r\n            flag ? (<CardMedia src={lib}/>) : (<div></div>)\r\n          }\r\n        </CardBody>\r\n      </Card>\r\n    </Col>\r\n  )\r\n}\r\n","import React, {useState} from \"react\";\r\nimport {Col, Row} from '@sberdevices/plasma-ui';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  CardContent,\r\n  TextBox,\r\n  Headline3,\r\n  Body1,\r\n  TextBoxLabel,\r\n  Caption,\r\n  Button,\r\n  CellListItem\r\n} from \"@sberdevices/plasma-ui\";\r\n//import {  } from \"@sberdevices/plasma-ui/node_modules/@sberdevices/plasma-core\";\r\nimport {\r\n  IconChevronDown, IconChevronUp\r\n} from \"@sberdevices/plasma-icons\";\r\n\r\n\r\nexport const FAQCard = ({\r\n                          questions,\r\n                          text,\r\n                          answers\r\n                        }: {\r\n  questions: string\r\n  text: string\r\n  answers: string[]\r\n}) => {\r\n  const [flag, setFlag] = useState(false);\r\n  const Click = () => {\r\n\r\n    setFlag(!flag);\r\n  }\r\n  return (\r\n    <Col style={{margin: \"0 1em 1em 1em\"}}>\r\n      <Headline3>\r\n        {text}\r\n      </Headline3>\r\n      <Card\r\n        style={{\r\n          marginTop: \"0.5em\",\r\n        }}\r\n      >\r\n        <CardBody style={{padding: \"0 0 0 0\"}}>\r\n          <CardContent style={{padding: \"0 0 0 0\"}}>\r\n            <CellListItem\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"row\",\r\n                alignItems: \"flex-start\",\r\n                padding: \"0 0 0 0\",\r\n                paddingLeft: \"0.5em\"\r\n              }}\r\n\r\n              contentRight={\r\n                <Button\r\n                  style={{display: \"flex\", flexDirection: \"row\", alignItems: \"flex-start\", margin: \"0 0 auto 0\"}}\r\n                  size=\"s\"\r\n                  view=\"clear\"\r\n                  pin=\"circle-circle\"\r\n                  onClick={() => {\r\n                    Click()\r\n                  }}\r\n                  contentRight={\r\n                    !flag\r\n                      ? <IconChevronDown size=\"s\" color=\"inherit\"/>\r\n                      : <IconChevronUp size=\"s\" color=\"inherit\"/>\r\n                  }\r\n                />\r\n              }\r\n\r\n              content={\r\n                flag ? (\r\n\r\n                    <TextBox>\r\n                      <Row>\r\n                        <Col style={{margin: \"0 0 0 0\"}}>\r\n                          <TextBoxLabel style={{color: \"grey\"}}>\r\n                            {questions}\r\n                          </TextBoxLabel>\r\n                        </Col>\r\n                      </Row>\r\n                      {\r\n                        answers?.map((answer, index) => (\r\n                          <Body1\r\n                            key={index}\r\n                            style={{color: 'var(--plasma-colors-button-primary)'}}\r\n                          >\r\n                            {answer}\r\n                          </Body1>\r\n                        ))\r\n                      }\r\n                    </TextBox>)\r\n                  : (\r\n                    <TextBox>\r\n                      <Row\r\n                        style={{display: \"flex\", flexDirection: \"row\", justifyContent: \"space-between\"}}\r\n                      >\r\n                        <Col>\r\n                          <TextBoxLabel style={{color: \"grey\"}}>\r\n                            {questions}\r\n                          </TextBoxLabel>\r\n                        </Col>\r\n                      </Row>\r\n                    </TextBox>)\r\n              }\r\n            />\r\n          </CardContent>\r\n        </CardBody>\r\n      </Card>\r\n    </Col>\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {\r\n  Container,\r\n  Row,\r\n  HeaderBack,\r\n  HeaderLogo,\r\n  HeaderTitle,\r\n  HeaderTitleWrapper,\r\n  HeaderRoot,\r\n} from \"@sberdevices/plasma-ui\";\r\nimport {history} from \"../App\";\r\nimport {Spacer300} from '../components/Spacers'\r\nimport faq from '../data/faq.json';\r\nimport lib from '../data/libraries.json';\r\nimport logo from \"../images/App Icon.png\";\r\n\r\nimport {Libraries} from '../components/Libraries'\r\nimport {FAQCard} from '../components/FAQCard'\r\nimport {\r\n  GoToDashboardButton,\r\n} from '../components/TopMenu';\r\n\r\n\r\nconst FAQ = ({}: {}) => {\r\n  \r\n  return (\r\n    <Container style={{\r\n      padding: 0,\r\n      // overflow: \"hidden\",\r\n      height: '100%',\r\n      overflow: 'auto',\r\n    }}>\r\n\r\n      <Row style={{margin: \"1em\", marginLeft: \"5%\", marginRight: \"5%\"}}>\r\n        <HeaderRoot>\r\n          <HeaderBack\r\n            onClick={() => history.push(\"/dashboard\")}\r\n          />\r\n          <HeaderLogo\r\n            src={logo}\r\n            alt=\"Logo\"\r\n            onClick={() => history.push(\"/dashboard\")}\r\n          />\r\n          <HeaderTitleWrapper>\r\n            <HeaderTitle>Часто задаваемые вопросы</HeaderTitle>\r\n          </HeaderTitleWrapper>\r\n        </HeaderRoot>\r\n      </Row>\r\n\r\n      {\r\n        faq?.map((faq, index) => (\r\n          <FAQCard\r\n\r\n            key={index}\r\n            questions={faq.questions}\r\n            text={faq.text}\r\n            answers={faq.answers}\r\n          />\r\n        ))\r\n      }\r\n\r\n      {\r\n        lib?.map((lib, index) => (\r\n          <Libraries\r\n            key={index}\r\n            questions={lib.questions}\r\n            text={lib.text}\r\n            answers={lib.answers}\r\n            site={lib.site}\r\n          />\r\n        ))\r\n      }\r\n\r\n      <Spacer300/>\r\n\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default FAQ\r\n","export default __webpack_public_path__ + \"static/media/Star-1.29be49e3.png\";","import React from \"react\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  DeviceThemeProvider,\r\n  TextBox,\r\n  Header,\r\n  Headline1,\r\n  Button,\r\n  Image,\r\n  ParagraphText1,\r\n  HeaderBack,\r\n  HeaderLogo,\r\n  HeaderTitle,\r\n  HeaderTitleWrapper,\r\n  HeaderContent,\r\n  HeaderRoot,\r\n  HeaderMinimize\r\n} from \"@sberdevices/plasma-ui\";\r\nimport {AssistantWrapper} from \"../lib/AssistantWrapper\"\r\nimport star from \"../images/Star-1.png\";\r\nimport {DocStyle, getThemeBackgroundByChar} from '../themes/tools';\r\nimport {CharacterId, IBuilding} from \"../types/base\";\r\nimport {COLOR_BLACK} from '../components/consts';\r\n\r\n\r\nimport logo from \"../images/App Icon.png\";\r\n\r\nimport {\r\n  history\r\n} from '../App'\r\n//import { Button } from \"@sberdevices/plasma-ui/node_modules/@sberdevices/plasma-core\";\r\n//import { ParagraphText1 } from \"@sberdevices/plasma-core\";\r\n\r\n\r\nconst Start = ({\r\n                 assistant,\r\n                 isMobileDevice,\r\n               }: {\r\n  assistant: AssistantWrapper\r\n  isMobileDevice: boolean\r\n}) => {\r\n  return (\r\n    isMobileDevice\r\n      ? (\r\n        <Container style={{\r\n          padding: 0,\r\n          // overflow: \"hidden\"\r\n        }}>\r\n\r\n          <Row style={{\r\n            margin: \"1em\",\r\n            marginLeft: \"5%\",\r\n            marginRight: \"5%\"\r\n          }}>\r\n            <HeaderRoot>\r\n              <HeaderMinimize onClick={() => assistant.on('exit', () => {\r\n              })}/>\r\n              <HeaderLogo src={logo} alt=\"Logo\" onClick={() => history.push(\"/dashboard\")}/>\r\n              <HeaderTitleWrapper>\r\n                <HeaderTitle>Мир МИСиС</HeaderTitle>\r\n              </HeaderTitleWrapper>\r\n            </HeaderRoot>\r\n\r\n\r\n          </Row>\r\n          <Row style={{display: \"flex\", flexDirection: \"column\", justifyContent: \"center\", alignItems: \"center\"}}>\r\n            <TextBox>\r\n              <Headline1\r\n                style={{\r\n                  margin: '15% 1.5% 1.5% 0',\r\n                  //textAlign: \"center\",\r\n                }}\r\n              >\r\n                Салют!\r\n              </Headline1>\r\n              <ParagraphText1>\r\n                Мы создали Мир МИСиС,\r\n              </ParagraphText1>\r\n              <ParagraphText1>\r\n                чтобы помочь студентам и преподавателям\r\n              </ParagraphText1>\r\n              <ParagraphText1>\r\n                каждый день эффективно перформить,\r\n              </ParagraphText1>\r\n              <ParagraphText1>\r\n                не отвлекаясь на рутину\r\n              </ParagraphText1>\r\n            </TextBox>\r\n            <Button onClick={() => {\r\n              history.push(\"/dashboard\")\r\n            }} size=\"m\" style={{marginTop: \"2em\"}}> Дальше</Button>\r\n\r\n          </Row>\r\n          <Image src={star} style={{margin: \"0 0 auto 0\", overflow: \"hidden\"}}/>\r\n\r\n          {/*<Spacer300/>*/}\r\n\r\n        </Container>\r\n      )\r\n      : (\r\n        <Container style={{padding: 0}}>\r\n\r\n          <Row style={{\r\n            margin: \"1em\"\r\n          }}>\r\n            <HeaderRoot>\r\n              <HeaderMinimize onClick={() => assistant.on('exit', () => {\r\n              })}/>\r\n              <HeaderLogo src={logo} alt=\"Logo\" onClick={() => history.push(\"/dashboard\")}/>\r\n              <HeaderTitleWrapper>\r\n                <HeaderTitle>Мир МИСиС</HeaderTitle>\r\n              </HeaderTitleWrapper>\r\n            </HeaderRoot>\r\n          </Row>\r\n\r\n          <Row style={{display: \"flex\", flexDirection: \"row\"}}>\r\n            <Col>\r\n              <Image src={star} style={{width: \"40vw\", overflow: \"hidden\"}}/>\r\n            </Col>\r\n            <Col>\r\n              <TextBox>\r\n                <Headline1\r\n                  style={{\r\n                    margin: '15% 1.5% 1.5% 0',\r\n                    //textAlign: \"center\",\r\n                  }}\r\n                >\r\n                  Салют!\r\n                </Headline1>\r\n                <ParagraphText1>\r\n                  Мы создали Мир МИСиС,\r\n                </ParagraphText1>\r\n                <ParagraphText1>\r\n                  чтобы помочь студентам и преподавателям\r\n                </ParagraphText1>\r\n                <ParagraphText1>\r\n                  каждый день эффективно перформить,\r\n                </ParagraphText1>\r\n                <ParagraphText1>\r\n                  не отвлекаясь на рутину\r\n                </ParagraphText1>\r\n              </TextBox>\r\n              <Button onClick={() => {\r\n                history.push(\"/dashboard\")\r\n              }} size=\"m\" style={{marginTop: \"2em\"}}> Дальше</Button>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      )\r\n  )\r\n}\r\n\r\nexport default Start\r\n","export default __webpack_public_path__ + \"static/media/Karta.e347edc6.png\";","import React from \"react\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Body1,\r\n  Card,\r\n  CardBody,\r\n  CardContent,\r\n  CardMedia,\r\n  TextBox,\r\n  TextBoxLabel,\r\n  Badge,\r\n  CellListItem,\r\n  HeaderBack,\r\n  HeaderLogo,\r\n  HeaderTitle,\r\n  HeaderMinimize,\r\n  HeaderTitleWrapper,\r\n  HeaderRoot,\r\n} from \"@sberdevices/plasma-ui\";\r\nimport {IconLocation} from \"@sberdevices/plasma-icons\";\r\nimport {history} from \"../App\";\r\nimport {Spacer300} from '../components/Spacers'\r\nimport logo from \"../images/App Icon.png\";\r\nimport karta from \"../images/Karta.png\";\r\nimport buildings from '../data/buldings.json'\r\n\r\nimport {IBuilding} from \"../types/base\";\r\nimport {COLOR_BLACK} from '../components/consts';\r\nimport {\r\n  GoToDashboardButton,\r\n} from '../components/TopMenu';\r\n\r\n\r\nconst BuildingListItem = ({\r\n                            // name,\r\n                            // address,\r\n                            // color,\r\n                            building,\r\n                          }: {\r\n  // name: string,\r\n  // address: string,\r\n  // color: string,\r\n  building: IBuilding,\r\n}) => (\r\n  <CellListItem\r\n    content={\r\n      <TextBox>\r\n        <Body1>\r\n          {building.name}\r\n        </Body1>\r\n        <TextBoxLabel>\r\n          {building.address}\r\n        </TextBoxLabel>\r\n      </TextBox>\r\n    }\r\n    contentLeft={\r\n      <Badge\r\n        contentLeft={\r\n          <IconLocation\r\n            color={building.color}\r\n            size=\"s\"\r\n          />\r\n        }\r\n        style={{backgroundColor: COLOR_BLACK}}\r\n      />\r\n    }\r\n  />\r\n)\r\n\r\n\r\nconst BuildingList = ({\r\n                        buildings,\r\n                      }: {\r\n  buildings: IBuilding[],\r\n}) => (\r\n  <React.Fragment>\r\n    {\r\n      buildings.map((building, i) => (\r\n        <BuildingListItem\r\n          key={i}\r\n          building={building}\r\n        />\r\n      ))\r\n    }\r\n  </React.Fragment>\r\n)\r\n\r\n\r\nconst NavigatorPage = ({\r\n                         isMobileDevice,\r\n                       }: {\r\n  isMobileDevice: boolean\r\n}) => {\r\n  return (\r\n    isMobileDevice\r\n      ? (\r\n        <Container style={{\r\n          padding: 0,\r\n          // overflow: \"hidden\",\r\n          height: '100%',\r\n          overflow: 'auto',\r\n        }}>\r\n\r\n          <Row style={{margin: \"1em\", marginLeft: \"5%\", marginRight: \"5%\"}}>\r\n\r\n            <HeaderRoot>\r\n              <HeaderBack\r\n                onClick={() => history.push(\"/dashboard\")}\r\n              />\r\n              <HeaderLogo\r\n                src={logo}\r\n                alt=\"Logo\"\r\n                onClick={() => history.push(\"/dashboard\")}\r\n              />\r\n              <HeaderTitleWrapper>\r\n                <HeaderTitle>Карта</HeaderTitle>\r\n              </HeaderTitleWrapper>\r\n            </HeaderRoot>\r\n\r\n          </Row>\r\n\r\n          <Card style={{width: \"90%\", marginLeft: \"5%\", marginTop: \"0.5em\"}}>\r\n            <CardBody style={{padding: \"0 0 0 0\"}}>\r\n\r\n              <CardMedia src={karta}/>\r\n\r\n              <CardContent compact style={{padding: \"0.3em 0.3em\"}}>\r\n                <BuildingList\r\n                  buildings={buildings}\r\n                />\r\n              </CardContent>\r\n\r\n            </CardBody>\r\n\r\n          </Card>\r\n\r\n          <Spacer300/>\r\n\r\n        </Container>\r\n      )\r\n      :\r\n      (\r\n        <Container style={{padding: 0}}>\r\n\r\n            <Row style={{margin: \"1em\"}}>\r\n            <HeaderRoot>\r\n            <HeaderMinimize onClick={() => history.push('/dashboard')} />\r\n          <HeaderLogo src={logo} alt=\"Logo\" onClick={() => history.push('/dashboard')}/>\r\n          <HeaderTitleWrapper>\r\n            <HeaderTitle>Карта университета</HeaderTitle>\r\n          </HeaderTitleWrapper>\r\n          </HeaderRoot>\r\n\r\n          </Row>\r\n\r\n          <Row>\r\n            <div style={{display: \"flex\", flexDirection: \"row\"}}>\r\n\r\n              <Card style={{width: \"102vh\", height: \"60vh\", marginLeft: \"5%\", marginTop: \"0.5em\"}}>\r\n                <CardBody>\r\n                  <CardMedia src={karta}/>\r\n                </CardBody>\r\n              </Card>\r\n\r\n              <Card style={{width: \"30%\", marginLeft: \"3%\", marginTop: \"0.5em\"}}>\r\n                <CardBody style={{padding: \"0 0 0 0\"}}>\r\n                  <CardContent compact style={{padding: \"0.3em 0.3em\"}}>\r\n                    <BuildingList\r\n                      buildings={buildings}\r\n                    />\r\n                  </CardContent>\r\n                </CardBody>\r\n              </Card>\r\n\r\n            </div>\r\n          </Row>\r\n\r\n          <Spacer300/>\r\n\r\n        </Container>\r\n      )\r\n  )\r\n}\r\n\r\nexport default NavigatorPage\r\n","import React from \"react\";\r\nimport { Link } from \"react-router\";\r\nimport {Card, CardBody, CardContent, RectSkeleton} from \"@sberdevices/plasma-ui\";\r\n\r\nimport {LessonStartEnd} from \"../App\";\r\nimport {IScheduleDays} from \"../lib/ApiModel\"\r\nimport {NO_LESSONS_NAME} from '../lib/ApiHelper'\r\nimport {Bell} from \"../types/ScheduleStructure\";\r\nimport {OTHER_WEEK, THIS_OR_OTHER_WEEK} from \"../types/base.d\";\r\n// import ScheduleDayLessons from \"./ScheduleDayLessons\";\r\nimport ScheduleDayOff from \"./ScheduleDayOff\";\r\nimport ScheduleLesson from \"./ScheduleLesson\";\r\n\r\nconst EMPTY_LESSON_NUM = 7;\r\n\r\n\r\nexport const ScheduleDayLessons = ({\r\n                                     \r\n                                     dayLessons,\r\n                                     currentLessonNumber,\r\n                                     isCurrentWeek,\r\n                                     isSave,\r\n                                     Day,\r\n                                     isTeacherAndValid,\r\n                                     isToday,\r\n                                     onTeacherClick,\r\n                                   }: {\r\n  \r\n  dayLessons: Bell[]\r\n  currentLessonNumber: string | undefined,\r\n  isCurrentWeek: boolean\r\n  isSave: boolean\r\n  Day: number\r\n  isTeacherAndValid: boolean,\r\n  isToday: boolean,\r\n  onTeacherClick: (teacherName: string) => void\r\n}) => {\r\n  return (\r\n    <React.Fragment>\r\n      {\r\n        dayLessons && dayLessons.map((lesson, lessonIndex) => {\r\n\r\n          const getIsCurrentLesson = () => (\r\n            lesson.lessonNumber === currentLessonNumber\r\n            && lesson.teacher !== \"\"\r\n            && isToday\r\n            // && today === timeParam\r\n            // && weekParam === THIS_WEEK\r\n          );\r\n          const isCurrentLesson = getIsCurrentLesson();\r\n\r\n          return lesson.lessonName !== \"\"\r\n            ? (\r\n              <ScheduleLesson\r\n                isCurrentWeek={isCurrentWeek}\r\n                isSave={isSave}\r\n                Day={Day}\r\n                key={lessonIndex}\r\n                lesson={lesson}\r\n                startEndTime={\r\n                  lesson.lessonName == NO_LESSONS_NAME\r\n                    ? LessonStartEnd[EMPTY_LESSON_NUM]\r\n                    : LessonStartEnd[lessonIndex]\r\n                }\r\n                isTeacherAndValid={isTeacherAndValid}\r\n                isAccented={isCurrentLesson}\r\n                onTeacherClick={(teacherName) => onTeacherClick(teacherName)}\r\n              />\r\n            )\r\n            : (\r\n              <div\r\n                key={lessonIndex}\r\n              ></div>\r\n            )\r\n        })\r\n      }\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\n\r\nexport const ScheduleDay = ({\r\n                              isReady,\r\n                              // days,\r\n                              // day_num,\r\n                              dayLessons,\r\n                              currentLessonNumber,\r\n                              // weekParam,\r\n                              // timeParam,\r\n                              isTeacherAndValid,\r\n                              isToday,\r\n                              isDayOff,\r\n                              isCurrentWeek,\r\n                              isSave,\r\n                              Day,\r\n                              onTeacherClick,\r\n                            }: {\r\n  isReady: boolean\r\n  dayLessons: Bell[];\r\n  currentLessonNumber: string | undefined,\r\n  isTeacherAndValid: boolean,\r\n  isToday: boolean,\r\n  isDayOff: boolean,\r\n  isCurrentWeek: boolean\r\n  isSave: boolean\r\n  Day: number\r\n  onTeacherClick: (teacherName: string) => void\r\n}) => (\r\n  isReady==true\r\n    ? (\r\n      <div style={{flexDirection: \"column\"}}>\r\n        <Card style={isDayOff\r\n          ? {background: \"rgba(0, 0, 0, 0)\",  marginTop: \"5%\"}\r\n          : {width: \"90%\", marginLeft: \"5%\", marginTop: \"0.5em\"}\r\n        }>\r\n          <CardBody style={{padding: \"0 0 0 0\"}}>\r\n            <CardContent compact style={{padding: \"0 0.1em 0 0.1em\"}}>\r\n              {\r\n                isDayOff\r\n                  ? <ScheduleDayOff/>\r\n                  : <ScheduleDayLessons\r\n                    \r\n                    dayLessons={dayLessons}\r\n                    currentLessonNumber={currentLessonNumber}\r\n                    isCurrentWeek={isCurrentWeek}\r\n                    isSave={isSave}\r\n                    Day={Day}\r\n                    isTeacherAndValid={isTeacherAndValid}\r\n                    isToday={isToday}\r\n                    // today={today}\r\n                    onTeacherClick={(teacherName) => onTeacherClick(teacherName)}\r\n                  />\r\n              }\r\n            </CardContent>\r\n          </CardBody>\r\n        </Card>\r\n      </div>)\r\n    : (\r\n      <RectSkeleton\r\n        width=\"90%\"\r\n        height=\"25rem\"\r\n        roundness={16}\r\n        style={{marginLeft: \"5%\", marginTop: \"0.5em\"}}\r\n      />\r\n    )\r\n)\r\n\r\n\r\nexport default ScheduleDay;\r\n","import React from \"react\";\r\nimport {Button} from '@sberdevices/plasma-ui';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {\r\n  CarouselItem\r\n} from \"@sberdevices/plasma-ui\";\r\n\r\n\r\nexport const WeekCarouselDay = ({\r\n                                  text,\r\n                                  isSelected,\r\n                                  isMarked,\r\n                                  onClick,\r\n                                }: {\r\n  // date: Date\r\n  text: string\r\n  isSelected: boolean\r\n  isMarked: boolean\r\n  // format?: string\r\n  onClick: (event: React.MouseEventHandler<HTMLElement>) => void\r\n}) => {\r\n  return (\r\n    <CarouselItem>\r\n      <Button\r\n        scrollSnapAlign=\"start\"\r\n        view={isSelected ? \"secondary\" : \"clear\"}\r\n        style={{\r\n          margin: \"0.5em\",\r\n          \r\n          color: isMarked\r\n            ? \"var(--plasma-colors-accent)\"\r\n            : \"\"\r\n        }}\r\n        size=\"s\"\r\n        pin=\"circle-circle\"\r\n        text={isMarked ? `Сегодня ${text.toLowerCase()}` : text }\r\n        // text={ text + moment(date).format(format)}\r\n        onClick={(event) => onClick(event)}\r\n      />\r\n    </CarouselItem>\r\n  )\r\n}\r\n\r\nexport default WeekCarouselDay\r\n","import React from \"react\";\r\nimport {Carousel, CarouselGridWrapper, Row, Col} from \"@sberdevices/plasma-ui\";\r\n\r\nimport WeekCarouselDay from \"./WeekCarouselDay\";\r\n\r\nexport const WeekCarousel = ({\r\n                               selectedIndex,\r\n                               markedIndex,\r\n                               cols,\r\n                               onSelect,\r\n                             }: {\r\n  selectedIndex: number\r\n  markedIndex: number\r\n  cols: string[]\r\n  onSelect: (weekDayIndex: number) => void\r\n}) => {\r\n  const [index, setIndex] = React.useState(selectedIndex);\r\n  return (\r\n    <Row style={{\r\n      marginRight: \"0\",\r\n      width: \"100%\",\r\n      overflow: \"hidden\"\r\n    }}>\r\n      <CarouselGridWrapper style={{\r\n      marginRight: \"0\",\r\n      width: \"100%\",\r\n      overflow: \"hidden\"\r\n    }}>\r\n        <Carousel\r\n          as={Row}\r\n          axis=\"x\"\r\n          scrollSnapType=\"mandatory\"\r\n          index={index}\r\n          detectActive\r\n          detectThreshold={0.5}\r\n          onIndexChange={(i) => setIndex(i)}\r\n          paddingStart=\"5%\"\r\n          paddingEnd=\"20%\"\r\n        >\r\n          {\r\n            cols.map((text, i) => {\r\n              return (\r\n                <WeekCarouselDay\r\n                  key={i}\r\n                  text={text}\r\n                  isSelected={i === selectedIndex}\r\n                  isMarked={(i === markedIndex)}\r\n                  onClick={() => onSelect(i)}\r\n                />\r\n              )\r\n            })\r\n          }\r\n        </Carousel>\r\n      </CarouselGridWrapper>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default WeekCarousel;\r\n","import React from \"react\";\r\nimport {IconChevronRight} from \"@sberdevices/plasma-icons\";\r\nimport {Button} from \"@sberdevices/plasma-ui\";\r\n\r\nexport const ButtonNextWeek = ({\r\n                                 onClick\r\n}: {\r\n  onClick: React.MouseEventHandler<HTMLElement>\r\n}) => (\r\n  <Button\r\n    onClick={ (event) => onClick(event) }\r\n    view=\"clear\"\r\n    size=\"s\"\r\n    pin=\"circle-circle\"\r\n    style={{margin: \"1em\"}}\r\n    contentRight={\r\n      <IconChevronRight\r\n        size=\"s\"\r\n        color=\"inherit\"\r\n        // @ts-ignore\r\n        style={{paddingBottom: \"1.5em\"}}\r\n      />\r\n    }\r\n  />\r\n)\r\n\r\nexport default ButtonNextWeek\r\n","import React from \"react\";\r\nimport {IconChevronLeft} from \"@sberdevices/plasma-icons\";\r\nimport {Button} from \"@sberdevices/plasma-ui\";\r\n\r\nexport const ButtonPrevWeek = ({\r\n                                 onClick\r\n}: {\r\n  onClick: React.MouseEventHandler<HTMLElement>\r\n}) => (\r\n  <Button\r\n    onClick={ (event) => onClick(event) }\r\n    view=\"clear\"\r\n    size=\"s\"\r\n    pin=\"circle-circle\"\r\n    style={{margin: \"1em\"}}\r\n    contentRight={\r\n      <IconChevronLeft\r\n        size=\"s\"\r\n        color=\"inherit\"\r\n        // @ts-ignore\r\n        style={{paddingBottom: \"1.5em\"}}\r\n      />\r\n    }\r\n  />\r\n)\r\n\r\nexport default ButtonPrevWeek\r\n","import React from \"react\";\r\nimport {Button} from \"@sberdevices/plasma-ui\";\r\n\r\nexport const ButtonThisWeek = ({\r\n                                 onClick\r\n                               }: {\r\n  onClick: React.MouseEventHandler<HTMLElement>\r\n}) => (\r\n  <Button\r\n    onClick={(event) => onClick(event)}\r\n    view=\"primary\"\r\n    size=\"m\"\r\n    text=\"Текущая неделя\"\r\n    style={{position: \"relative\", bottom: \"0.5em\"}}\r\n  />\r\n)\r\n\r\nexport default ButtonThisWeek\r\n","import {Row} from \"@sberdevices/plasma-ui\";\r\nimport React from \"react\";\r\nimport ButtonNextWeek from \"./ButtonNextWeek\";\r\nimport ButtonPrevWeek from \"./ButtonPrevWeek\";\r\nimport ButtonThisWeek from \"./ButtonThisWeek\";\r\n\r\nexport const WeekSelect = ({\r\n                                 onPrevWeekClick,\r\n                                 onThisWeekClick,\r\n                                 onNextWeekClick,\r\n                               }: {\r\n  onPrevWeekClick: React.MouseEventHandler<HTMLElement>,\r\n  onThisWeekClick: React.MouseEventHandler<HTMLElement>,\r\n  onNextWeekClick: React.MouseEventHandler<HTMLElement>,\r\n}) => (\r\n  <Row style={{\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  }}>\r\n    <div>\r\n      <ButtonPrevWeek\r\n        onClick={(event) => onPrevWeekClick(event)}\r\n      />\r\n      <ButtonThisWeek\r\n        onClick={(event) => onThisWeekClick(event)}\r\n      />\r\n      <ButtonNextWeek\r\n        onClick={(event) => onNextWeekClick(event)}\r\n      />\r\n    </div>\r\n  </Row>\r\n)\r\n\r\nexport default WeekSelect\r\n\r\n","import React from \"react\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {Container} from '@sberdevices/plasma-ui';\r\n\r\nimport ScheduleDay from \"./ScheduleDay\";\r\nimport TopMenu from './TopMenu';\r\nimport WeekCarousel from \"./WeekCarousel\";\r\nimport WeekSelect from \"./WeekSelect\";\r\nimport {\r\n  history,\r\n} from '../App'\r\nimport {AssistantWrapper} from \"../lib/AssistantWrapper\"\r\nimport ApiModel, {IScheduleDays} from \"../lib/ApiModel\"\r\nimport {Spacer100,Spacer200,Spacer300} from './Spacers'\r\nimport {\r\n  IDayHeader,\r\n  OTHER_WEEK,\r\n  THIS_OR_OTHER_WEEK,\r\n  THIS_WEEK,\r\n} from '../types/base.d'\r\nimport {\r\n  formatFullGroupName,\r\n} from '../lib/formatters';\r\n\r\nimport DayOfWeek from '../language-ru/DayOfWeek';\r\n\r\n\r\nconst FIRST_DAY_OTHER_WEEK = 8;\r\n\r\nconst DAY_IN_SECONDS = 86400\r\n\r\n\r\nexport interface ScheduleViewProps {\r\n  apiModel: ApiModel\r\n  getCurrentLesson: (Date) => string\r\n  day: IDayHeader[]\r\n  today: number\r\n  schedule: {\r\n    current_week: IScheduleDays\r\n    other_week: IScheduleDays\r\n  }\r\n  getIsCorrectTeacher: () => boolean\r\n  Date: Date\r\n  IsSavedSchedule: boolean\r\n  IsCurrentWeek: boolean\r\n  assistant: AssistantWrapper\r\n  timeParam: number\r\n  page: number\r\n}\r\n\r\ninterface ScheduleViewState {\r\n  current: string\r\n  formatDate: (weekDayShort: string, dateDdDotMm: string) => string\r\n  isTeacher: boolean\r\n  groupName: string\r\n  teacher: string\r\n  schedule: {\r\n    current_week: IScheduleDays\r\n    other_week: IScheduleDays\r\n  }\r\n}\r\n\r\nexport class ScheduleView extends React.Component<ScheduleViewProps, ScheduleViewState> {\r\n\r\n\r\n  componentDidMount() {\r\n    this.props.assistant.on('for_this_week', () => {\r\n      this.CurrentWeek()\r\n    })\r\n    this.props.assistant.on('for_next_week', () => {\r\n      this.NextWeek()\r\n    })\r\n\r\n    \r\n    this.props.assistant.on('day_schedule', (action) => {\r\n      console.log(\"ACTION\",action)\r\n      const {dayOfWeek: strDayOfWeekNum_} = action.note[0];\r\n      this.handleDayChange(parseInt(strDayOfWeekNum_),action.note[1], action.note[2])\r\n\r\n    })\r\n\r\n    \r\n  }\r\n\r\n\r\n\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const getIsCorrectTeacher = () => {\r\n      return this.props.getIsCorrectTeacher()\r\n    }\r\n\r\n    let apiModel =this.props.apiModel;\r\n    console.log(\"this.props.IsSavedSchedule\", this.props.IsSavedSchedule);\r\n    let subGroupName = this.props.IsSavedSchedule ? apiModel.user?.subgroup_name : apiModel.unsavedUser?.subgroup_name\r\n    let teacher =this.props.IsSavedSchedule? this.props.apiModel.user?.teacher : this.props.apiModel.unsavedUser?.teacher\r\n    if(teacher == undefined){\r\n      teacher = \"\"\r\n    }\r\n    let schedule = this.props.IsSavedSchedule ? this.props.apiModel.saved_schedule : this.props.apiModel.other_schedule\r\n    let groupName = this.props.IsSavedSchedule ? this.props.apiModel.user?.group : this.props.apiModel.unsavedUser.group\r\n\r\n    this.state = {\r\n      current: this.props.getCurrentLesson(new Date()),\r\n      formatDate: (weekDayShort, dateDdDotMm) => `${weekDayShort} ${dateDdDotMm}`,\r\n      isTeacher: getIsCorrectTeacher(),\r\n      groupName: formatFullGroupName(groupName ? groupName : \"\", subGroupName ? subGroupName : \"\"),\r\n      teacher : teacher,\r\n      schedule: schedule\r\n    }\r\n   \r\n  }\r\n  PreviousWeek(){\r\n    this.props.apiModel.isSchedule = false;\r\n              let date = this.props.Date\r\n              date.setDate(date.getDate() - 7)\r\n              let date_to_url = date.toISOString().slice(0,10)\r\n              history.push('/schedule/'+date_to_url+'/'+this.props.IsSavedSchedule+'/'+false)\r\n  }\r\n  CurrentWeek(){\r\n    let current_date = new Date().toISOString().slice(0,10)\r\n              history.push('/schedule/'+current_date+'/'+this.props.IsSavedSchedule+'/'+true)\r\n  }\r\n  NextWeek(){\r\n    this.props.apiModel.isSchedule = false;\r\n              let date = this.props.Date\r\n              date.setDate(date.getDate() +7)\r\n              let date_to_url = date.toISOString().slice(0,10)\r\n              history.push('/schedule/'+date_to_url+'/'+this.props.IsSavedSchedule+'/'+false)\r\n  }\r\n\r\n  handleDayChange(dayOfWeek: number, note1, note2){\r\n     if (this.props.apiModel.CheckGroupOrTeacherSetted()) {\r\n      const dayOfWeekZeroIndex = dayOfWeek - 1;\r\n      if (note1 === null && note2 === null) {\r\n        history.push('/schedule/'+this.props.Date.toISOString().slice(0,10)+'/'+this.props.IsSavedSchedule+'/'+this.props.IsCurrentWeek+'/'+Number(dayOfWeek-2))\r\n      } else {\r\n        \r\n        if (note1 !== null) {\r\n          console.log('dispatchAssistantAction: day_schedule: note[1]:', note1);\r\n          history.push('/schedule/'+this.props.Date.toISOString().slice(0,10)+'/'+this.props.IsSavedSchedule+'/'+this.props.IsCurrentWeek+'/'+Number(dayOfWeek-2))\r\n\r\n        } else if (note2 !== null) {\r\n          let date = this.props.Date\r\n          date.setDate(date.getDate()+7)\r\n          history.push('/schedule/'+date.toISOString().slice(0,10)+'/'+this.props.IsSavedSchedule+'/'+false+'/'+Number(dayOfWeek-1))\r\n\r\n        }\r\n     }\r\n\r\n      const dayOfWeekLongPrepositional = DayOfWeek.long.prepositional[dayOfWeekZeroIndex]?.toLowerCase();\r\n\r\n      this.props.assistant.sendSay6(dayOfWeekLongPrepositional);\r\n\r\n\r\n    }\r\n  }\r\n\r\n  render() {\r\n    console.log(\"this.props.page\", this.props.page)\r\n    const {schedule } = this.props;\r\n    let isReady = this.props.apiModel.isSchedule\r\n    let teacherName =this.props.IsSavedSchedule? this.props.apiModel.user?.teacher : this.props.apiModel.unsavedUser?.teacher\r\n    let teacher = teacherName == undefined ? \"\" : teacherName\r\n    return (\r\n /*     <DeviceThemeProvider>\r\n      <DocStyle/>\r\n      {\r\n        getThemeBackgroundByChar(this.props.character, this.props.theme)\r\n      }\r\n  */\r\n      <div>\r\n        <Container style={{\r\n          padding: 0,\r\n          //  overflow: \"scroll\",\r\n          minHeight: '100%',\r\n        }}>\r\n          \r\n          <TopMenu\r\n            subLabel={\r\n              !this.props.apiModel.isStudent\r\n                ? teacher\r\n                : \r\n                //this.props.groupName\r\n               this.state.groupName\r\n            }\r\n            onHomeClick={() => history.push('/home')}\r\n            onDashboardClick={async () => {\r\n\r\n              if (this.props.apiModel.unsavedUser) {\r\n                await this.props.apiModel.getScheduleFromDb(new Date(), true, true);\r\n              }\r\n              history.push('/dashboard')\r\n            }}\r\n            Bd={() =>this.props.apiModel.getScheduleFromDb(new Date(), true, true)}\r\n          />\r\n\r\n          <WeekSelect\r\n            onPrevWeekClick={async () => {\r\n              this.PreviousWeek()\r\n            }}\r\n            onThisWeekClick={() => {\r\n              this.CurrentWeek()\r\n            }}\r\n            onNextWeekClick={async () => {\r\n              this.NextWeek()\r\n            }}\r\n          />\r\n\r\n          <WeekCarousel\r\n            selectedIndex={this.props.page}\r\n            markedIndex={this.props.IsCurrentWeek  ? this.props.today - 1 : -1 /* current weekday can't be on 'other' week*/}\r\n            cols={\r\n              this.props.day.map(d => {\r\n                const {title, date} = d;\r\n                const weekDayShort = title;\r\n                const dateDdDotMmDotYy = date;\r\n                const dateDdDotMm = dateDdDotMmDotYy.slice(0, 5);\r\n                return dateDdDotMm\r\n                  ? this.state.formatDate(weekDayShort, dateDdDotMm)\r\n                  : '';\r\n              })\r\n            }\r\n            onSelect={(weekDayIndex) => {\r\n              history.push('/schedule/'+this.props.Date.toISOString().slice(0,10)+'/'+this.props.IsSavedSchedule+'/'+this.props.IsCurrentWeek+'/'+weekDayIndex)\r\n            }}\r\n          />\r\n\r\n          <ScheduleDay\r\n            isCurrentWeek={Boolean(this.props.IsCurrentWeek)}\r\n            isSave={Boolean(this.props.IsSavedSchedule)}\r\n            Day={this.props.page}\r\n            isReady={isReady}\r\n            dayLessons={\r\n              Boolean(this.props.IsCurrentWeek)\r\n                ? schedule.current_week[this.props.page]\r\n                : schedule.other_week[this.props.page]\r\n            }\r\n            currentLessonNumber={this.state.current}\r\n            isTeacherAndValid={!this.props.apiModel.isStudent}\r\n            isToday={this.props.today-1 === this.props.page && Boolean(this.props.IsCurrentWeek)}\r\n            isDayOff={this.props.page == -1}\r\n            onTeacherClick={async (teacherName) => {\r\n              await this.props.apiModel.doSetTeacher(teacherName)\r\n              let current_date = new Date().toISOString().slice(0,10)\r\n              history.push('/schedule/'+current_date+'/'+false+'/'+true)\r\n            }\r\n          }\r\n          />\r\n\r\n          <Spacer200/>\r\n\r\n        </Container>\r\n      </div>\r\n/*\r\n    </DeviceThemeProvider>\r\n*/\r\n  )\r\n  }\r\n}\r\n\r\nexport default ScheduleView\r\n","import React from \"react\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {Container, DeviceThemeProvider} from '@sberdevices/plasma-ui';\r\n\r\nimport {DocStyle, getThemeBackgroundByChar, IThemingProps} from \"../themes/tools\";\r\nimport {ScheduleView, ScheduleViewProps} from '../components/ScheduleView'\r\nimport {IScheduleDays} from '../lib/ApiModel'\r\n\r\n\r\ninterface SchedulePageProps_ extends ScheduleViewProps {\r\n}\r\n\r\ntype SchedulePageProps = Omit<SchedulePageProps_, 'schedule'>\r\n\r\ninterface ScheduleState {\r\n  timeParam: number\r\n  schedule: { current_week: IScheduleDays, other_week: IScheduleDays }\r\n}\r\n\r\nclass SchedulePage extends React.Component<SchedulePageProps, ScheduleState> {\r\n\r\n  constructor(props) {\r\n    console.log(\"SchedulePage: constructor\")\r\n    super(props);\r\n    this.state = {\r\n      timeParam: this.props.timeParam,\r\n      schedule: {\r\n        current_week: [],\r\n        other_week: [],\r\n      }\r\n    }\r\n    this.props.apiModel.isSchedule = false;\r\n  }\r\n\r\n  async refetchData() {\r\n    console.log(\"SchedulePage: refetchData: apiModel\", this.props.apiModel.unsavedUser)\r\n    console.log(\"SchedulePage: refetchData: this.props.IsSavedSchedule:\", this.props.IsSavedSchedule)\r\n    await this.props.apiModel.getScheduleFromDb(this.props.Date, this.props.IsSavedSchedule, this.props.IsCurrentWeek)\r\n\r\n    this.setState({\r\n      schedule: this.props.apiModel.isSavedSchedule\r\n        ? this.props.apiModel.saved_schedule\r\n        : this.props.apiModel.other_schedule\r\n    })\r\n\r\n  }\r\n\r\n  async refetchDay() {\r\n    console.log(\"SchedulePage: refetchDay: apiModel\", this.props.apiModel.unsavedUser)\r\n\r\n    this.setState({\r\n      timeParam: this.props.timeParam\r\n    })\r\n\r\n  }\r\n\r\n  async componentDidMount() {\r\n    console.log(\"SchedulePage: componentDidMount\")\r\n    await this.refetchData();\r\n  }\r\n\r\n  async componentDidUpdate(prevProps) {\r\n    console.log(\"SchedulePage: ComponentDidUpdate\")\r\n    // Typical usage (don't forget to compare props):\r\n    console.log(\"this.props.timeParam !== prevProps.timeParam\", this.props.timeParam, prevProps.timeParam)\r\n    if (this.props.timeParam !== prevProps.timeParam)\r\n      await this.refetchDay();\r\n    if (this.props.Date !== prevProps.Date) {\r\n      await this.refetchData();\r\n      // this.setState({})\r\n    }\r\n  }\r\n\r\n  render() {\r\n    console.log(\"SchedulePage: render\")\r\n    const {/*character, theme,*/ timeParam, ...restProps} = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Container style={{\r\n          padding: 0,\r\n          overflow: \"hidden\",\r\n          //minHeight: '100%',\r\n        }}>\r\n\r\n          <ScheduleView\r\n            timeParam={this.state.timeParam}\r\n            schedule={this.state.schedule}\r\n            {...restProps}\r\n          />\r\n\r\n        </Container>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SchedulePage\r\n","import React from \"react\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Headline2,\r\n  Headline4,\r\n  HeaderContent,\r\n  TextBoxBigTitle,\r\n  TextBox,\r\n  Caption,\r\n  Switch,\r\n  TimePicker,\r\n  TextBoxLabel,\r\n  TextField,\r\n  HeaderBack,\r\n  HeaderLogo,\r\n  HeaderTitle,\r\n  HeaderTitleWrapper,\r\n  HeaderRoot,\r\n} from \"@sberdevices/plasma-ui\";\r\nimport {IconEdit} from \"@sberdevices/plasma-icons\";\r\nimport {history} from \"../App\";\r\nimport {\r\n  AssistantSendAction,\r\n} from '../types/AssistantSendAction.d'\r\n\r\nimport logo from \"../images/App Icon.png\";\r\nimport {\r\n  ApiModel,\r\n  IStudentSettings,\r\n  ITeacherSettings,\r\n  IStudentValidation,\r\n  ITeacherValidation\r\n} from '../lib/ApiModel'\r\nimport {AssistantWrapper} from '../lib/AssistantWrapper'\r\nimport {Spacer100} from '../components/Spacers'\r\nimport TabSelectorRow from '../components/Home/TabSelectorRow'\r\n\r\nconst HOME_TITLE = 'Салют!';\r\nconst DESC_JOY = \"Заполни данные, чтобы открывать расписание одной фразой\";\r\nconst DESC_OTHERS = \"Чтобы посмотреть расписание, укажите данные учебной группы\";\r\n\r\nconst LABEL_GROUP = \"Номер академической группы через дефисы\";\r\nconst LABEL_SUB_GROUP = \"Номер подгруппы: 1 или 2\";\r\nconst LABEL_ENG_GROUP = \"Число номера группы по английскому\";\r\nconst LABEL_TEACHER = \"Фамилия И. О.\";\r\nconst LABEL_REMEMBER_FIO = \"Запомнить ФИО, если Вы преподаватель \";\r\nconst LABEL_TO_VIEW_SCHEDULE = \"Чтобы посмотреть расписание, укажите фамилию и инициалы через пробел и точку\";\r\nconst LABEL_REMEMBER_GROUP = \"Запомнить эту группу \";\r\n\r\nconst LABEL_TEACHER_NOT_FOUND_ERROR = \"Такого преподавател нет\"\r\nconst LABEL_TEACHER_INCORRECT_DATA = \"Фамилия И. О.\"\r\n\r\nexport const USER_MODES = [\r\n  'Студент',\r\n  'Преподаватель',\r\n];\r\nexport const TODAY_TOMORROW = [\r\n  'Сегодня',\r\n  'Завтра',\r\n];\r\n\r\nconst HomeTitle = ({\r\n                     text,\r\n                   }: {\r\n  text: string\r\n}) => (\r\n  <TextBox>\r\n    <TextBoxBigTitle\r\n      style={{\r\n        margin: '1.5%',\r\n        textAlign: \"center\",\r\n      }}\r\n    >\r\n      {text}\r\n    </TextBoxBigTitle>\r\n  </TextBox>\r\n)\r\n\r\nconst HomeDescription = ({\r\n                           text,\r\n                         }: {\r\n  text: string\r\n}) => (\r\n  <TextBox>\r\n    <Caption style={{\r\n      margin: '1.5em',\r\n      textAlign: \"center\"\r\n    }}>\r\n      {text}\r\n    </Caption>\r\n  </TextBox>\r\n\r\n)\r\nconst TextFieldForUserInfo = ({\r\n                                label,\r\n                                value,\r\n                                isError,\r\n                                // fieldType,\r\n                                onChange,\r\n                              }: {\r\n  label: string\r\n  value: string\r\n  isError: boolean\r\n  // fieldType: string\r\n  onChange: (value: string) => void\r\n}) => {\r\n  //this.onChange('group', value);\r\n  return (\r\n    <TextField\r\n      // id=\"tf\"\r\n      label={label}\r\n      status={isError ? 'error' : undefined}\r\n      className=\"editText\"\r\n      // placeholder=\"Напиши номер своей академической группы\"\r\n      value={value}\r\n      style={{margin: \"0.5em\"}}\r\n      // onChange={(event) => {\r\n      //   onChange(fieldType, event.target.value)\r\n      // }}\r\n      onChange={(event) => {\r\n        onChange(event.target.value)\r\n      }}\r\n    />\r\n  )\r\n}\r\n\r\n\r\ninterface SettingsProps {\r\n  description: string\r\n  toggleTheme: () => void\r\n  apiModel: ApiModel\r\n  assistant: AssistantWrapper\r\n}\r\n\r\ninterface SettingsState {\r\n  disabled: boolean\r\n  edit: boolean\r\n  timePush: {\r\n    hour: number,\r\n    min: number,\r\n    value: Date\r\n  }\r\n  studentSettings: IStudentSettings\r\n  teacherSettings: ITeacherSettings\r\n  studentValidation: IStudentValidation\r\n  teacherValidation: ITeacherValidation\r\n  IsStudent: boolean\r\n}\r\n\r\n\r\nclass Settings extends React.Component<SettingsProps, SettingsState> {\r\n\r\n  constructor(props: SettingsProps) {\r\n    super(props);\r\n    this.Save = this.Save.bind(this);\r\n    let pushSettings = this.props.apiModel.pushSettings\r\n    let user = this.props.apiModel.user;\r\n    this.state = {\r\n      disabled: pushSettings.IsActive,\r\n      timePush: {\r\n        hour: pushSettings.Hour == -1 ? 1 : pushSettings.Hour,\r\n        min: pushSettings.Minute == -1 ? 1 : pushSettings.Minute,\r\n        value: new Date(1629996400000 - 68400000 - 2760000 + pushSettings.Hour * 3600000 + pushSettings.Minute * 60000)\r\n      },\r\n      edit: !this.props.apiModel.isSavedUser,\r\n      studentSettings: {\r\n        groupName: user?.group == undefined ? \"\" : user.group,\r\n        subGroupName: user?.subgroup_name == undefined ? \"\" : user.subgroup_name,\r\n        engGroupName: user?.eng_group == undefined ? \"\" : user.eng_group,\r\n      },\r\n      IsStudent: this.props.apiModel.isStudent,\r\n      teacherSettings: {\r\n        initials: user?.teacher == undefined ? \"\" : user.teacher\r\n      },\r\n      studentValidation: {\r\n        IsGroupNameError: false,\r\n        IsSubGroupError: false,\r\n        IsEngGroupError: false\r\n      },\r\n      teacherValidation: {IsInitialsError: false}\r\n    };\r\n    this.handleAssistantActionGroup.bind(this);\r\n    this.handleAssistantActionSubGroup.bind(this)\r\n    this.handleAssistantActionEngGroup.bind(this)\r\n    this.handleAssistantActionShowSchedule.bind(this)\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    this.props.assistant.on('action-group', this.handleAssistantActionGroup);\r\n    this.props.assistant.on('action-subGroup', this.handleAssistantActionSubGroup)\r\n    this.props.assistant.on('action-engGroup', this.handleAssistantActionEngGroup)\r\n    this.props.assistant.on('show_schedule', this.handleAssistantActionShowSchedule)\r\n  }\r\n\r\n\r\n  componentWillUnmount() {\r\n    this.props.assistant.removeListener('action-group', this.handleAssistantActionGroup);\r\n    this.props.assistant.removeListener('action-subGroup', this.handleAssistantActionSubGroup)\r\n    this.props.assistant.removeListener('action-engGroup', this.handleAssistantActionEngGroup)\r\n    this.props.assistant.removeListener('show_schedule', this.handleAssistantActionShowSchedule)\r\n  }\r\n\r\n\r\n  handleAssistantActionGroup(group) {\r\n    console.log('action-group', group)\r\n  }\r\n\r\n  handleAssistantActionSubGroup(subGroup) {\r\n    let settings = this.state.studentSettings\r\n    this.setState({\r\n      studentSettings: {\r\n        groupName: settings.groupName,\r\n        engGroupName: settings.engGroupName,\r\n        subGroupName: subGroup\r\n      }\r\n    })\r\n  }\r\n\r\n  handleAssistantActionEngGroup(engGroup) {\r\n    let settings = this.state.studentSettings\r\n    this.setState({\r\n      studentSettings: {\r\n        groupName: settings.groupName,\r\n        engGroupName: engGroup,\r\n        subGroupName: settings.subGroupName\r\n      }\r\n    })\r\n  }\r\n\r\n  async handleAssistantActionShowSchedule() {\r\n    await this.Save()\r\n  }\r\n\r\n  async Save() {\r\n    console.log(this.state.timePush.value.getHours(), this.state.timePush.value.getMinutes(), \"SETTINGS\")\r\n    this.state.timePush.hour = Number(this.state.timePush.value.getHours());\r\n    this.state.timePush.min = Number(this.state.timePush.value.getMinutes());\r\n    console.log(this.state.timePush.value, Number(this.state.timePush.value.getHours()), Number(this.state.timePush.value.getMinutes()), \"TIMEPUSH\");\r\n    if (this.state.IsStudent) {\r\n      let studentValidation = await this.props.apiModel.CheckIsCorrectStudent(this.state.studentSettings, true)\r\n      await this.setState({studentValidation: studentValidation})\r\n      if (!studentValidation.IsGroupNameError && !studentValidation.IsSubGroupError && !studentValidation.IsEngGroupError) {\r\n        await this.props.apiModel.LoadSchedule(true)\r\n        this.setState({edit: false})\r\n      }\r\n    } else {\r\n      this.props.apiModel.CheckIsCorrectTeacher(this.state.teacherSettings, true).then((response) => {\r\n        console.log(\"response.IsInitialsError\", response.IsInitialsError)\r\n        if (!response.IsInitialsError) {\r\n          this.setState({edit: false})\r\n        } else {\r\n          this.setState({teacherValidation: {IsInitialsError: true}})\r\n        }\r\n      })\r\n    }\r\n    // if (!this.props.isTeacherError && !this.props.student) this.setState({edit: false })\r\n    //console.log(\"CHECK\",!this.props.isTeacherError && !this.props.student)\r\n    this.props.apiModel.pushSettings = {\r\n      Hour: this.state.timePush.hour,\r\n      Minute: this.state.timePush.min,\r\n      IsActive: this.state.disabled\r\n    }\r\n    await this.props.apiModel.AddPush()\r\n    if (this.state.disabled) {\r\n      this.props.assistant.sendAction({\r\n        action_id: 'settings',\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  Edit() {\r\n    this.setState({edit: true});\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    const Push = (\r\n      <Row>\r\n        <Switch style={{margin: \"0\"}} label=\"Включить пуш-уведомления \" description=\"Напоминания о парах\"/>\r\n        <TimePicker\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            justifyContent: \"center\"\r\n          }}\r\n          min={new Date(1629996400000 - 68400000 - 2760000)}\r\n          max={new Date(1630000000000 + 10800000 + 780000)}\r\n          value={this.state.timePush.value}\r\n          options={{hours: true, minutes: true, seconds: false}}\r\n        ></TimePicker>\r\n      </Row>\r\n    )\r\n\r\n    return (\r\n      <Container style={{\r\n        padding: 0,\r\n        height: '100%',\r\n        overflow: 'hidden',\r\n      }}>\r\n        <Row style={{margin: \"1em\", marginLeft: \"5%\", marginRight: \"5%\"}}>\r\n          <HeaderRoot>\r\n            <HeaderBack\r\n              onClick={() => history.push(\"/dashboard\")}\r\n            />\r\n            <HeaderLogo\r\n              src={logo}\r\n              alt=\"Logo\"\r\n              onClick={() => history.push(\"/dashboard\")}\r\n            />\r\n            <HeaderTitleWrapper>\r\n              <HeaderTitle>Настройки</HeaderTitle>\r\n            </HeaderTitleWrapper>\r\n            <HeaderContent>\r\n              {\r\n                !this.state.edit\r\n                  ? (\r\n                    <Button\r\n                      size=\"s\"\r\n                      view=\"clear\"\r\n                      contentLeft={\r\n                        <IconEdit/>\r\n                      }\r\n                      onClick={() => {\r\n                        this.Edit()\r\n                      }}\r\n                    />\r\n                  )\r\n                  : (<div></div>)\r\n              }\r\n            </HeaderContent>\r\n          </HeaderRoot>\r\n        </Row>\r\n\r\n        {this.state.edit\r\n          ? (\r\n            <Row style={{\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\", margin: \"0 0 1.5em 0\"\r\n            }}>\r\n              <TabSelectorRow\r\n                tabs={USER_MODES}\r\n                selectedIndex={this.state.IsStudent ? 0 : 1}\r\n                onSelect={(tabIndex) => this.setState({IsStudent: tabIndex === 0})}\r\n              />\r\n              {\r\n                this.state.IsStudent\r\n                  ? <Col size={4} style={{marginTop: \"1em\"}}>\r\n                    <TextFieldForUserInfo\r\n                      label={LABEL_GROUP}\r\n                      isError={this.state.studentValidation.IsGroupNameError}\r\n                      value={this.state.studentSettings.groupName}\r\n                      onChange={(value) => this.setState({\r\n                        studentSettings:\r\n                          {\r\n                            groupName: value,\r\n                            subGroupName: this.state.studentSettings.subGroupName,\r\n                            engGroupName: this.state.studentSettings.engGroupName\r\n                          }\r\n                      })}\r\n                    />\r\n\r\n                    <TextFieldForUserInfo\r\n                      label={LABEL_SUB_GROUP}\r\n                      isError={this.state.studentValidation.IsSubGroupError}\r\n                      value={this.state.studentSettings.subGroupName}\r\n                      onChange={(value) => this.setState(\r\n                        {\r\n                          studentSettings:\r\n                            {\r\n                              groupName: this.state.studentSettings.groupName,\r\n                              subGroupName: value,\r\n                              engGroupName: this.state.studentSettings.engGroupName\r\n                            }\r\n                        })}\r\n                    />\r\n\r\n                    <TextFieldForUserInfo\r\n                      label={LABEL_ENG_GROUP}\r\n                      isError={this.state.studentValidation.IsEngGroupError}\r\n                      value={this.state.studentSettings.engGroupName}\r\n                      onChange={(value) => this.setState({\r\n                        studentSettings:\r\n                          {\r\n                            groupName: this.state.studentSettings.groupName,\r\n                            subGroupName: this.state.studentSettings.subGroupName,\r\n                            engGroupName: value\r\n                          }\r\n                      })}\r\n                    />\r\n                  </Col>\r\n                  : <Col size={4}>\r\n                    <TextFieldForUserInfo\r\n                      label={LABEL_TEACHER}\r\n                      value={this.state.teacherSettings.initials}\r\n                      isError={this.state.teacherValidation.IsInitialsError}\r\n                      onChange={(value) => this.setState({teacherSettings: {initials: value}})}\r\n                    />\r\n                  </Col>\r\n              }\r\n              <Switch\r\n                style={{margin: \"1em\"}}\r\n                label=\"Включить пуш-уведомления \"\r\n                description=\"Напоминания о парах\"\r\n                checked={this.state.disabled}\r\n                onChange={(() => {\r\n                  this.setState({disabled: !this.state.disabled}, () => {\r\n                    console.log(\"DISABLED\", this.state.disabled)\r\n                    if (this.state.disabled) {\r\n                      this.props.assistant.sendAction({\r\n                        action_id: 'push_on',\r\n                      });\r\n                    }\r\n                  });\r\n                })}\r\n              />\r\n              {\r\n                this.state.disabled\r\n                  ? <Col style={{\r\n                    display: \"flex\",\r\n                    flexDirection: \"column\",\r\n                    justifyContent: \"center\",\r\n                    alignItems: \"center\"\r\n                  }}>\r\n                    <Caption style={{textAlign: \"center\", margin: \" 0 0.5em 0.5em 0.5em\", color: \"grey\"}}>Время, в которое\r\n                      каждый день будут приходить напоминания о завтрашних парах</Caption>\r\n                    <TimePicker\r\n                      style={{margin: \"0.5em\"}}\r\n                      visibleItems={3}\r\n                      min={new Date(1629925240000)}\r\n                      max={new Date(1630011580000)}\r\n                      value={this.state.timePush.value}\r\n                      options={{hours: true, minutes: true, seconds: false}}\r\n                      onChange={((value: Date) => this.state.timePush.value = value)}\r\n                    ></TimePicker>\r\n                  </Col>\r\n                  : <div></div>\r\n              }\r\n              {/* <Switch style={{ margin: \"1em\" }} label=\"Включить светлую тему\"  checked={this.state.theme} onChange={(() => {this.props.toggleTheme(); this.setState({theme: !this.state.theme})})}/> */}\r\n              <Col size={4} style={{\r\n                display: \"flex\",\r\n                flexDirection: \"row\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\"\r\n              }}>\r\n                <Button\r\n                  size=\"m\"\r\n                  view=\"primary\"\r\n                  style={{margin: \"0.5em\"}}\r\n                  onClick={async () => await this.Save()}\r\n                >Сохранить</Button>\r\n                <Button\r\n                  size=\"m\"\r\n                  style={{margin: \"0.5em\"}}\r\n                  onClick={() => {\r\n                    this.setState({edit: false});\r\n                  }}\r\n                >Отмена</Button>\r\n              </Col>\r\n            </Row>\r\n          )\r\n          : (\r\n            <Row style={{margin: \"1em\"}}>\r\n              <Col size={12}>\r\n                <Headline2 style={{margin: \"0 0 1em 0\"}}> Мои параметры </Headline2>\r\n              </Col>\r\n              {\r\n                this.state.IsStudent && this.state.studentSettings.groupName != \"\"\r\n                  ? (\r\n                    <Col size={10}>\r\n                      {\r\n                        this.state.studentSettings.groupName != \"\"\r\n                          ? <TextBox>\r\n                            <TextBoxLabel>\r\n                              Номер академической группы\r\n                            </TextBoxLabel>\r\n                            <Headline4>{this.state.studentSettings.groupName} </Headline4>\r\n                          </TextBox>\r\n                          : <div></div>\r\n                      }\r\n                      {\r\n                        this.state.studentSettings.subGroupName != \"\" ?\r\n                          <TextBox>\r\n                            <TextBoxLabel>\r\n                              Номер подгруппы\r\n                            </TextBoxLabel>\r\n                            <Headline4>{this.state.studentSettings.subGroupName} </Headline4>\r\n                          </TextBox>\r\n                          : <div></div>\r\n                      }\r\n                      {\r\n                        this.state.studentSettings.engGroupName != \"\"\r\n                          ? <TextBox>\r\n                            <TextBoxLabel>\r\n                              Номер группы по английскому\r\n                            </TextBoxLabel>\r\n                            <Headline4>\r\n                              {this.state.studentSettings.engGroupName}\r\n                            </Headline4>\r\n                          </TextBox>\r\n                          : <div></div>\r\n                      }\r\n                    </Col>\r\n                  )\r\n                  : (\r\n                    <Col size={10}>\r\n                      {\r\n                        this.state.teacherSettings.initials != \"\"\r\n                          ? <TextBox>\r\n                            <TextBoxLabel>\r\n                              ФИО\r\n                            </TextBoxLabel>\r\n                            <Headline4>{this.state.teacherSettings.initials}</Headline4>\r\n                          </TextBox>\r\n                          : <div></div>}\r\n                    </Col>\r\n                  )\r\n              }\r\n              <Col size={10}>\r\n                <TextBox>\r\n                  <TextBoxLabel style={{margin: \"1em 0 0  0\"}}>\r\n                    Уведомления\r\n                  </TextBoxLabel>\r\n                </TextBox>\r\n                {\r\n                  this.state.disabled\r\n                    ? <TextBox>\r\n                      <Headline4>Вкл. </Headline4>\r\n                      <TextBoxLabel>\r\n                        Время отправки\r\n                      </TextBoxLabel>\r\n                      <Headline4>\r\n                        {\r\n                          this.state.timePush.value.getHours() < 10\r\n                            ? `0${this.state.timePush.value.getHours()}`\r\n                            : this.state.timePush.value.getHours()}\r\n                        :{this.state.timePush.value.getMinutes() < 10\r\n                        ? `0${this.state.timePush.value.getMinutes()}`\r\n                        : this.state.timePush.value.getMinutes()\r\n                      }\r\n                      </Headline4>\r\n                    </TextBox>\r\n                    : <TextBox>\r\n                      <Headline4>Выкл.</Headline4>\r\n                    </TextBox>\r\n                }\r\n              </Col>\r\n            </Row>\r\n          )\r\n        }\r\n\r\n        <Spacer100/>\r\n        <Spacer100/>\r\n\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Settings\r\n","//\r\n\r\nexport const DAY_SUNDAY = \"sunday\";\r\nexport const DAY_NOT_SUNDAY = \"notSunday\";\r\n\r\n//\r\n\r\nexport type LESSON_EXIST = 'empty'\r\n  | 'inSchedule'\r\n  | 'notInSchedule'\r\n  | 'endLessons'\r\n  | typeof DAY_SUNDAY;\r\n\r\n//\r\n\r\nexport const DAY_TODAY = 'today';\r\nexport const DAY_TOMORROW = 'tomorrow';\r\nexport type TodayOrTomorrow = 'today' | 'tomorrow'\r\n\r\n//\r\n\r\nexport type StartOrEnd = 'start' | 'end'\r\n\r\n//\r\n\r\nexport const THIS_WEEK = 0;\r\nexport const OTHER_WEEK = 1;\r\nexport type THIS_OR_OTHER_WEEK = typeof THIS_WEEK | typeof OTHER_WEEK;\r\n\r\n//\r\nexport const CHAR_SBER = 'sber'; // Сбер\r\nexport const CHAR_EVA = 'eva';   // Афина\r\nexport const CHAR_JOY = 'joy';   // Джой\r\nexport type CharacterId = typeof CHAR_SBER\r\n  | typeof CHAR_EVA\r\n  | typeof CHAR_JOY\r\n\r\n//\r\n\r\nexport const THEME_DARK = 'dark'\r\nexport const THEME_LIGHT = 'light'\r\nexport type ThemeType = THEME_DARK | THEME_LIGHT\r\n\r\n//\r\n\r\nexport interface IDayHeader {\r\n  title: string\r\n  date: string\r\n  count: number\r\n}\r\n\r\n\r\nexport interface IBuilding {\r\n  name: string\r\n  address: string\r\n  color: string\r\n  short: string\r\n}\r\n\r\n","import {background, gradient, text} from \"@sberdevices/plasma-tokens\";\r\nimport React from \"react\";\r\nimport styled, {createGlobalStyle} from \"styled-components\";\r\nimport {darkEva, darkJoy, darkSber, lightEva, lightJoy, lightSber} from \"@sberdevices/plasma-tokens/themes\";\r\n\r\nimport {\r\n  CHAR_EVA, CHAR_JOY, CHAR_SBER, CharacterId,\r\n  THEME_DARK,\r\n  THEME_LIGHT,\r\n  ThemeType,\r\n} from \"../types/base.d\";\r\n\r\nconst ThemeBackgroundSber = createGlobalStyle(darkSber);\r\nconst ThemeBackgroundEva = createGlobalStyle(darkEva);\r\nconst ThemeBackgroundJoy = createGlobalStyle(darkJoy);\r\nconst ThemeBackgroundSberLight = createGlobalStyle(lightSber);\r\nconst ThemeBackgroundEvaLight = createGlobalStyle(lightEva);\r\nconst ThemeBackgroundJoyLight = createGlobalStyle(lightJoy);\r\n\r\n\r\nexport interface IThemingProps {\r\n  character: CharacterId\r\n  theme: string\r\n}\r\n\r\n\r\nexport const getThemeBackgroundByChar = (\r\n  character: CharacterId,\r\n  themeType: ThemeType,\r\n) => {\r\n  const themeBackgroundByChar = {\r\n    [CHAR_SBER + '_' + THEME_DARK]: <ThemeBackgroundSber/>,\r\n    [CHAR_EVA + '_' + THEME_DARK]: <ThemeBackgroundEva/>,\r\n    [CHAR_JOY + '_' + THEME_DARK]: <ThemeBackgroundJoy/>,\r\n    [CHAR_SBER + '_' + THEME_LIGHT]: <ThemeBackgroundSberLight/>,\r\n    [CHAR_EVA + '_' + THEME_LIGHT]: <ThemeBackgroundEvaLight/>,\r\n    [CHAR_JOY + '_' + THEME_LIGHT]: <ThemeBackgroundJoyLight/>,\r\n  }\r\n  const themeName = character + '_' + themeType;\r\n  const themeBackground = themeBackgroundByChar[themeName];\r\n  return themeBackground || null;\r\n}\r\n\r\n\r\nexport const DocStyle = createGlobalStyle`\r\n  html:root {\r\n    min-height: 100vh;\r\n    color: ${text};\r\n    background-color: ${background};\r\n    background-image: ${gradient};\r\n  }\r\n`;\r\n\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {DeviceThemeProvider} from \"@sberdevices/plasma-ui\";\r\nimport {AssistantWrapper} from \"../lib/AssistantWrapper\";\r\nimport {AssistantCharacter} from \"../types/AssistantReceiveAction\";\r\nimport {CharacterId, ThemeType} from \"../types/base\";\r\n\r\nimport {DocStyle, getThemeBackgroundByChar} from \"./tools\";\r\n\r\n\r\nexport const Theme = ({\r\n                        // assistant,\r\n                        character,\r\n                        theme,\r\n                        children,\r\n                      }: {\r\n  // assistant: AssistantWrapper\r\n  character: CharacterId,\r\n  theme: ThemeType,\r\n  children: JSX.Element[] | JSX.Element,\r\n}) => {\r\n\r\n  // const [characterId, setCharacterId] = useState<AssistantCharacter|undefined>(undefined);\r\n  //\r\n  // const handleAssistantCharacter = (character: AssistantCharacter) => {\r\n  //   setCharacterId(character.id);\r\n  // }\r\n  //\r\n  // useEffect(() => {\r\n  //   assistant.on('event-character', handleAssistantCharacter)\r\n  //\r\n  //   return function cleanup() {\r\n  //     assistant.removeListener('event-character', handleAssistantCharacter);\r\n  //   };\r\n  //\r\n  // });\r\n\r\n  return (\r\n    <DeviceThemeProvider>\r\n      <DocStyle/>\r\n      {\r\n        getThemeBackgroundByChar(character, theme)\r\n      }\r\n      {\r\n        children\r\n      }\r\n    </DeviceThemeProvider>\r\n  )\r\n}\r\n\r\n\r\nexport default Theme\r\n","import React from \"react\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {\r\n  CardHeadline3,\r\n  TextBox,\r\n  Card,\r\n  TextBoxLabel,\r\n  TextBoxSubTitle,\r\n  TextBoxTitle,\r\n  Badge,\r\n  CellListItem,\r\n  Footnote1,\r\n  CardContent,\r\n  Body1,\r\n  Cell,\r\n  TextField,\r\n  CellDisclosure,\r\n  Row\r\n} from \"@sberdevices/plasma-ui\";\r\nimport {\r\n  //IconSettings,\r\n  IconLocation,\r\n  //IconMoreVertical\r\n} from \"@sberdevices/plasma-icons\";\r\nimport {LessonStartEnd, StartEnd} from \"../App\";\r\nimport {NO_LESSONS_NAME} from '../lib/ApiHelper';\r\n//import { darkJoy, darkEva, darkSber } from \"@sberdevices/plasma-tokens/themes\";\r\n//import { createGlobalStyle } from \"styled-components\";\r\n\r\n//import { text, background, gradient } from \"@sberdevices/plasma-tokens\";\r\n// import \"../themes/App.css\";\r\nimport {ACCENT_TEXT_COLOR, COLOR_BLACK} from \"./consts\";\r\nimport {Bell} from \"../types/ScheduleStructure\";\r\n\r\n// import {DEFAULT_TEXT_COLOR} from '../App';\r\n// import {THIS_WEEK, THIS_OR_OTHER_WEEK} from \"../types/base.d\";\r\nimport {lessonTypeAdjToNoun} from '../language-ru/utils';\r\nimport LinkToOnline from './LinkToOnline';\r\nimport {\r\n  LessonStartAndFinishTime,\r\n  LessonName,\r\n  GroupNumber,\r\n  TeacherName,\r\n  LessonLeftContent,\r\n  LessonRightContent\r\n} from \"../components/ScheduleLesson\";\r\nimport { Container } from \"@sberdevices/plasma-ui/node_modules/@sberdevices/plasma-core\";\r\nimport {history, IAppState} from \"../App\";\r\n\r\nconst MainContent = (\r\n  {\r\n    lessonName,\r\n    lessonNumber,\r\n    groupNumber,\r\n    teacher,\r\n    time,\r\n    url,\r\n    lessonType,\r\n    room,\r\n    isTeacherAndValid,\r\n    onTeacherClick,\r\n  }: {\r\n    lessonName: string\r\n    lessonNumber: string\r\n    groupNumber: string\r\n    teacher: string\r\n    room: string\r\n    time: string\r\n    lessonType: string\r\n    url: string\r\n    isAccented: boolean\r\n    isTeacherAndValid: boolean\r\n    onTeacherClick: (teacherName: string) => void\r\n  }\r\n) => {\r\n\r\n  const sanitizeRoom = (room: string): string =>\r\n    room?.replace(/[^\\d]/g, '');\r\n  let date = new Date();\r\nconsole.log(teacher, groupNumber)\r\n  return (\r\n    <Container style={{padding: \"0 2.5em 0.5em 0.5em\"}}>\r\n    <Row style={{margin:\"0 2.5em 0.5em 0.5em\"}}>\r\n    <TextBox >\r\n      <LessonName\r\n        isCurrentWeek={true}\r\n        isSave={true}\r\n        Day={date.getDay()}\r\n        text={lessonName}\r\n        lessonNumber={lessonNumber}\r\n        isAccented={false}\r\n      />\r\n      <TextBoxLabel>\r\n        {lessonType}\r\n      </TextBoxLabel>\r\n      <Footnote1 style={{color: \"grey\", marginTop: \"1em\"}}>\r\n        Дата и время пары\r\n      </Footnote1>\r\n\r\n      <TextBoxTitle>\r\n        {time}\r\n      </TextBoxTitle>\r\n      <LinkToOnline url={url}/>\r\n      </TextBox>\r\n      \r\n      </Row>\r\n      <Row>\r\n        { teacher  ?\r\n      <Card\r\n        onClick={() => onTeacherClick(teacher)}\r\n        style={{margin: \"1em 0.5em 0.5em 0.5em\", width: \"90vw\"}}\r\n      >\r\n        <CardContent >\r\n          \r\n          {\r\n            isTeacherAndValid\r\n              ? \r\n              <TextBox>\r\n                <Footnote1 style={{color: \"grey\"}}>\r\n            Группы\r\n          </Footnote1>\r\n              <GroupNumber\r\n                text={groupNumber}\r\n              />\r\n               </TextBox> \r\n              : <TextBox>\r\n                <Footnote1 style={{color: \"grey\"}}>\r\n            Преподаватель\r\n          </Footnote1>\r\n          <Body1>{teacher}</Body1>\r\n          </TextBox>\r\n\r\n          }\r\n        </CardContent>\r\n      </Card> : <div></div>\r\n}\r\n      </Row>\r\n      <Row>\r\n      <Card style={{margin: \"1em 0.5em 0.5em 0.5em\", width: \"90vw\"}} onClick={() => history.push('/navigation')}>\r\n        <CardContent compact>\r\n          <Cell\r\n            contentLeft={\r\n              <IconLocation/>\r\n            }\r\n            content={\r\n              sanitizeRoom(room) !=\"\" ?\r\n              <TextBox>\r\n                <Body1 style={{marginLeft: \"0.5em\"}}>\r\n                  Корпус {room?.[0]}\r\n                </Body1>\r\n                <TextBoxLabel style={{color: \"grey\", marginLeft: \"0.5em\"}}>\r\n                  Кабинет {sanitizeRoom(room)}\r\n                </TextBoxLabel>\r\n              </TextBox> \r\n              : <TextBox>\r\n              <Body1 style={{marginLeft: \"0.5em\"}}>\r\n                 {room}\r\n              </Body1>\r\n            </TextBox> \r\n            }\r\n            contentRight={\r\n              <CellDisclosure/>\r\n            }\r\n          />\r\n        </CardContent>\r\n      </Card>\r\n</Row>\r\n      {/* <TextField\r\n        // id=\"tf\"\r\n        label=\"Заметка \"\r\n        className=\"editText\"\r\n        // placeholder=\"Напиши номер своей академической группы\"\r\n        style={{margin: \"1em 1em 0 0\"}}\r\n        //   onChange={(event) => {\r\n        //     onChange(event.target.value)\r\n        //   }}\r\n      /> */}\r\n\r\n    \r\n\r\n    </Container>\r\n  )\r\n}\r\n\r\n\r\nconst LessonCard = (\r\n  {\r\n    lesson,\r\n    startEndTime,\r\n    isAccented,\r\n    isTeacherAndValid,\r\n    onTeacherClick,\r\n\r\n  }: {\r\n    lesson: Bell\r\n    startEndTime: StartEnd\r\n    isAccented: boolean\r\n    isTeacherAndValid: boolean\r\n    onTeacherClick: (teacherName: string) => void\r\n\r\n  }\r\n) => {\r\n\r\n  const formatStartEndTime = (startTime: string, endTime: string): string => {\r\n    return startTime ? `${startTime} - ${endTime}` : \"\";\r\n  }\r\n  console.log(\"lesson\", lesson)\r\n  return <Cell\r\n    style={{margin: \"0 1em 1em 1em\", width:\"100%\"}}\r\n    content={\r\n      <MainContent\r\n        lessonName={lesson?.lessonName}\r\n        lessonNumber={lesson?.lessonNumber}\r\n        groupNumber={lesson?.groupNumber}\r\n        teacher={lesson?.teacher}\r\n        url={lesson?.url}\r\n        lessonType={\r\n          // todo: это преобразование должно быть раньше\r\n          lessonTypeAdjToNoun(lesson?.lessonType)\r\n        }\r\n        time={\r\n          formatStartEndTime(startEndTime.start, startEndTime.end)\r\n        }\r\n        room={lesson?.room}\r\n        isAccented={isAccented}\r\n        isTeacherAndValid={isTeacherAndValid}\r\n        onTeacherClick={onTeacherClick}\r\n      />\r\n    }\r\n\r\n  />\r\n}\r\n\r\nexport default LessonCard\r\n","import React from \"react\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  HeaderBack,\r\n  HeaderLogo,\r\n  HeaderTitle,\r\n  HeaderTitleWrapper,\r\n  HeaderRoot,\r\n} from \"@sberdevices/plasma-ui\";\r\nimport {\r\n  StartEnd,\r\n} from '../App';\r\n\r\nimport {Spacer300} from '../components/Spacers'\r\nimport logo from \"../images/App Icon.png\";\r\nimport {Bell} from '../types/ScheduleStructure'\r\nimport LessonCard from \"../components/LessonCard\";\r\n\r\nimport {createBrowserHistory} from 'history';\r\nimport ApiModel from \"../lib/ApiModel\";\r\n\r\nexport const history = createBrowserHistory();\r\n\r\nconst Lesson = ({\r\n                  apiModel,\r\n                  currentLesson,\r\n                  isTeacherAndValid,\r\n                  currentLessonStartEnd,\r\n                }: {\r\n  isTeacherAndValid: boolean,\r\n  currentLesson: Bell,\r\n  currentLessonStartEnd: StartEnd,\r\n  pageNo: number\r\n  apiModel: ApiModel\r\n}) => {\r\n  return (\r\n    <Container style={{\r\n      padding: 0,\r\n      // overflow: \"hidden\",\r\n      // height: '100%',\r\n      // overflow: 'auto',\r\n    }}>\r\n\r\n      <Row style={{margin: \"1em\"}}>\r\n        <HeaderRoot>\r\n          <HeaderBack onClick={() => {\r\n            history.go(-1)\r\n          }}/>\r\n          <HeaderLogo\r\n            src={logo}\r\n            alt=\"Logo\"\r\n            onClick={() => history.push(\"/dashboard\")}\r\n          />\r\n          <HeaderTitleWrapper>\r\n            <HeaderTitle>Карточка пары</HeaderTitle>\r\n          </HeaderTitleWrapper>\r\n        </HeaderRoot>\r\n      </Row>\r\n\r\n      <Row>\r\n        <Col style={{overflow: \"hidden\"}}>\r\n          <LessonCard\r\n            lesson={currentLesson}\r\n            startEndTime={currentLessonStartEnd}\r\n            isTeacherAndValid={isTeacherAndValid}\r\n            isAccented={true}\r\n            // todo: задавать имя преподавателя\r\n            onTeacherClick={async () => {\r\n              await apiModel.CheckIsCorrectTeacher({initials: currentLesson.teacher}, false)\r\n              let current_date = new Date().toISOString().slice(0, 10)\r\n              history.push('/schedule/' + current_date + '/' + false + '/' + true)\r\n            }}\r\n          />\r\n        </Col>\r\n      </Row>\r\n\r\n      <Spacer300/>\r\n\r\n    </Container>\r\n\r\n  )\r\n}\r\n\r\nexport default Lesson\r\n","import {createAssistant, createSmartappDebugger} from \"@sberdevices/assistant-client\";\r\nimport EventEmitter from 'eventemitter3';\r\n\r\nimport {DAY_NOT_SUNDAY, DAY_SUNDAY} from \"../types/base.d\";\r\nimport {\r\n  AssistantAction,\r\n  AssistantEvent,\r\n  AssistantEventCharacter,\r\n  AssistantEventSmartAppData\r\n} from \"../types/AssistantReceiveAction\";\r\nimport {AssistantSendAction} from \"../types/AssistantSendAction\";\r\nimport {App, history} from \"../App\";\r\n\r\nexport const initializeAssistant = (getState) => {\r\n  if (process.env.NODE_ENV === \"development\") {\r\n    return createSmartappDebugger({\r\n      token: process.env.REACT_APP_TOKEN ?? \"\",\r\n      initPhrase: `Запусти ${process.env.REACT_APP_SMARTAPP}`,\r\n      getState,\r\n    });\r\n  }\r\n  return createAssistant({getState});\r\n};\r\n\r\ntype AssistantWrapperEvents = 'event-character'\r\n  | 'event-sub'\r\n  | 'action-group'     //\r\n  | 'action-subGroup'  //\r\n  | 'action-engGroup'  //\r\n  | 'for_today'\r\n  | 'for_tomorrow'\r\n  | 'show_schedule'    //\r\n  | 'for_this_week'    //\r\n  | 'for_next_week'    //\r\n  | 'when_lesson'\r\n  | 'how_many'\r\n  | 'how_many_left'\r\n  | 'where'\r\n  | 'what_lesson'\r\n  | 'first_lesson'\r\n  | 'exit'             //\r\n  | 'day_schedule'     //\r\n  ;\r\n\r\nexport class AssistantWrapper extends EventEmitter<AssistantWrapperEvents> {\r\n  _assistant\r\n  _App: App\r\n\r\n  constructor(_App: App) {\r\n    super();\r\n    this._App = _App;\r\n  }\r\n\r\n  init() {\r\n    /*\r\n    this._assistant = initializeAssistant(() => this._App.getStateForAssistant());\r\n    */\r\n    this._assistant = initializeAssistant(() => this.getStateForAssistantStub());\r\n\r\n    this._assistant.on(\"data\", (event: AssistantEvent) => {\r\n      console.log('AssistantWrapper: _assistant.on(\"data\"): event:', event);\r\n      this.handleAssistantDataEvent(event);\r\n    });\r\n\r\n    this._assistant.on(\"start\", (event) => {\r\n      console.log(`AssistantWrapper: _assistant.on(start)`, event);\r\n    });\r\n\r\n    this._assistant.on(\"ANSWER_TO_USER\", (event) => {\r\n      console.log(`AssistantWrapper: _assistant.on(raw)`, event);\r\n    });\r\n  }\r\n\r\n  getStateForAssistantStub() {\r\n    console.log('getStateForAssistantStub');\r\n    const state = {\r\n      item_selector: {\r\n        items: [],\r\n        /*\r\n                items: this.state.notes.map(\r\n                  ({ id, title }, index) => ({\r\n                    number: index + 1,\r\n                    id,\r\n                    title,\r\n                  })\r\n                ),\r\n        */\r\n      },\r\n    };\r\n    console.log('getStateForAssistantStub: state:', state)\r\n    return state;\r\n  }\r\n\r\n  handleAssistantDataEvent(event: AssistantEvent) {\r\n    console.log('AssistantWrapper.handleAssistantDataEvent: event:', event);\r\n\r\n    switch (event?.type) {\r\n\r\n      case \"character\":\r\n        this.handleAssistantDataEventCharacter(event);\r\n        break;\r\n\r\n      case \"smart_app_data\":\r\n        this.handleAssistantDataEventSmartAppData(event);\r\n        break\r\n\r\n      default:\r\n        break\r\n    }\r\n  }\r\n\r\n  handleAssistantDataEventCharacter(event: AssistantEventCharacter) {\r\n    console.log('AssistantWrapper.handleAssistantEventCharacter: character.id:', event.character.id);\r\n\r\n    this.emit('event-character', event.character);\r\n    this._App.handleAssistantCharacter(event.character)\r\n  }\r\n\r\n  handleAssistantDataEventSmartAppData(event: AssistantEventSmartAppData) {\r\n    console.log('AssistantWrapper.handleAssistantEventSmartAppData: event:', event);\r\n\r\n    if (event.sub !== undefined) {\r\n      this.emit('event-sub', event.sub);\r\n      /*await*/ this._App.handleAssistantSub(event.sub);\r\n    }\r\n\r\n    const {action} = event;\r\n    /*await*/ this.dispatchAssistantAction(action);\r\n  }\r\n\r\n  async dispatchAssistantAction(action: AssistantAction) {\r\n    console.log('AssistantWrapper.dispatchAssistantAction:', action)\r\n\r\n    if (!action) return;\r\n\r\n    switch (action.type) {\r\n\r\n      case 'settings':\r\n        break;\r\n\r\n      case 'profile':\r\n      case 'show_home_page':\r\n        this._App.handleAssistantPageChange(\"/home\")\r\n        break;\r\n\r\n      case 'show_settings':\r\n        this._App.handleAssistantPageChange(\"/settings\")\r\n        break;\r\n\r\n      case 'navigation':\r\n        this._App.handleAssistantPageChange('/navigation')\r\n        break;\r\n\r\n      case 'faq':\r\n        this._App.handleAssistantPageChange('/faq')\r\n        break;\r\n\r\n      case 'contacts':\r\n        this._App.handleAssistantPageChange('/contacts')\r\n        break;\r\n\r\n      case 'dashboard':\r\n        history.push(\"/dashboard\")\r\n        break;\r\n\r\n      case 'group':\r\n        let group = action.note[0] === 0\r\n          ? action.note[1].data.groupName[0]\r\n          : action.note[1].data.groupName[1];\r\n        group = group.toUpperCase();\r\n        this.emit('action-group', group);\r\n        break\r\n\r\n      case 'subgroup':\r\n        if (action.note) {\r\n          const subGroup = action.note;\r\n          this.emit('action-subGroup', subGroup);\r\n        } else {\r\n          console.warn('AssistantWrapper.dispatchAssistantAction: set_eng_group: action.note:', action.note)\r\n        }\r\n        break\r\n\r\n      case 'set_eng_group':\r\n        if (action.group) {\r\n          const engGroup = String(action.group);\r\n          this.emit('action-engGroup', engGroup);\r\n        } else {\r\n          console.warn('AssistantWrapper.dispatchAssistantAction: set_eng_group: action.group:', action.group)\r\n        }\r\n        break\r\n\r\n      case 'for_today':\r\n        this.emit('for_today', 0)\r\n        await this._App.handleAssistantForDayOffset(0)\r\n        break\r\n\r\n      case 'for_tomorrow':\r\n        this.emit('for_tomorrow', 1)\r\n        await this._App.handleAssistantForDayOffset(1)\r\n        break\r\n\r\n      case 'for_next_week':\r\n        this.emit('for_next_week')\r\n        break\r\n\r\n      case 'for_this_week':\r\n        this.emit('for_this_week')\r\n        break\r\n      \r\n\r\n      case 'when_lesson':\r\n        const [type, day, lessonNum] = action.note || [];\r\n        this.emit('when_lesson', type, day, lessonNum)\r\n        await this._App.handleAssistantWhenLesson(type, day, lessonNum)\r\n        break\r\n\r\n      case 'how_many':\r\n        if (action.note) {\r\n          const {timestamp, dayOfWeek: dayOfWeekStrIndex} = action.note;\r\n          const date = new Date(timestamp);\r\n          this.emit('how_many', date, parseInt(dayOfWeekStrIndex))\r\n          await this._App.handleAssistantHowMany(date, parseInt(dayOfWeekStrIndex))\r\n        } else {\r\n          this.emit('how_many', undefined, undefined)\r\n          await this._App.handleAssistantHowMany(undefined, undefined)\r\n        }\r\n        break\r\n\r\n      // Сколько пар осталось (сегодня)\r\n      case 'how_many_left':\r\n        this.emit('how_many_left')\r\n        await this._App.handleAssistantHowManyLeft()\r\n        break\r\n\r\n      case 'where':\r\n        const when = action?.note?.when ?? 'now';\r\n        this.emit('where', when)\r\n        await this._App.handleAssistantWhere(when)\r\n        break\r\n\r\n      case 'what_lesson':\r\n        const when_ = action?.note?.when ?? 'now';\r\n        this.emit('what_lesson', when_)\r\n        await this._App.handleAssistantWhatLesson(when_)\r\n        break\r\n\r\n      case 'first_lesson':\r\n        let dayOfWeek = parseInt(action?.note?.dayOfWeek);\r\n        if (isNaN(dayOfWeek)) {\r\n          console.warn('dispatchAssistantAction: first_lesson: dayOfWeek is undefined');\r\n          dayOfWeek = 1; // Понедельник\r\n        }\r\n        this.emit('first_lesson', dayOfWeek)\r\n        await this._App.handleAssistantFirstLesson(dayOfWeek)\r\n        break\r\n\r\n      case 'day_schedule':\r\n       \r\n        this.emit('day_schedule', action)\r\n       // await this._App.handleAssistantDaySchedule(parseInt(strDayOfWeekNum_), action.note[1], action.note[2])\r\n        break\r\n\r\n      case 'show_schedule':\r\n        this.emit('show_schedule');\r\n        await this._App.handleAssistantShowSchedule(action.note)\r\n        break\r\n\r\n      case 'exit':\r\n        this.emit('exit');\r\n        this._assistant.close();\r\n        break\r\n\r\n      default:\r\n      // console.warn('dispatchAssistantAction: Unknown action.type:', action.type)\r\n\r\n    }\r\n  }\r\n\r\n  //\r\n\r\n  sendAction(action: AssistantSendAction) {\r\n    console.log(action);\r\n    return this._assistant.sendData({\r\n      action\r\n    })\r\n  }\r\n\r\n  //\r\n\r\n  sendHello() {\r\n    this.sendAction({\r\n      action_id: \"hello_phrase\"\r\n    })\r\n  }\r\n\r\n  sendTodaySchedule(day: typeof DAY_SUNDAY | typeof DAY_NOT_SUNDAY) {\r\n    this.sendAction({\r\n      action_id: \"todaySchedule\",\r\n      parameters: {\r\n        day\r\n      },\r\n    })\r\n  }\r\n\r\n  sendTomorrowSchedule(day: typeof DAY_SUNDAY | typeof DAY_NOT_SUNDAY) {\r\n    this.sendAction({\r\n      action_id: \"tomorrowSchedule\",\r\n      parameters: {\r\n        day\r\n      },\r\n    })\r\n  }\r\n\r\n  sendSay6(dayName: string) {\r\n    this.sendAction({\r\n      action_id: \"say6\",\r\n      parameters: {\r\n        dayName,\r\n      },\r\n    })\r\n  }\r\n\r\n  sendChangeGroup(isStudent: boolean) {\r\n    this.sendAction({\r\n      action_id: \"change_group\",\r\n      parameters: {\r\n        IsStudent: isStudent\r\n      },\r\n    })\r\n  }\r\n\r\n}\r\n","import React from \"react\";\r\nimport {Router, Route, Switch} from 'react-router';\r\nimport {createBrowserHistory} from 'history';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {detectDevice} from '@sberdevices/plasma-ui/utils';\r\nimport {DeviceThemeProvider} from \"@sberdevices/plasma-ui\";\r\n\r\nimport number from './language-ru/Number';\r\nimport DayOfWeek from './language-ru/DayOfWeek';\r\n\r\nimport {\r\n  getSchedulebyUserId,\r\n} from \"./lib/ApiHelper\";\r\nimport ApiModel from \"./lib/ApiModel\";\r\n\r\nimport DashboardPage from './pages/DashboardPage';\r\n\r\nimport HomePage from './pages/HomePage';\r\nimport Contacts from './pages/Contacts';\r\nimport FAQ from './pages/FAQ';\r\nimport Start from './pages/Start';\r\nimport NavigatorPage from './pages/NavigatorPage';\r\nimport SchedulePage from './pages/SchedulePage';\r\nimport Settings from './pages/Settings';\r\n\r\nimport breaks from './data/breaks.json';\r\n\r\n\r\nimport \"./themes/App.css\";\r\nimport {Theme} from \"./themes/Theme\";\r\nimport {DocStyle, getThemeBackgroundByChar} from \"./themes/tools\";\r\nimport {\r\n  AssistantCharacter,\r\n  NowOrWill,\r\n} from './types/AssistantReceiveAction.d'\r\nimport {\r\n  AssistantSendAction,\r\n  AssistantSendActionSay,\r\n  AssistantSendActionSay1,\r\n  AssistantSendActionSay2,\r\n  AssistantSendActionSay3,\r\n  AssistantSendActionSay4,\r\n  AssistantSendActionSay5,\r\n} from './types/AssistantSendAction.d'\r\n\r\nimport {\r\n  CHAR_SBER,\r\n  CharacterId,\r\n  DAY_NOT_SUNDAY,\r\n  DAY_SUNDAY,\r\n  DAY_TODAY,\r\n  DAY_TOMORROW,\r\n  LESSON_EXIST,\r\n  StartOrEnd,\r\n  ThemeType,\r\n  THEME_DARK,\r\n  THEME_LIGHT,\r\n  THIS_WEEK,\r\n  TodayOrTomorrow,\r\n} from './types/base.d'\r\nimport {\r\n  formatDateWithDots,\r\n  formatTimeHhMm,\r\n  MS_IN_DAY,\r\n} from './lib/datetimeUtils';\r\nimport {\r\n  pairNumberToPairText\r\n} from './language-ru/utils';\r\n\r\n\r\nimport Lesson from \"./pages/Lesson\";\r\nimport {AssistantWrapper} from './lib/AssistantWrapper';\r\nimport {lesson} from \"./stories/consts\";\r\n\r\nexport const HOME_PAGE_ROUTE = \"home\";\r\n\r\nconst INITIAL_PAGE = 16;\r\n\r\nconst SEVEN_DAYS = 7 * MS_IN_DAY;\r\nconst ENTER_DATA_NO_OFFICIAL_TEXT = \"Заполни данные, чтобы открывать расписание одной фразой\";\r\nconst ENTER_DATA_OFFICIAL_TEXT = \"Чтобы посмотреть расписание, укажите данные учебной группы\";\r\n\r\n/**\r\n * Время начала и конца пар\r\n */\r\n\r\nexport interface StartEnd {\r\n  start: string\r\n  end: string\r\n}\r\n\r\nexport interface ICheckIsCorrect {\r\n  correct_sub: boolean\r\n  correct_eng: boolean\r\n  correct: boolean\r\n}\r\n\r\nconst MAX_BELL_COUNT = 8;\r\n\r\nconst FIRST_DAY_OTHER_WEEK = 8;\r\n\r\nexport const LessonStartEnd: StartEnd[] = Array(MAX_BELL_COUNT).fill({start: \"\", end: \"\"})\r\n\r\nexport const history = createBrowserHistory();\r\n\r\nconst getTodayDayOfWeek = () => (new Date()).getDay();\r\n\r\n//\r\ninterface IAppProps {\r\n}\r\n\r\nexport interface IAppState {\r\n  notes: { id: string, title: string }[];\r\n  page: number\r\n  date: number\r\n  character: CharacterId\r\n  theme: ThemeType\r\n  isUser: boolean\r\n}\r\n\r\nexport class App extends React.Component<IAppProps, IAppState> {\r\n  assistant: AssistantWrapper\r\n  apiModel: ApiModel\r\n\r\n  constructor(props: IAppProps) {\r\n    super(props);\r\n    this.apiModel = new ApiModel()\r\n    this.getCurrentLesson = this.getCurrentLesson.bind(this);\r\n    this.getIsCorrectTeacher = this.getIsCorrectTeacher.bind(this)\r\n    console.log('constructor');\r\n    history.push(\"/dashboard\")\r\n    this.state = {\r\n      notes: [],\r\n      page: INITIAL_PAGE,\r\n      date: Date.now(),\r\n      theme: THEME_DARK,\r\n      character: CHAR_SBER,\r\n      isUser: false,\r\n    }\r\n    this.assistant = new AssistantWrapper(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.assistant.init();\r\n    this.setState({page: getTodayDayOfWeek()})\r\n  }\r\n\r\n  //////////////////////////////////////////////////////////////////////////////\r\n\r\n  handleAssistantCharacter(character: AssistantCharacter) {\r\n    this.setState({\r\n      character: character.id,\r\n    });\r\n  }\r\n\r\n  async handleAssistantSub(userId: string) {\r\n    this.apiModel = new ApiModel()\r\n    await this.apiModel.fetchUser(userId)\r\n    console.log(\"userId\", userId)\r\n    const user = this.apiModel.user;\r\n    if (this.apiModel.userId != undefined && this.apiModel.userId != \"\") {\r\n\r\n      const userSchedule = await getSchedulebyUserId(userId)\r\n\r\n      if (userSchedule) {\r\n        this.apiModel.pushSettings = {\r\n          IsActive: userSchedule.isActive,\r\n          Hour: userSchedule.hour,\r\n          Minute: userSchedule.minute,\r\n        }\r\n      }\r\n\r\n      await this.apiModel.getSchedulebyUserId()\r\n      let date = new Date()\r\n      date.setDate(date.getDate() + 7)\r\n      history.push(\"/dashboard\")\r\n\r\n      // Проверяем, сохранен ли пользователь\r\n      if (!this.apiModel.isSavedUser) {\r\n        console.log(\"handleAssistantSub: first time\")\r\n        await this.apiModel.createUser()\r\n\r\n\r\n        history.push('/start')\r\n\r\n        // Проигрываем начальное приветствие\r\n        this.assistant.sendHello()\r\n\r\n        // Создаем пользователя в базе данных с текущими настройками\r\n\r\n      }\r\n      this.setState({isUser: true});\r\n    }\r\n  }\r\n\r\n  handleAssistantPageChange(pageRoute: string) {\r\n    history.push(pageRoute)\r\n  }\r\n\r\n  async handleAssistantForDayOffset(offset: 0 | 1) {\r\n    if (this.apiModel.CheckGroupOrTeacherSetted()) {\r\n      const isSunday = (\r\n        getTodayDayOfWeek() + offset === 0 ||\r\n        getTodayDayOfWeek() + offset === 7\r\n      );\r\n      if (isSunday) {\r\n        this.assistant.sendTodaySchedule(DAY_SUNDAY);\r\n        return this.ChangePage(true);\r\n\r\n      } else {\r\n        offset == 0\r\n          ? this.assistant.sendTodaySchedule(DAY_NOT_SUNDAY)\r\n          : this.assistant.sendTomorrowSchedule(DAY_NOT_SUNDAY)\r\n        return this.ChangePage(true);\r\n      }\r\n    }\r\n  }\r\n\r\n  async handleAssistantWhenLesson(\r\n    type1: StartOrEnd,\r\n    day1: TodayOrTomorrow,\r\n    lessonNum: string,   // порядковый номер пары\r\n  ) {\r\n    if (this.apiModel.CheckGroupOrTeacherSetted()) {\r\n      let params: AssistantSendActionSay['parameters'];\r\n      const dayOfWeekZeroIndex = day1 === DAY_TODAY\r\n        ? getTodayDayOfWeek()\r\n        : getTodayDayOfWeek() + 1;\r\n      let startEndLesson = this.getStartEndLesson(type1, dayOfWeekZeroIndex, lessonNum)\r\n\r\n      if (startEndLesson !== undefined && startEndLesson[1] === DAY_SUNDAY) {\r\n        const type2 = startEndLesson[0];\r\n        const day2 = startEndLesson[1];\r\n        params = {\r\n          type: type2,\r\n          day: day2,\r\n        }\r\n      } else {\r\n        params = {\r\n          type: type1,\r\n          day: day1,\r\n          ordinal: number.ordinal.fem.singular.nominative[lessonNum],\r\n          time: startEndLesson\r\n        }\r\n      }\r\n\r\n      this.assistant.sendAction({\r\n        action_id: \"say\",\r\n        parameters: params,\r\n      })\r\n      let date = new Date().toISOString().slice(0, 10)\r\n      if ((params.day === DAY_TODAY) && (getTodayDayOfWeek() !== 0)) {\r\n        this.setState({page: getTodayDayOfWeek() - 1})\r\n        return this.ChangePage(true);\r\n\r\n      } else if (getTodayDayOfWeek() + 1 === 7) {\r\n        return this.ChangePage(true);\r\n\r\n      } else {\r\n        this.setState({page: getTodayDayOfWeek()})\r\n        return this.ChangePage(true);\r\n      }\r\n    }\r\n  }\r\n\r\n  async handleAssistantHowMany(date: Date | undefined, dayOfWeek: number | undefined) {\r\n    console.log('handleAssistantHowMany: date', date, 'dayOfWeek:', dayOfWeek)\r\n\r\n    let day: TodayOrTomorrow | undefined;\r\n    if (this.apiModel.CheckGroupOrTeacherSetted()) {\r\n\r\n      if (date) {\r\n        if (getTodayDayOfWeek() + 1 === dayOfWeek) {\r\n          day = DAY_TODAY;\r\n        } else if (getTodayDayOfWeek() + 2 === dayOfWeek) {\r\n          day = DAY_TOMORROW;\r\n        } else { // fallback\r\n          day = undefined\r\n        }\r\n\r\n      } else {\r\n        date = new Date();\r\n        day = DAY_TODAY\r\n      }\r\n\r\n      let assistantParams: AssistantSendActionSay1['parameters'];\r\n      await this.apiModel.getScheduleFromDb(date, true, false)\r\n      const lessonCount = this.getLessonsCountForDate(date)\r\n      let groupApiModel = this.apiModel.user?.group == undefined ? \"\" : this.apiModel.user.group\r\n      if (groupApiModel !== \"\" && lessonCount > 0) {\r\n        const lessonText = pairNumberToPairText(lessonCount);\r\n        const dayOfWeekIndex = date.getDay();\r\n        const dayOfWeekLongPrepositional = DayOfWeek.long.prepositional[dayOfWeekIndex]?.toLowerCase();\r\n\r\n        assistantParams = {\r\n          day: day,\r\n          lesson: lessonText,\r\n          dayName: dayOfWeekLongPrepositional,\r\n          amount: number.cardinal.fem[lessonCount]\r\n        }\r\n        this.setState({page: dayOfWeekIndex})\r\n        if (dayOfWeekIndex < getTodayDayOfWeek()) {\r\n          this.ChangePage(false);\r\n        } else {\r\n          this.ChangePage(true)\r\n        }\r\n\r\n      } else {\r\n        assistantParams = {\r\n          day: DAY_SUNDAY,\r\n        };\r\n      }\r\n\r\n      this.assistant.sendAction({\r\n        action_id: \"say1\",\r\n        parameters: assistantParams,\r\n      })\r\n    }\r\n  }\r\n\r\n  // Сколько пар осталось (сегодня)\r\n  handleAssistantHowManyLeft() {\r\n    if (this.apiModel.CheckGroupOrTeacherSetted()) {\r\n      let assistantParams: AssistantSendActionSay2['parameters'];\r\n      let amountOfRemainingLessons = this.getAmountOfRemainingLessons(new Date())\r\n\r\n      if (getTodayDayOfWeek() === 0) {\r\n        assistantParams = {\r\n          day: DAY_SUNDAY,\r\n        }\r\n\r\n      } else {\r\n        assistantParams = {\r\n          amount: String(amountOfRemainingLessons),\r\n          pron: number.cardinal.fem[amountOfRemainingLessons]\r\n        }\r\n      }\r\n\r\n      this.assistant.sendAction({\r\n        action_id: \"say2\",\r\n        parameters: assistantParams,\r\n      })\r\n\r\n      if ((this.apiModel.isSavedUser && this.apiModel.user?.group_id != \"\") || (this.apiModel.isSavedUser && this.apiModel.unsavedUser?.group_id != \"\")) {\r\n        this.setState({page: getTodayDayOfWeek() - 1})\r\n        this.ChangePage(true);\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  handleAssistantWhere(when: NowOrWill) {\r\n    console.log('handleAssistantWhere: when:', when)\r\n    if (this.apiModel.CheckGroupOrTeacherSetted()) {\r\n      const whereLessonParams: AssistantSendActionSay3['parameters'] = this.whereWillLesson(new Date(this.state.date), when)\r\n      this.assistant.sendAction({\r\n        action_id: \"say3\",\r\n        parameters: whereLessonParams,\r\n      })\r\n\r\n      if (whereLessonParams.exist === DAY_SUNDAY) {\r\n        //this.setState({ page: 8 })\r\n      } else {\r\n        this.ChangePage(true);\r\n      }\r\n    }\r\n  }\r\n\r\n  handleAssistantWhatLesson(when: NowOrWill) {\r\n    console.log(\"handleAssistantWhatLesson: when:\", when)\r\n    if (this.apiModel.CheckGroupOrTeacherSetted()) {\r\n\r\n      const whatLesson: AssistantSendActionSay4['parameters'] = this.whatLesson(new Date(), when);\r\n      console.log('dispatchAssistantAction: what_lesson: whatLesson:', whatLesson)\r\n\r\n      this.assistant.sendAction({\r\n        action_id: \"say4\",\r\n        parameters: whatLesson,\r\n      })\r\n      this.ChangePage(true);\r\n    }\r\n  }\r\n\r\n  handleAssistantFirstLesson(dayOfWeek: number) {\r\n    if (this.apiModel.CheckGroupOrTeacherSetted()) {\r\n\r\n      let firstLessonNumStr: string;\r\n      let day1: undefined | TodayOrTomorrow = DAY_TODAY;\r\n\r\n      const dayOfWeekZeroIndex = dayOfWeek - 1\r\n      console.log('dispatchAssistantAction: first_lesson:', dayOfWeek)\r\n      firstLessonNumStr = this.getStartFirstLesson(dayOfWeekZeroIndex)[1]\r\n\r\n      if (firstLessonNumStr === undefined) {\r\n        console.warn('dispatchAssistantAction: firstLessonNumStr is undefined')\r\n      }\r\n\r\n      if (getTodayDayOfWeek() === dayOfWeek - 1) {\r\n        day1 = DAY_TODAY;\r\n\r\n      } else if (getTodayDayOfWeek() + 1 === dayOfWeek - 1) {\r\n        day1 = DAY_TOMORROW;\r\n\r\n      } else {\r\n        day1 = undefined;\r\n      }\r\n\r\n      const dayOfWeekLongPrepositional = DayOfWeek.long.prepositional[dayOfWeekZeroIndex]?.toLowerCase();\r\n\r\n      const assistantParams: AssistantSendActionSay5['parameters'] = {\r\n        num: number.ordinal.fem.singular.genitive[firstLessonNumStr/*[0]*/],\r\n        day: day1,\r\n        dayName: dayOfWeekLongPrepositional\r\n      }\r\n      console.log('dispatchAssistantAction: assistantParams:', assistantParams)\r\n      this.setState({page: dayOfWeek})\r\n      if (dayOfWeekZeroIndex < getTodayDayOfWeek()) {\r\n\r\n        this.ChangePage(false)\r\n      } else this.ChangePage(true)\r\n\r\n      this.assistant.sendAction({\r\n        action_id: \"say5\",\r\n        parameters: assistantParams,\r\n      })\r\n    }\r\n  }\r\n\r\n\r\n  async handleAssistantDaySchedule(dayOfWeek: number, note1, note2) {\r\n    console.log('handleAssistantDaySchedule:', dayOfWeek, note1, note2)\r\n    if (this.apiModel.CheckGroupOrTeacherSetted()) {\r\n      const dayOfWeekZeroIndex = dayOfWeek - 1;\r\n\r\n      this.setState({page: dayOfWeek - 1})\r\n      if (note1 === null && note2 === null) {\r\n        console.log('dispatchAssistantAction: day_schedule: isCurrentWeek:',);\r\n        this.ChangePage(true)\r\n      } else {\r\n        console.log('dispatchAssistantAction: day_schedule: dayOfWeekZeroIndex:', dayOfWeekZeroIndex);\r\n\r\n        if (note1 !== null) {\r\n          console.log('dispatchAssistantAction: day_schedule: note[1]:', note1);\r\n          this.ChangePage(true)\r\n\r\n        } else if (note2 !== null) {\r\n          console.log('dispatchAssistantAction: day_schedule: note[2]:', note2);\r\n          this.ChangePage(false)\r\n\r\n        }\r\n      }\r\n      console.log('dispatchAssistantAction: day_schedule: dayOfWeekZeroIndex:', dayOfWeekZeroIndex, this.state.page)\r\n\r\n      const dayOfWeekLongPrepositional = DayOfWeek.long.prepositional[dayOfWeekZeroIndex]?.toLowerCase();\r\n\r\n      this.assistant.sendSay6(dayOfWeekLongPrepositional);\r\n\r\n\r\n    }\r\n  }\r\n\r\n  async handleAssistantShowSchedule(actionNote: string | undefined) {\r\n\r\n    if (String(history.location.pathname).toLocaleLowerCase().includes(HOME_PAGE_ROUTE)) {\r\n      return\r\n    }\r\n    console.log('dispatchAssistantAction: show schedule', actionNote);\r\n    if (actionNote) {\r\n\r\n      const isStudent = !actionNote.includes(\"препод\")\r\n      if (isStudent) {\r\n        history.push('/home/true')\r\n      } else {\r\n        history.push('/home/false')\r\n      }\r\n      this.assistant.sendChangeGroup(isStudent);\r\n\r\n    } else {\r\n      let success = true;\r\n\r\n      if (success) {\r\n        await this.apiModel.LoadSchedule(this.apiModel.isSavedSchedule)\r\n        let current_date = new Date().toISOString().slice(0, 10)\r\n        history.push('/schedule/' + current_date + '/' + true + '/' + true)\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  //Зачем проверка на correct?\r\n  getIsCorrectTeacher(): boolean {\r\n    return !this.apiModel.isStudent\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param dayNumber\r\n   * @returns {[\r\n   *   string,   -- строка, содержащая начало пары\r\n   *   string,   -- порядковый номер пары (1 символ)\r\n   * ]}\r\n   */\r\n  getStartFirstLesson(dayNumber: number): [string, string] {\r\n    let lessonsStart = '';\r\n    let lessonNumber = '';\r\n    const lesson = Boolean(this.apiModel.isSavedSchedule) ? this.apiModel.saved_schedule : this.apiModel.other_schedule\r\n    if (dayNumber < getTodayDayOfWeek()) {\r\n      for (let lessonIdx in lesson.other_week[dayNumber - 1]) {\r\n        if (lesson.other_week[dayNumber - 1][lessonIdx].lessonName !== \"\") {\r\n          lessonsStart = LessonStartEnd[Number(lessonIdx)].start\r\n          console.log('getStartFirstLesson: lessonIdx:', lesson.other_week[dayNumber - 1][lessonIdx].lessonName)\r\n          lessonNumber = String(Number(lessonIdx) + 1);\r\n          break\r\n        }\r\n      }\r\n    } else {\r\n      for (let lessonIdx in lesson.current_week[dayNumber - 1]) {\r\n        if (lesson.current_week[dayNumber - 1][lessonIdx].lessonName !== \"\") {\r\n          lessonsStart = LessonStartEnd[Number(lessonIdx)].start\r\n          console.log('getStartFirstLesson: lessonIdx:', lessonIdx, lesson.current_week[dayNumber - 1][lessonIdx].lessonName)\r\n          lessonNumber = String(Number(lessonIdx) + 1);\r\n          break\r\n        }\r\n      }\r\n    }\r\n    return [lessonsStart, lessonNumber];\r\n  }\r\n\r\n\r\n  // определяет когда кончаются пары сегодня или завтра\r\n  getEndLastLesson(todayOrTomorrow: number): string {\r\n    let lessonEnd = '';\r\n    console.log(\"todayOrTomorrow\", todayOrTomorrow)\r\n    const lesson = Boolean(this.apiModel.isSavedSchedule) ? this.apiModel.saved_schedule : this.apiModel.other_schedule\r\n    console.log(\"Lesson\", lesson)\r\n    for (let lessonIdx in lesson.current_week[todayOrTomorrow]) {\r\n      if (lesson.current_week[todayOrTomorrow][lessonIdx].lessonName !== \"\") {\r\n        lessonEnd = LessonStartEnd[lessonIdx].end;\r\n      }\r\n    }\r\n    return lessonEnd;\r\n  }\r\n\r\n  // определяет начало или конец энной пары сегодня или завтра\r\n  getBordersRequestLesson(startOrEnd: StartOrEnd, dayOfWeekIndex: number, lessonNum: number): string | undefined {\r\n\r\n    const lessonName = Boolean(this.apiModel.isSavedSchedule) ? this.apiModel.saved_schedule.current_week[dayOfWeekIndex][lessonNum - 1].lessonName : this.apiModel.other_schedule.current_week[dayOfWeekIndex][lessonNum - 1].lessonName\r\n\r\n    if (lessonName !== \"\") {\r\n      if (startOrEnd === \"start\") {\r\n        return LessonStartEnd[lessonNum - 1].start\r\n      } else {\r\n        return LessonStartEnd[lessonNum - 1].end\r\n      }\r\n    }\r\n  }\r\n\r\n  getStartEndLesson(\r\n    startOrEnd: StartOrEnd,\r\n    dayOfWeekIndex: number,\r\n    // todo: lessonNum строка или число ???\r\n    lessonNum,\r\n  ): string | [string, string] | undefined {\r\n    if (dayOfWeekIndex === 0) {\r\n      return [String(dayOfWeekIndex), DAY_SUNDAY]\r\n\r\n    } else if (dayOfWeekIndex === 7) {\r\n      return [String(dayOfWeekIndex), DAY_SUNDAY]\r\n\r\n    } else if (startOrEnd === \"start\") {\r\n      if (dayOfWeekIndex === getTodayDayOfWeek()) {\r\n        if (lessonNum === \"0\") {\r\n          return this.getStartFirstLesson(dayOfWeekIndex)[0]\r\n        } else {\r\n          return this.getBordersRequestLesson(startOrEnd, dayOfWeekIndex, lessonNum)\r\n        }\r\n      } else {\r\n        if (lessonNum === \"0\") {\r\n          return this.getStartFirstLesson(dayOfWeekIndex)[0]\r\n        } else {\r\n          return this.getBordersRequestLesson(startOrEnd, dayOfWeekIndex, lessonNum)\r\n        }\r\n      }\r\n    } else if (startOrEnd === \"end\") {\r\n      if (dayOfWeekIndex === getTodayDayOfWeek()) {\r\n        if (lessonNum === \"0\") {\r\n          return this.getEndLastLesson(dayOfWeekIndex - 1)\r\n        } else {\r\n          return this.getBordersRequestLesson(startOrEnd, dayOfWeekIndex, lessonNum)\r\n        }\r\n      } else {\r\n        if (lessonNum === \"0\") {\r\n          return this.getEndLastLesson(dayOfWeekIndex)\r\n        } else {\r\n          return this.getBordersRequestLesson(startOrEnd, dayOfWeekIndex, lessonNum)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * подсчет количества пар в указанную дату\r\n   *\r\n   * @param {Date} date\r\n   * @returns number    - количество пар в этот день\r\n   */\r\n  getLessonsCountForDate(date: Date): number {\r\n    const strDate = formatDateWithDots(date);\r\n    let current_week = this.apiModel.day.current_week\r\n    let other_week = this.apiModel.day.other_week\r\n    for (let i = 0; i < 6; i++) {\r\n      console.log(\"strDate:\", strDate, \", other week date\", other_week[i].date)\r\n      if (strDate === other_week[i].date) {\r\n        return other_week[i].count\r\n      }\r\n      console.log(\"strDate:\", strDate, \", current week date\", current_week[i].date)\r\n      if (strDate === current_week[i].date) {\r\n        return current_week[i].count;\r\n      }\r\n    }\r\n    return -1;\r\n  }\r\n\r\n  /**\r\n   * получить текущую пару\r\n   *\r\n   * @param date\r\n   */\r\n  getCurrentLesson(date: Date): string {\r\n    if (getTodayDayOfWeek() !== 0) {\r\n      const todayIndex = getTodayDayOfWeek() - 1\r\n      const day = Boolean(this.apiModel.isSavedSchedule) ? this.apiModel.saved_schedule.current_week[todayIndex] : this.apiModel.other_schedule.current_week[todayIndex]\r\n      for (let bellIdx in day) {\r\n        // console.log(`getCurrentLesson: bellIdx: ${bellIdx}, typeof bellIdx: ${typeof bellIdx}`);\r\n        const lesson = day[bellIdx];\r\n        const thisLessonStartEnd = LessonStartEnd[Number(bellIdx)];\r\n        if (\r\n          (formatTimeHhMm(date) > thisLessonStartEnd.start) &&\r\n          (formatTimeHhMm(date) < thisLessonStartEnd.end) &&\r\n          (thisLessonStartEnd.start !== \"\")\r\n        ) {\r\n          return lesson.lessonNumber\r\n        }\r\n      }\r\n    }\r\n    return '';//'-1';\r\n  }\r\n\r\n  /**\r\n   * возвращает количество оставшихся на сегодня пар\r\n   *\r\n   * @param {Date} date\r\n   * @return {number}\r\n   */\r\n  getAmountOfRemainingLessons(date: Date): number {\r\n    let countRemainingLessons = 0\r\n    const todayDayOfWeek = getTodayDayOfWeek();\r\n    const day = Boolean(this.apiModel.isSavedSchedule) ? this.apiModel.saved_schedule.current_week[todayDayOfWeek - 1] : this.apiModel.other_schedule.current_week[todayDayOfWeek - 1]\r\n    if ((todayDayOfWeek !== 0) && (todayDayOfWeek + 1 !== 7))\r\n      for (let bell in day) {\r\n        if (\r\n          formatTimeHhMm(date) < LessonStartEnd[Number(bell)].start &&\r\n          LessonStartEnd[Number(bell)].start !== \"\"\r\n        ) {\r\n          countRemainingLessons += 1\r\n        }\r\n      }\r\n    return countRemainingLessons\r\n  }\r\n\r\n  whatLesson(\r\n    date: Date,\r\n    when: NowOrWill | 'next',\r\n  ): {\r\n    lesson: string,\r\n    type: NowOrWill | 'next',\r\n    num: number,\r\n  } {\r\n    console.log(`whatLesson: when: ${when} date:`, date)\r\n    // определяет название пары, которая идет или будет\r\n    // ключ - номер пары, значение - перерыв до этой пары\r\n    const todayDayOfWeek = getTodayDayOfWeek();\r\n\r\n    const isSunday = (todayDayOfWeek === 0)\r\n    const todayWorkDayZeroIndex = todayDayOfWeek - 1;\r\n    const todayBells = this.apiModel.day.current_week[todayWorkDayZeroIndex]\r\n    const todayLessons = Boolean(this.apiModel.isSavedSchedule) ? this.apiModel.saved_schedule?.current_week[todayWorkDayZeroIndex] : this.apiModel.other_schedule?.current_week[todayWorkDayZeroIndex]\r\n\r\n\r\n    const NO_LESSON = {\r\n      lesson: '',\r\n      type: when,\r\n      num: -1,\r\n    }\r\n\r\n    let result = NO_LESSON;\r\n\r\n    if (isSunday) {\r\n      result = NO_LESSON\r\n      console.log(`whatLesson: isSunday: result:`, result)\r\n      return result;\r\n\r\n    } else {\r\n      console.log('whatLesson: count:', todayBells.count[THIS_WEEK]);\r\n      const firstLessonTimeHhMm = this.getStartFirstLesson(todayWorkDayZeroIndex + 1)[0];\r\n\r\n      console.log(\"whatLesson: что за пара\", formatTimeHhMm(date), when, firstLessonTimeHhMm);\r\n      const currLessonNum = this.getCurrentLesson(date);\r\n\r\n      if (\r\n        (when === \"now\") &&\r\n        (currLessonNum !== undefined)\r\n      ) {\r\n        for (let bellIdx in todayLessons) {\r\n          const lesson = todayLessons[bellIdx];\r\n\r\n          if (\r\n            (lesson.lessonNumber === currLessonNum) &&\r\n            (lesson.lessonNumber !== \"\")\r\n          ) {\r\n            result = {\r\n              lesson: lesson.lessonName,\r\n              type: \"now\",\r\n              num: parseInt(currLessonNum)\r\n            };\r\n          }\r\n        }\r\n\r\n      } else if (\r\n        (when === \"will\") &&\r\n        (currLessonNum !== undefined) &&\r\n        (parseInt(currLessonNum) + 1 < 8)\r\n      ) {\r\n\r\n        for (let bell in todayLessons) {\r\n          const lesson = todayLessons[bell];\r\n\r\n          if (\r\n            (lesson && lesson.lessonNumber == String(parseInt(currLessonNum) + 1)) &&\r\n            (lesson.lessonNumber !== \"\")\r\n          ) {\r\n            console.log(\"whatLesson: будет\", todayLessons[bell])\r\n            result = {\r\n              lesson: lesson.lessonName,\r\n              type: \"next\",\r\n              num: parseInt(currLessonNum) + 1\r\n            };\r\n          }\r\n        }\r\n      } else if (\r\n        (firstLessonTimeHhMm !== undefined) &&\r\n        (firstLessonTimeHhMm >= formatTimeHhMm(date))\r\n      ) {\r\n        const firstLessonInfo = this.getStartFirstLesson(todayWorkDayZeroIndex + 1)\r\n        console.log('whatLesson:', firstLessonInfo[1], this.getStartFirstLesson(todayWorkDayZeroIndex + 1)[0]);\r\n\r\n        const lessonNumber = parseInt(firstLessonInfo[1]);\r\n        result = {\r\n          lesson: todayLessons[lessonNumber].lessonName,\r\n          type: \"will\",\r\n          num: lessonNumber,\r\n        }\r\n      } else {\r\n\r\n        for (let i in breaks) {\r\n\r\n          if (\r\n            (\r\n              formatTimeHhMm(date) > breaks[i].start &&\r\n              formatTimeHhMm(date) < breaks[i].end\r\n            ) &&\r\n            (todayLessons !== undefined) &&\r\n            (todayLessons[i].lessonName !== undefined)\r\n          ) {\r\n\r\n            result = {\r\n              lesson: todayLessons[i].lessonName,\r\n              type: \"will\",\r\n              num: parseInt(i)\r\n            };\r\n          } else {\r\n            result = NO_LESSON;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n\r\n  // определяет ближайшую пару, если сейчас идет какая то пара, то сообщает об этом\r\n  whereWillLesson(\r\n    date: Date,\r\n    will: NowOrWill,\r\n  ): {\r\n    audience?: string\r\n    type?: 'current' | 'nearest' | 'next'\r\n    exist?: LESSON_EXIST\r\n  } {\r\n    let nextLessonRoom\r\n    let numberNearestLesson\r\n    const todayDayOfWeek = getTodayDayOfWeek()\r\n\r\n    // проверяем, что сегодня не воскресенье\r\n    const isSunday = (todayDayOfWeek === 0)\r\n\r\n    if (!isSunday) {\r\n\r\n      // определяем номер ближайшей пары\r\n      for (let i in breaks) {\r\n\r\n        if (formatTimeHhMm(date) < breaks['1'].start) {\r\n          numberNearestLesson = '1';\r\n          break\r\n        } else if (\r\n          formatTimeHhMm(date) > breaks[i].start &&\r\n          formatTimeHhMm(date) < breaks[i].end\r\n        ) {\r\n          numberNearestLesson = i;\r\n          break\r\n        } else if (formatTimeHhMm(date) > breaks['7'].start) {\r\n          numberNearestLesson = null\r\n        }\r\n      }\r\n      const lessonCount = this.getLessonsCountForDate(date);\r\n      const todayLessons = Boolean(this.apiModel.isSavedSchedule)\r\n        ? this.apiModel.saved_schedule?.current_week[todayDayOfWeek - 1]\r\n        : this.apiModel.other_schedule?.current_week[todayDayOfWeek - 1]\r\n      if (lessonCount <= 0) {\r\n        return {\r\n          exist: \"empty\",\r\n        }\r\n      }\r\n      if (numberNearestLesson !== undefined) {\r\n        for (let bell in todayLessons) {\r\n          // если пара с таким номером есть в расписании\r\n          if (todayLessons[bell].lessonNumber === numberNearestLesson) {\r\n            return {\r\n              audience: todayLessons[bell].room,\r\n              type: \"nearest\",\r\n              exist: \"inSchedule\",\r\n            }\r\n          } else {\r\n            // сообщаем, что такой пары нет\r\n            console.log(`whereWillLesson: Сейчас перерыв. Ближайшей будет ${numberNearestLesson} пара`)\r\n\r\n            for (let bell in todayLessons) {\r\n              if (todayLessons[bell].lessonNumber !== numberNearestLesson) {\r\n                return {\r\n                  audience: todayLessons[bell].room,\r\n                  type: \"nearest\",\r\n                  exist: \"notInSchedule\",\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (numberNearestLesson === undefined && will === \"now\") {\r\n        // вернуть номер текущей пары\r\n        let whereCurrentLesson\r\n        for (let bell in todayLessons) {\r\n          if (todayLessons[bell].lessonNumber === this.getCurrentLesson(date)) {\r\n            whereCurrentLesson = todayLessons[bell].room\r\n          }\r\n        }\r\n        if (whereCurrentLesson === \"\") {\r\n          return {\r\n            exist: \"notInSchedule\",\r\n          }\r\n        } else {\r\n          return {\r\n            audience: whereCurrentLesson,\r\n            type: \"current\",\r\n          }\r\n        }\r\n      }\r\n      if (numberNearestLesson === undefined && will === \"will\") {\r\n        for (let bell in todayLessons) {\r\n          if (todayLessons[bell].lessonNumber === String(Number(this.getCurrentLesson(date)) + 1)) {\r\n            nextLessonRoom = todayLessons[bell].room\r\n          }\r\n        }\r\n        if (nextLessonRoom !== \"\") {\r\n          return {\r\n            audience: nextLessonRoom,\r\n            type: \"next\",\r\n          }\r\n        } else {\r\n          return {\r\n            exist: \"endLessons\",\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      return {\r\n        exist: DAY_SUNDAY,\r\n      }\r\n    }\r\n    return {};\r\n  }\r\n\r\n\r\n  ChangePage(IsCurrentWeek: boolean) {\r\n    let date\r\n    if (IsCurrentWeek) {\r\n      date = new Date().toISOString().slice(0, 10)\r\n    } else {\r\n      let _date = new Date()\r\n      _date.setDate(_date.getDate() + 7)\r\n      date = _date.toISOString().slice(0, 10)\r\n    }\r\n\r\n    let IsSave = this.apiModel.isSavedSchedule\r\n    console.log(\"current_date+'/'+IsSave+'/'+IsCurrentWeek+page\", date, IsSave, IsCurrentWeek, this.state.page)\r\n    history.push('/schedule/' + date + '/' + IsSave + '/' + IsCurrentWeek)\r\n  }\r\n\r\n\r\n  toggleTheme() {\r\n    console.log('toggleTheme:', this.state.theme)\r\n    const theme = this.state.theme === THEME_DARK\r\n      ? THEME_LIGHT\r\n      : THEME_DARK;\r\n    this.setState({theme})\r\n  }\r\n\r\n\r\n  render() {\r\n    let {page} = this.state;\r\n    console.log(\"App: render, this.state:\", this.state)\r\n    return (\r\n      <Theme\r\n        // assistant={this.assistant}\r\n        character={this.state.character}\r\n        theme={this.state.theme}\r\n      >\r\n        <Router history={history}>\r\n          <Switch>\r\n            <Route path=\"/contacts\" render={\r\n                ({match}) => {\r\n                  return <Contacts/>\r\n                }                           \r\n              }/>\r\n            <Route path=\"/faq\" render={\r\n                ({match}) => {\r\n                  return <FAQ\r\n                  />\r\n                }                           \r\n              }/>\r\n            <Route\r\n              path=\"/navigation\"\r\n              render={\r\n                ({match}) => {\r\n                  return <NavigatorPage\r\n                    isMobileDevice={detectDevice() === \"mobile\"}\r\n                  />\r\n                }                           \r\n              }\r\n            />                            \r\n            <Route\r\n              path=\"/settings\"\r\n              render={\r\n                ({match}) => {\r\n                  return <Settings\r\n                    apiModel={this.apiModel}\r\n                    assistant={this.assistant}\r\n                    description={\r\n                      this.state.character === 'joy'\r\n                        ? ENTER_DATA_NO_OFFICIAL_TEXT\r\n                        : ENTER_DATA_OFFICIAL_TEXT\r\n                    }\r\n                    toggleTheme={() => this.toggleTheme()}\r\n                  />\r\n                }\r\n              }\r\n            />\r\n\r\n            <Route\r\n              path=\"/dashboard\"\r\n              render={\r\n                ({match}) => {\r\n                  // console.log(\"/dashboard: isSavedSchedule:\", this.apiModel.isSavedSchedule)\r\n                  const now = new Date();\r\n                  let todayZeroIndex = getTodayDayOfWeek() - 1;\r\n                  let currentLessonIdx = this.getCurrentLesson(now);\r\n                  let currentLesson = this.apiModel.saved_schedule.current_week[todayZeroIndex]?.[parseInt(currentLessonIdx) - 1];\r\n                  let currentLessonStartEnd = LessonStartEnd[parseInt(currentLessonIdx) - 1]\r\n\r\n                  let nextLessonIdx = this.whatLesson(now, \"will\").num;\r\n                  let nextLesson = this.apiModel.saved_schedule.current_week[todayZeroIndex]?.[nextLessonIdx - 1];\r\n                  // console.log(this.whatLesson(now, \"will\").num, \"next\")\r\n                  // console.log('/dashboard: getTodayDayOfWeek():', nextLesson);\r\n                  let count = this.apiModel.day.current_week[todayZeroIndex]?.count;\r\n                  let nextLessonStartEnd = LessonStartEnd[nextLessonIdx - 1];\r\n                  let start = this.getStartFirstLesson(todayZeroIndex + 1)[0];\r\n                  let end = this.getEndLastLesson(todayZeroIndex);\r\n                  // console.log(\"this.state.isUser\", this.state.isUser)\r\n                  return <DashboardPage\r\n                    assistant={this.assistant}\r\n                    isTeacherAndValid={this.getIsCorrectTeacher()}\r\n                    start={start}\r\n                    end={end}\r\n                    count={count}\r\n                    currentLesson={currentLesson}\r\n                    currentLessonStartEnd={currentLessonStartEnd}\r\n                    nextLesson={nextLesson}\r\n                    nextLessonStartEnd={nextLessonStartEnd}\r\n                    apiModel={this.apiModel}\r\n                    isUser={this.state.isUser}\r\n                  />\r\n                }\r\n              }/>\r\n            <Route\r\n              path=\"/home/:IsStudent\"\r\n              render={\r\n                ({match}) => {\r\n                  return <HomePage\r\n                    assistant={this.assistant}\r\n                    IsStudent={match.params.IsStudent == \"true\"}\r\n                    description={\r\n                      this.state.character === 'joy'\r\n                        ? ENTER_DATA_NO_OFFICIAL_TEXT\r\n                        : ENTER_DATA_OFFICIAL_TEXT\r\n                    }\r\n                    apiModel={this.apiModel}\r\n                  />\r\n                }\r\n              }\r\n            />\r\n            <Route\r\n              path=\"/start\"\r\n              render={\r\n                ({match}) => {\r\n                  return <Start\r\n                    assistant={this.assistant}\r\n                    isMobileDevice={detectDevice() === \"mobile\"}\r\n                  />\r\n                }\r\n              }\r\n            />\r\n            <Route\r\n              path=\"/schedule/:Date/:IsSaved/:IsCurrentWeek/:Day?\"\r\n              render={\r\n                ({match}) => {\r\n                  return <SchedulePage\r\n                    page={match.params.Day\r\n                      ? Number(match.params.Day)\r\n                      : new Date().getDay() - 1}\r\n                    assistant={this.assistant}\r\n                    timeParam={this.state.page}\r\n                    getCurrentLesson={this.getCurrentLesson}\r\n                    apiModel={this.apiModel}\r\n                    Date={new Date(match.params.Date)}\r\n                    IsSavedSchedule={match.params.IsSaved == \"true\"}\r\n                    IsCurrentWeek={match.params.IsCurrentWeek == \"true\"}\r\n                    day={page > 7 ? this.apiModel.day.other_week : this.apiModel.day.current_week}\r\n                    today={getTodayDayOfWeek()}\r\n                    // schedule={this.apiModel.isSavedSchedule ? this.apiModel.saved_schedule : this.apiModel.other_schedule}\r\n                    getIsCorrectTeacher={this.getIsCorrectTeacher}\r\n                  />\r\n                }\r\n              }\r\n            />\r\n            <Route\r\n              path=\"/lesson/:IsSaved/:IsCurrentWeek/:Day/:lessonIndex\"\r\n              render={\r\n                ({match}) => {\r\n                  // console.log(\"/lesson/:IsSaved/:IsCurrentWeek/:Day/:lessonIndex\", match.params.IsSaved, match.params.IsCurrentWeek, Number(match.params.Day), Number(match.params.lessonIndex))\r\n                  // temporary workaround\r\n                  let lesson = String(match.params.IsSaved) == \"true\" ? this.apiModel.saved_schedule : this.apiModel.other_schedule\r\n                  let lessonWeek = String(match.params.IsCurrentWeek) == \"true\" ? lesson.current_week : lesson.other_week\r\n\r\n                  // console.log(\"/lesson/...: this.state.page:\", this.state.page)\r\n                  // console.log(\"/lesson/...: this.apiModel.saved_schedule[this.state.page - 1]?.[match.params.lessonIndex - 1]\", this.apiModel.saved_schedule.current_week)\r\n                  // if (this.state.page!==NON_EXISTING_PAGE_NO) this.gotoPage(NON_EXISTING_PAGE_NO);\r\n                  return (\r\n                    <Lesson\r\n                      isTeacherAndValid={this.getIsCorrectTeacher()}\r\n                      currentLesson={lessonWeek[Number(match.params.Day)]?.[Number(match.params.lessonIndex) - 1]}\r\n                      currentLessonStartEnd={LessonStartEnd[Number(match.params.lessonIndex)]}\r\n                      pageNo={Number(match.params.Day)}\r\n                      apiModel={this.apiModel}\r\n                    />\r\n                  )\r\n                }\r\n              }\r\n            />\r\n          </Switch>\r\n        </Router>\r\n      </Theme>\r\n    )\r\n  }\r\n}\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);  \r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n}\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport { App } from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n// import { DeviceThemeProvider } from '@sberdevices/plasma-ui/components/Device'; // Типографика, имеющая размеры, зависимые от типа устройства\r\n\r\n\r\n\r\nReactDOM.render(\r\n  // <DeviceThemeProvider>\r\n  // <GlobalStyle />\r\n  <App />\r\n// </DeviceThemeProvider>\r\n,\r\ndocument.getElementById('root'),\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}