{"version":3,"sources":["APIHelper.ts","types/base.d.ts","themes/tools.tsx","utils.ts","components/TopMenu.tsx","images/logo.png","components/consts.ts","components/LinkToOnline.tsx","components/ScheduleLesson.tsx","components/ScheduleDayOff.tsx","pages/DashboardPage.tsx","components/Home/Main.tsx","components/Home/TabSelectorRow.tsx","components/Home/ShowScheduleButtonRow.tsx","components/Home/RememberCheckboxRow.tsx","pages/HomePage.tsx","components/SocialList.tsx","components/ContactsCard.tsx","pages/Contacts.tsx","images/lib.jpeg","components/Libraries.tsx","components/FAQCard.tsx","pages/FAQ.tsx","images/Star-1.png","pages/Start.tsx","images/Karta.png","pages/NavigatorPage.tsx","pages/SpinnerPage.tsx","components/ScheduleDay.tsx","components/WeekCarousel/WeekCarouselDay.tsx","components/WeekCarousel/WeekCarousel.tsx","components/WeekSelect/ButtonNextWeek.tsx","components/WeekSelect/ButtonPrevWeek.tsx","components/WeekSelect/ButtonThisWeek.tsx","components/WeekSelect/WeekSelect.tsx","pages/Schedule.tsx","pages/Settings.tsx","types/ScheduleStructure.ts","components/LessonCard.tsx","pages/Lesson.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["API_URL","getScheduleFromDb","groupId","english_group_id","date","a","url","config","params","group_id","console","log","axios","get","response","rawSchedule","data","parsedSchedule","JSON","parse","getScheduleTeacherFromDb","teacherId","teacher_id","user_id","getIdTeacherFromDb","teacher_in","teacher_initials","answer","parsedTeacherData","getInTeacherFromDb","rawTeacherData","addUserToPushNotification","sub","hour","minute","isActive","post","createUser","userId","filialId","subGroup","engGroup","getGroupById","groupInfo","getGroupByName","groupName","name","IsEnglishGroupExist","group_num","jsonData","status","DAY_SUNDAY","DAY_NOT_SUNDAY","DAY_TODAY","DAY_TOMORROW","CHAR_SBER","ThemeBackgroundSber","createGlobalStyle","darkSber","ThemeBackgroundEva","darkEva","ThemeBackgroundJoy","darkJoy","ThemeBackgroundSberLight","lightSber","ThemeBackgroundEvaLight","lightEva","ThemeBackgroundJoyLight","lightJoy","getThemeBackgroundByChar","character","themeType","CHAR_EVA","CHAR_JOY","DocStyle","text","background","gradient","moment","MS_IN_DAY","padZeros","s","len","padStart","formatDateWithDashes","monthNum","getMonth","dayNum","getDate","y","getFullYear","m","toString","d","formatDateWithDots","String","slice","formatTimeHhMm","hours","getHours","minutes","getMinutes","concat","lessonTypeAdjToNoun","adj","result","pairNumberToPairNumText","pairCount","pairNumberToPairText","HeaderLogoCol","Col","style","maxWidth","padding","Image","src","HeaderTitleCol","title","marginLeft","paddingTop","TextBox","HeaderTitleCol2","Body","HeaderScheduleCol","label","subLabel","GoToDashboardButton","onClick","Button","size","view","pin","event","contentRight","IconHouse","color","GoToHomeButton","IconSettings","TopMenu","onDashboardClick","onHomeClick","Bd","Row","margin","ACCENT_TEXT_COLOR","COLOR_BLACK","COLOR_BUTTON_PRIMARY","LinkToOnline","href","target","LessonStartAndFinishTime","time","lines","LessonName","isAccented","lessonNumber","to","textDecoration","GroupNumber","TeacherName","LessonLeftContent","visible","Badge","marginRight","MainContent","lessonName","groupNumber","teacher","isTeacherAndValid","onTeacherClick","paddingLeft","LessonRightContent","room","lessonType","contentLeft","IconLocation","backgroundColor","paddingRight","ScheduleLesson","startTime","endTime","lesson","startEndTime","CellListItem","content","start","end","NO_LESSONS_NAME","DAY_OFF_TEXT","ScheduleDayOff","display","flexDirection","alignSelf","justifyContent","locale","HeaderRow","ScheduleSectionTitleRow","IconStarFill","CatalogueHeaderRow","IconApps","TodaySummary","lessonCount","lessonsStart","lessonsEnd","isSunday","getDay","weekDayShortToday","format","charAt","toUpperCase","dateToday","dateDay","count","from","fontSize","DashboardCard","Card","height","marginTop","cursor","undefined","CardBody","CardContent","Caption","IconEvent","IconHelp","IconCallCircle","GetCloser","onGoToPage","history","push","width","CellDisclosure","CatalogueItems","ScheduleLessonTitle","NoLesson","DashboardPage","currentLesson","currentLessonStartEnd","nextLesson","nextLessonStartEnd","spinner","theme","handleTeacherChange","isUser","Container","overflow","Date","teacherName","LineSkeleton","roundness","RectSkeleton","pageNo","Main","disabled","TopMenuRow","setValue","convertIdInGroupName","Cell","Spacer100","TabSelectorRow","tabs","selectedIndex","onSelect","alignItems","Tabs","map","tabText","i","TabItem","ShowScheduleButtonRow","RememberCheckboxRow","checked","onChange","Checkbox","USER_MODES","HomeDescription","textAlign","TextFieldForUserInfo","value","isError","TextField","className","HomePage","props","onHandleChange","bind","Load_Schedule","onConvertIdInGroupName","state","key","this","onSetValue","CheckIsCorrect","isSave","LoadSchedule","studentContent","student","tabIndex","description","isGroupError","group","isSubGroupError","isEngGroupError","onShowScheduleClick","teacherContent","isTeacherError","teacher_checked","onHandleTeacherChange","React","Component","SocialListItem","logo","link","SocialList","compact","social_media","media","index","ContactsCard","site","tel","mail","Headline","Contacts","contacts_data","contact","marginBottom","Libraries","questions","answers","useState","flag","setFlag","IconChevronUp","IconChevronDown","CardMedia","lib","FAQCard","FAQ","faq","Start","isMobileDevice","Paragraph","star","BuildingListItem","building","address","BuildingList","buildings","Fragment","NavigatorPage","onScheduleClick","karta","SpinnerPage","position","top","left","ScheduleDayLessons","dayLessons","currentLessonNumber","isToday","lessonIndex","isCurrentLesson","LessonStartEnd","ScheduleDay","isReady","isDayOff","WeekCarouselDay","isSelected","isMarked","CarouselItem","scrollSnapAlign","focused","WeekCarousel","markedIndex","cols","setIndex","Carousel","as","axis","scrollSnapType","detectActive","detectThreshold","onIndexChange","paddingStart","paddingEnd","ButtonNextWeek","IconChevronRight","paddingBottom","ButtonPrevWeek","IconChevronLeft","ButtonThisWeek","bottom","WeekSelect","onPrevWeekClick","onThisWeekClick","onNextWeekClick","Schedule","PreviousWeek","NextWeek","CurrentWeek","now","weekParam","_timeparam","timeParam","current","getCurrentLesson","day_num","page","formatDate","weekDayShort","dateDdDotMm","isTeacher","getIsCorrectTeacher","bd","teacher_bd","today","day","weekDayIndex","schedule","bellsThisOrOtherWeek","doSetTeacher","Spacer200","Settings","Save","edit","dayPush","timePush","pushHour","min","pushMin","themeName","Number","setState","then","ChangePush","sendData","action_id","Switch","TimePicker","IconEdit","Edit","visibleItems","max","options","seconds","ChangeTheme","Bell","sanitizeRoom","replace","Footnote","LessonCard","Lesson","createBrowserHistory","SEVEN_DAYS","styled","div","breaks","saved_scheduleOfWeekShort","dayNameDict","ordinalNominativeCaseSingularFemDict","ordinalGenitiveCaseSingularFemDict","numPron","Array","fill","TODAY_TOMORROW_DICT","DEFAULT_STATE_DAY","App","_assistant","notes","group_id_bd","eng_bd","sub_bd","correct","saved_schedule","other_schedule","teacher_id_bd","teacher_correct","isSavedSchedule","getState","getStateForAssistant","createAssistant","on","type","id","getUser","user","getSchedulebyUserId","teacher_info","last_name","first_name","mid_name","SetWeekSchedule","action","dispatchAssistantAction","num","gotoPage","isStudent","isTeacherCorrect","todayOrTomorrow","dayShift","bell","dayNumber","lessonEnd","lessonIdx","startOrEnd","lessonNum","getStartFirstLesson","getBordersRequestLesson","getEndLastLesson","week","todayIndex","bellIdx","thisLessonStartEnd","countRemainingLessons","when","todayWorkDayIndex","todayBells","todayLessons","firstLessonTimeHhMm","getTimeFirstLesson","currLessonNum","parseInt","firstLessonInfo","will","nextLessonRoom","numberNearestLesson","exist","amountOfLessons","getAmountOfLessons","audience","whereCurrentLesson","pathname","parameters","ChangeDay","note","getStartEndLesson","ordinal","timestamp","dayOfWeek","countOfLessons","howManyParams","pairText","inDayOfWeek","dayOfWeekIndex","dayName","amount","amountOfRemainingLessons","getAmountOfRemainingLessons","howManyLeftParams","pron","ChangePage","whereLessonParams","whereWillLesson","whatlesson","whatLesson","day1","page1","strDayOfWeek","numDayOfWeek","firstLessonNumStr","warn","whichFirst","dayOfWeekIdx","dayOfWeekShortName","dayOfWeekIdx1","newPage","page2","dayOfWeekNameLong","daySchedule","IsStudent","includes","location","item_selector","items","number","firstDay","weekDay","getTime","datePlusWeek","dateMinusWeek","length","schedule_header","bell_num","lesson_info","lessons","lesson_info_state","subgroup_name","groups","header","subject_name","teachers","room_name","other","reset","teacherData","getFirstDayWeek","formatTeacherName","parsedTeacher2","filial","_loadSchedule","correct_sub","correct_eng","promiseGroupName","promiseEnglishGroup","Promise","all","responses","group_response","english_response","isCorrect","isCurrentWeek","eng","isSavedTeacher","firstDayWeek","checkInterval","setInterval","setTimeout","clearInterval","path","render","match","detectDevice","currentLessonIdx","nextLessonIdx","Spinner","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.ee468cd7.chunk.js","sourcesContent":["import axios, {AxiosResponse} from \"axios\";\r\n\r\nimport filial from './data/filial.json';\r\n\r\nexport interface ITeacherApiData {\r\n  first_name: string\r\n  mid_name: string\r\n  last_name: string\r\n  status: '-1' | '-2'\r\n  id: string\r\n}\r\n\r\n//\r\n\r\ninterface IScheduleTeacherData {\r\n  name: string\r\n}\r\n\r\ninterface IScheduleGroup {\r\n  name: string\r\n  subgroup_name: string | undefined\r\n}\r\n\r\nexport interface IScheduleLessonInfo {\r\n  groups: IScheduleGroup[]\r\n  subject_name: string\r\n  teachers: IScheduleTeacherData[]\r\n  room_name: string\r\n  type: string\r\n  other: string\r\n}\r\n\r\ninterface IScheduleBellHeader {\r\n  start_lesson: string\r\n  end_lesson: string\r\n}\r\n\r\ninterface ISchedule {\r\n  header: IScheduleBellHeader\r\n  day1: IScheduleLessonInfo\r\n  day2: IScheduleLessonInfo\r\n  day3: IScheduleLessonInfo\r\n  day4: IScheduleLessonInfo\r\n  day5: IScheduleLessonInfo\r\n  day6: IScheduleLessonInfo\r\n  day7: IScheduleLessonInfo\r\n}\r\n\r\ninterface IScheduleHeaderDay {\r\n  date: string\r\n}\r\n\r\ninterface IScheduleHeader {\r\n  day1: IScheduleHeaderDay,\r\n  day2: IScheduleHeaderDay,\r\n  day3: IScheduleHeaderDay,\r\n  day4: IScheduleHeaderDay,\r\n  day5: IScheduleHeaderDay,\r\n  day6: IScheduleHeaderDay,\r\n  day7: IScheduleHeaderDay,\r\n}\r\n\r\n// interface Schedule {\r\n//   bell: ScheduleHeader[]\r\n// }\r\n\r\nexport interface IScheduleApiData {\r\n  schedule: ISchedule[]\r\n  schedule_header: IScheduleHeader\r\n}\r\n\r\nexport interface ITeacherInfo{\r\n  last_name: string,\r\n  first_name: string,\r\n  mid_name: string\r\n}\r\n\r\nexport interface IScheduleByUserIdData {\r\n  schedule: IScheduleApiData, \r\n  isActive: boolean, //отправка пушей\r\n  hour: number, //час отправки пушей\r\n  minute: number, //минута отправки пушей\r\n  userId: string,\r\n  filialId: string,\r\n  groupId: string,\r\n  groupName: string,\r\n  subgroup_name: string,\r\n  eng_group: string,\r\n  teacher_id: string,\r\n  teacher_info: ITeacherInfo\r\n}\r\n\r\nexport interface IPushData{\r\n  sub: string,\r\n  hour: number,\r\n  minute: number\r\n}\r\n\r\n//\r\n\r\n//const API_URL = \"http://127.0.0.1:8000/\";\r\nconst API_URL = \"https://misis-hub.herokuapp.com/\";\r\n\r\nexport async function getScheduleFromDb(groupId: string, english_group_id: string, date: string): Promise<IScheduleApiData> {\r\n  const url = `${API_URL}schedule`;\r\n  const config = {\r\n    params: {\r\n      group_id: groupId,\r\n      english_group_id: english_group_id,\r\n      date: date,\r\n    },\r\n  };\r\n  console.log(`APIHelper: getScheduleFromDb: url: \"${url}\", config:`, config);\r\n\r\n  const response = await axios.get(url, config);\r\n\r\n  const {data: rawSchedule} = response;\r\n  const parsedSchedule: IScheduleApiData = JSON.parse(rawSchedule);\r\n  console.log(`APIHelper: getScheduleFromDb: parsedSchedule:`, parsedSchedule);\r\n  return parsedSchedule;\r\n}\r\n\r\nexport async function getScheduleTeacherFromDb(teacherId: string, date: string): Promise<IScheduleApiData> {\r\n  const url = `${API_URL}schedule_teacher`;\r\n  const config = {\r\n    params: {\r\n      teacher_id: teacherId,\r\n      date: date,\r\n    },\r\n  };\r\n  console.log(`APIHelper: getScheduleTeacherFromDb: url: \"${url}\", config:`, config);\r\n  const response = await axios.get(url, config);\r\n\r\n  const {data: rawSchedule} = response;\r\n  const parsedSchedule: IScheduleApiData = JSON.parse(rawSchedule);\r\n  console.log(`APIHelper: getScheduleTeacherFromDb: parsedSchedule:`, parsedSchedule);\r\n  return parsedSchedule;\r\n}\r\n\r\nexport async function getSchedulebyUserId(user_id: string): Promise<IScheduleByUserIdData>{\r\n  const url = `${API_URL}schedule_by_user_id`;\r\n  const config={\r\n    params:{\r\n      user_id: user_id\r\n    }\r\n  }\r\n  const response = await axios.get(url, config);\r\n\r\n  const {data: rawSchedule} = response;\r\n  const parsedSchedule: IScheduleByUserIdData = JSON.parse(rawSchedule);\r\n  console.log(`APIHelper: schedule_by_user_id: parsedSchedule:`, parsedSchedule);\r\n  return parsedSchedule;\r\n}\r\n\r\n\r\nexport async function getIdTeacherFromDb(teacher_in: string): Promise<ITeacherApiData> {\r\n  console.log(`APIHelper: teacher_in`, teacher_in);\r\n\r\n  const url = `${API_URL}teacher`;\r\n  const config = {\r\n    params: {\r\n      teacher_initials: teacher_in,\r\n    },\r\n  };\r\n  console.log(`APIHelper: getIdTeacherFromDb: url: \"${url}\", config:`, config);\r\n\r\n  const response = await axios.get(url, config);\r\n\r\n  const {data: answer} = response;\r\n  const parsedTeacherData = JSON.parse(answer) as ITeacherApiData;\r\n  console.log(`APIHelper: getIdTeacherFromDb: parsedTeacherData:`, parsedTeacherData);\r\n  return parsedTeacherData;\r\n}\r\n\r\nexport async function getInTeacherFromDb(teacher_id: string): Promise<ITeacherApiData> {\r\n  const url = `${API_URL}teacher_initials`;\r\n  const config = {\r\n    params: {\r\n      teacher_id: teacher_id,\r\n    },\r\n  };\r\n  console.log(`APIHelper: getInTeacherFromDb: url: \"${url}\", config:`, config);\r\n\r\n  const response = await axios.get(url, config);\r\n\r\n  const {data: rawTeacherData} = response;\r\n  const parsedTeacherData = JSON.parse(rawTeacherData) as ITeacherApiData;\r\n  console.log(`APIHelper: getInTeacherFromDb: parsedTeacherData:`, parsedTeacherData);\r\n  return parsedTeacherData;\r\n}\r\n\r\nexport async function addUserToPushNotification( sub: string, hour: number, minute: number, isActive: boolean){\r\n  const url = `${API_URL}add_user_to_push_notification`;\r\n  const data = {\r\n    \"sub\": sub, \r\n    \"hour\": hour, \r\n    \"minute\": minute,\r\n    \"isActive\": isActive,\r\n    // \"day\": day\r\n  };\r\n  console.log(`APIHelper: add_user_to_push_notification: url: \"${url}\", data:`, data);\r\n\r\n  const response = await axios.post(url, data);\r\n  console.log(`APIHelper: add_user_to_push_notification: response:`, response);\r\n\r\n  return response;\r\n}\r\n\r\n\r\nexport async function createUser(\r\n  userId: string,\r\n  filialId: string,\r\n  groupId: string,\r\n  subGroup: string,\r\n  engGroup: string,\r\n  teacher_id: string,\r\n): Promise<AxiosResponse<any>> {\r\n  const url = `${API_URL}users`;\r\n  const data = {\r\n    \"user_id\": userId,\r\n    \"filial_id\": filialId,\r\n    \"group_id\": groupId,\r\n    \"subgroup_name\": subGroup,\r\n    \"eng_group\": engGroup,\r\n    \"teacher_id\": teacher_id\r\n  };\r\n  console.log(`APIHelper: createUser: url: \"${url}\", data:`, data);\r\n\r\n  const response = await axios.post(url, data);\r\n  console.log(`APIHelper: createUser: response:`, response);\r\n\r\n  return response;\r\n}\r\n\r\n\r\ninterface StarUser {\r\n  userId: string\r\n  filialId: string\r\n  groupId: string\r\n  subGroup: string\r\n  engGroup: string\r\n  teacherId: string\r\n}\r\n\r\nexport async function setGroupStar(\r\n  props: StarUser,\r\n  value: boolean\r\n): Promise<AxiosResponse<any>> {\r\n  return value\r\n    ? createUser(\r\n      props.userId,\r\n      filial.id,\r\n      props.groupId,\r\n      props.subGroup,\r\n      props.engGroup,\r\n      props.teacherId\r\n    )\r\n    : createUser(\r\n      props.userId,\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n    )\r\n}\r\n\r\nexport async function setTeacherStar(\r\n  props: StarUser,\r\n  value: boolean\r\n): Promise<AxiosResponse<any>> {\r\n  return value ?\r\n    createUser(\r\n      props.userId,\r\n      filial.id,\r\n      props.groupId,\r\n      props.subGroup,\r\n      props.engGroup,\r\n      props.teacherId,\r\n    )\r\n    : createUser(\r\n      props.userId,\r\n      \"\",\r\n      props.groupId,\r\n      props.subGroup,\r\n      \"\",\r\n      \"\",\r\n    );\r\n\r\n}\r\n\r\n\r\ninterface IUserData {\r\n  group_id,\r\n  subgroup_name,\r\n  eng_group,\r\n  teacher_id,\r\n}\r\n\r\nexport async function getUser(userId: string): Promise<IUserData | \"0\"> {\r\n  const url = `${API_URL}users`;\r\n  const config = {\r\n    params: {\r\n      user_id: userId,\r\n    },\r\n  };\r\n  console.log(`APIHelper: getUser: url: \"${url}\", config:`, config);\r\n\r\n  const response = await axios.get(url, config);\r\n\r\n  const {data: answer} = response;\r\n  console.log(`APIHelper: getUser: answer:`, answer);\r\n  return answer;\r\n}\r\n\r\nexport async function getGroupById(groupId: number) {\r\n  const url = `${API_URL}group_by_id`;\r\n  const config = {\r\n    params: {\r\n      group_id: groupId,\r\n    },\r\n  };\r\n  console.log(`APIHelper: getGroupById: url: \"${url}\", config:`, config);\r\n\r\n  const response = await axios.get(url, config);\r\n\r\n  const {data: groupInfo} = response;\r\n  console.log(`APIHelper: getGroupById: groupInfo:`, groupInfo);\r\n  return groupInfo;\r\n}\r\n\r\nexport async function getGroupByName(groupName: string) {\r\n  const url = `${API_URL}group_by_name`;\r\n  const config = {\r\n    params: {\r\n      name: groupName,\r\n    },\r\n  };\r\n  console.log(`APIHelper: getGroupByName: url: \"${url}\", config:`, config);\r\n\r\n  const response = await axios.get(url, config);\r\n\r\n  const {data: groupInfo} = response;\r\n  console.log(`APIHelper: getGroupByName: groupInfo:`, groupInfo);\r\n  return groupInfo;\r\n}\r\n\r\nexport async function  IsEnglishGroupExist(group_num: number) : Promise<boolean>{\r\n  const url = `${API_URL}is_english_group_exist`;\r\n  const config = {\r\n    params: {\r\n      group_num: group_num,\r\n    },\r\n  };\r\n  console.log(`APIHelper: isEnglishGroupExist: url: \"${url}\", config:`, config);\r\n\r\n  const response = await axios.get(url, config);\r\n\r\n  const {data} = response;\r\n  console.log(`APIHelper: isEnglishGroupExist: response:`, data);\r\n  let jsonData= JSON.parse(data)\r\n  return jsonData.status === '1' ;\r\n}\r\n","//\r\n\r\nexport const DAY_SUNDAY = \"sunday\";\r\nexport const DAY_NOT_SUNDAY = \"notSunday\";\r\n\r\n//\r\n\r\nexport type LESSON_EXIST = 'empty'\r\n  | 'inSchedule'\r\n  | 'notInSchedule'\r\n  | 'endLessons'\r\n  | typeof DAY_SUNDAY;\r\n\r\n//\r\n\r\nexport const DAY_TODAY = 'today';\r\nexport const DAY_TOMORROW = 'tomorrow';\r\nexport type TodayOrTomorrow = 'today' | 'tomorrow'\r\n\r\n//\r\n\r\nexport type StartOrEnd = 'start' | 'end'\r\n\r\n//\r\n\r\nexport const THIS_WEEK = 0;\r\nexport const OTHER_WEEK = 1;\r\nexport type THIS_OR_OTHER_WEEK = typeof THIS_WEEK | typeof OTHER_WEEK;\r\n\r\n//\r\nexport const CHAR_SBER = 'sber'; // Сбер\r\nexport const CHAR_EVA = 'eva';   // Афина\r\nexport const CHAR_JOY = 'joy';   // Джой\r\nexport const CHAR_TIMEPARAMOY = 'timeParamoy';\r\nexport type Character = typeof CHAR_SBER\r\n  | typeof CHAR_EVA\r\n  | typeof CHAR_JOY\r\n\r\n//\r\n\r\nexport const THEME_DARK = 'dark'\r\nexport const THEME_LIGHT = 'light'\r\nexport type ThemeType = THEME_DARK | THEME_LIGHT\r\n\r\n//\r\n\r\nexport interface IDayHeader {\r\n  title: string\r\n  date: [string, string]\r\n  count: [number, number]\r\n}\r\n\r\n\r\nexport interface IBuilding {\r\n  name: string\r\n  address: string\r\n  color: string\r\n  short: string\r\n}\r\n\r\n","import {background, gradient, text} from \"@sberdevices/plasma-tokens\";\r\nimport React from \"react\";\r\nimport styled, {createGlobalStyle} from \"styled-components\";\r\nimport {darkEva, darkJoy, darkSber, lightEva, lightJoy, lightSber} from \"@sberdevices/plasma-tokens/themes\";\r\n\r\nimport {\r\n  CHAR_EVA, CHAR_JOY, CHAR_SBER, CHAR_TIMEPARAMOY, Character,\r\n  THEME_DARK,\r\n  THEME_LIGHT,\r\n  ThemeType,\r\n} from \"../types/base.d\";\r\n\r\nconst ThemeBackgroundSber = createGlobalStyle(darkSber);\r\nconst ThemeBackgroundEva = createGlobalStyle(darkEva);\r\nconst ThemeBackgroundJoy = createGlobalStyle(darkJoy);\r\nconst ThemeBackgroundSberLight = createGlobalStyle(lightSber);\r\nconst ThemeBackgroundEvaLight = createGlobalStyle(lightEva);\r\nconst ThemeBackgroundJoyLight = createGlobalStyle(lightJoy);\r\n\r\nexport const getThemeBackgroundByChar = (\r\n  character: Character\r\n    // todo: что такое 'timeParamoy' ???\r\n    | typeof CHAR_TIMEPARAMOY | string,\r\n  themeType: ThemeType\r\n) => {\r\n  const themeBackgroundByChar = {\r\n    [CHAR_SBER + '_' + THEME_DARK]: <ThemeBackgroundSber/>,\r\n    [CHAR_EVA + '_' + THEME_DARK]: <ThemeBackgroundEva/>,\r\n    [CHAR_JOY + '_' + THEME_DARK]: <ThemeBackgroundJoy/>,\r\n    [CHAR_SBER + '_' + THEME_LIGHT]: <ThemeBackgroundSberLight/>,\r\n    [CHAR_EVA + '_' + THEME_LIGHT]: <ThemeBackgroundEvaLight/>,\r\n    [CHAR_JOY + '_' + THEME_LIGHT]: <ThemeBackgroundJoyLight/>,\r\n  }\r\n  const themeName = character + '_' + themeType;\r\n  const themeBackground = themeBackgroundByChar[themeName];\r\n  return themeBackground || null;\r\n}\r\n\r\n\r\nexport const DocStyle = createGlobalStyle`\r\n  html:root {\r\n    min-height: 100vh;\r\n    color: ${text};\r\n    background-color: ${background};\r\n    background-image: ${gradient};\r\n  }\r\n`;\r\n\r\n","import * as moment from 'moment';\r\nmoment.locale('ru');\r\n\r\n\r\n/**\r\n * сколько миллисекунд в 1 дне\r\n */\r\nexport const MS_IN_DAY = 24 * 60 * 60 * 1000;\r\n\r\nexport function capitalize(s: string): string {\r\n  return s.charAt(0).toUpperCase() + s.slice(1);\r\n}\r\n\r\n/**\r\n * Добавление незначащих нулей слева\r\n *\r\n * @param {string} s\r\n * @param {number} len\r\n * return {string}\r\n */\r\nexport const padZeros = (s: string, len: number) => s.padStart(len, '0');\r\n\r\n\r\n/**\r\n * Convert string DD?MM?YYYY to Date\r\n *\r\n * @param {string} s\r\n * @return {Date}\r\n */\r\nexport const ddMmYyyyToDate = (s: string): Date => {\r\n  const d = parseInt(s.slice(0, 2));\r\n  const m = parseInt(s.slice(3, 5))-1;\r\n  const y = parseInt(s.slice(-4));\r\n  return new Date(y, m, d);\r\n}\r\n\r\n/**\r\n * Convert string DD?MM?YY to Date\r\n *\r\n * @param {string} s\r\n * @return {Date}\r\n */\r\nexport const ddMmYyToDate = (s: string): Date => {\r\n  const d = parseInt(s.slice(0, 2));\r\n  const m = parseInt(s.slice(3, 5))-1;\r\n  const y = 2000 + parseInt(s.slice(-2));\r\n  return new Date(y, m, d);\r\n}\r\n\r\n/**\r\n * форматирование даты в \"YYYY-MM-DD\"\r\n *\r\n * @param {Date} date\r\n * @returns {string}\r\n */\r\nexport function formatDateWithDashes(date: Date): string {\r\n  const monthNum = date.getMonth() + 1;\r\n  const dayNum = date.getDate();\r\n  const y = date.getFullYear();\r\n\r\n  //pad with zeroes\r\n  // const m = (monthNum < 10 ? '0' : '') + monthNum;\r\n  const m = padZeros(monthNum.toString(), 2);\r\n  // const d = (dayNum < 10 ? '0' : '') + dayNum;\r\n  const d = padZeros(dayNum.toString(), 2);\r\n\r\n  return `${y}-${m}-${d}`;\r\n}\r\n\r\n/**\r\n * форматирование даты в вид \"DD.MM.YY\"\r\n *\r\n * @param {Date} date\r\n * @returns {string}\r\n */\r\nexport function formatDateWithDots(date: Date): string {\r\n  const monthNum = date.getMonth() + 1;\r\n  const dayNum = date.getDate();\r\n  const y = String(date.getFullYear()).slice(2, 4)\r\n\r\n  //pad with zeroes\r\n  // const m = (monthNum < 10 ? '0' : '') + monthNum;\r\n  const m = padZeros(monthNum.toString(), 2);\r\n  // const d = (dayNum < 10 ? '0' : '') + dayNum;\r\n  const d = padZeros(dayNum.toString(), 2);\r\n\r\n  return `${d}.${m}.${y}`;\r\n}\r\n\r\n/**\r\n * получить текущее время в формате \"HH:MM\"\r\n *\r\n * @param {Date} date\r\n * @returns {string}\r\n */\r\nexport function formatTimeHhMm(date: Date): string {\r\n  const hours = date.getHours()\r\n  const minutes = date.getMinutes()\r\n  return `${(hours < 10 ? '0' : '').concat('' + hours)}:${(minutes < 10 ? '0' : '').concat('' + minutes)}`\r\n}\r\n\r\n\r\n/**\r\n *\r\n * @param {string} adj\r\n * @returns {string}\r\n */\r\nexport function lessonTypeAdjToNoun(adj: string): string {\r\n  let result;\r\n  switch (adj) {\r\n    case \"Лекционные\":\r\n      result = \"Лекция\";\r\n      break;\r\n    case \"Практические\":\r\n      result = \"Практика\";\r\n      break;\r\n    case \"Лабораторные\":\r\n      result = \"Лаба\";\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  return result\r\n}\r\n\r\n/**\r\n *\r\n * @param {number} pairCount\r\n * @return {string}\r\n */\r\nexport function pairNumberToPairNumText(pairCount: number): string {\r\n  switch (pairCount) {\r\n    case 1:\r\n      return \"одна пара\";\r\n    case 2:\r\n      return \"две пары\";\r\n    case 3:\r\n      return \"три пары\";\r\n    case 4:\r\n      return \"четыре пары\";\r\n    default:\r\n      return `${pairCount} пар`;\r\n  }\r\n}\r\n\r\n\r\nexport function pairNumberToPairText(pairCount: number): string | undefined {\r\n  const lesson = (pairCount === 1)\r\n    ? \"пара\"\r\n    : (pairCount === 2 || pairCount === 3 || pairCount === 4)\r\n      ? \"пары\"\r\n      : \"пар\"\r\n  return lesson;\r\n}\r\n\r\n\r\nexport function getFullGroupName(group: string, subGroup: string): string {\r\n  return (subGroup !== \"\")\r\n    ? `${group} (${subGroup})`\r\n    : `${group} `\r\n}\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {Button, CardHeadline2, Col, Image, Row, TextBox, TextBoxSubTitle, TextBoxTitle,  CardParagraph1, Body2\r\n} from \"@sberdevices/plasma-ui\";\r\nimport {\r\n  IconHouse,\r\n  IconNavigationArrow,\r\n  IconSettings,\r\n  IconStar,\r\n  IconStarFill,\r\n  IconMoreVertical,\r\n  IconChevronRight\r\n} from \"@sberdevices/plasma-icons\";\r\n\r\nimport logo from \"../images/logo.png\";\r\n\r\n\r\nexport const HeaderLogoCol = () => {\r\n  return (\r\n    <Col\r\n      style={{maxWidth: '2.3rem', padding: \"0 0 0 0\"}}\r\n    >\r\n      <Image\r\n        src={logo}\r\n        \r\n      />\r\n    </Col>\r\n  )\r\n}\r\n\r\nexport const HeaderTitleCol = ({\r\n                       title\r\n                     }: {\r\n  title: string\r\n}) => (\r\n  <Col style={{marginLeft: \"0.5em\", paddingTop: \"0.5em\"}}>\r\n    <TextBox>\r\n      <CardHeadline2>{title}</CardHeadline2>\r\n    </TextBox>\r\n  </Col>\r\n)\r\n\r\n\r\nexport const HeaderTitleCol2 = ({\r\n                       title\r\n                     }: {\r\n  title: string\r\n}) => (\r\n  <Col style={{marginLeft: \"0.5em\", paddingTop: \"0.7em\"}}>\r\n    <TextBox>\r\n      <Body2>{title}</Body2>\r\n    </TextBox>\r\n  </Col>\r\n)\r\n\r\n\r\nconst DEFAULT_SCHEDULE_TEXT = 'Расписание занятий';\r\n\r\nexport function HeaderScheduleCol({\r\n                                 label = DEFAULT_SCHEDULE_TEXT,\r\n                                 subLabel,\r\n                               }: {\r\n  label?: string\r\n  subLabel: string\r\n}) {\r\n  return (\r\n    <Col style={{marginLeft: \"0.5em\"}}>\r\n      <TextBox>\r\n        <TextBoxTitle>{label}</TextBoxTitle>\r\n        <TextBoxSubTitle>{subLabel}</TextBoxSubTitle>\r\n      </TextBox>\r\n    </Col>\r\n  )\r\n}\r\n\r\n\r\nexport const GoToNavigatorButton = ({\r\n                               onClick,\r\n                             }: {\r\n  onClick: React.MouseEventHandler<HTMLElement>\r\n}) => (\r\n  <Button\r\n    onClick={(event) => onClick(event)}\r\n    contentRight={\r\n      <IconNavigationArrow size=\"s\" color=\"inherit\"/>\r\n    }\r\n  />\r\n)\r\n\r\n\r\n\r\nexport const GoToDashboardButton = ({\r\n                               onClick,\r\n                             }: {\r\n  onClick: React.MouseEventHandler<HTMLElement>\r\n}) => (\r\n  <Button\r\n    size=\"s\"\r\n    view=\"clear\"\r\n    pin=\"circle-circle\"\r\n    onClick={(event) => onClick(event)}\r\n    contentRight={\r\n      <IconHouse size=\"s\" color=\"inherit\"/>\r\n    }\r\n  />\r\n)\r\n\r\nexport const GoToHomeButton = ({\r\n                          onClick,\r\n                        }: {\r\n  onClick: React.MouseEventHandler<HTMLElement>\r\n}) => (\r\n  <Button\r\n    size=\"s\"\r\n    view=\"clear\"\r\n    pin=\"circle-circle\"\r\n    onClick={(event) => onClick(event)}\r\n    contentRight={\r\n      <IconSettings size=\"s\" color=\"inherit\"/>\r\n    }\r\n  />\r\n)\r\n\r\n// export const GoToScheduleButton = ({\r\n//                           onClick,\r\n//                         }: {\r\n//   onClick: React.MouseEventHandler<HTMLElement>\r\n// }) => (\r\n//   <Button\r\n//     size=\"s\"\r\n//     view=\"clear\"\r\n//     pin=\"circle-circle\"\r\n//     onClick={(event) => onClick(event)}\r\n//     contentRight={\r\n//       <IconMoreVertical size=\"s\" color=\"inherit\"/>\r\n//     }\r\n//   />\r\n// )\r\n\r\nexport const GoToScheduleButton = ({\r\n                                     disabled=false,\r\n                                     style={},\r\n                                     onClick,\r\n                                   }: {\r\n  disabled?: boolean\r\n  style?: Object\r\n  onClick: React.MouseEventHandler<HTMLElement>\r\n}) => (\r\n  disabled\r\n    ? <Button\r\n      view=\"clear\"\r\n      disabled={disabled}\r\n    />\r\n    : <Button\r\n      size=\"s\"\r\n      view=\"clear\"\r\n      pin=\"circle-circle\"\r\n      onClick={(event) => onClick(event)}\r\n      contentRight={\r\n        <IconChevronRight size=\"s\" color=\"inherit\"/>\r\n      }\r\n      style={style}\r\n    />\r\n)\r\n\r\nexport const TopMenu = ({\r\n                   label,\r\n                   subLabel,\r\n                   onDashboardClick,\r\n                   onHomeClick,\r\n                   Bd,\r\n                   //Load_Schedule\r\n                 }: {\r\n  label?: string\r\n  subLabel: string\r\n  // onNavigatorClick: () => void\r\n  onDashboardClick: () => void\r\n  onHomeClick: () => void\r\n  Bd: () => Promise<void>\r\n  //Load_Schedule: () => void\r\n}) => {\r\n  return (\r\n    <Row style={{margin: \"1em\"}}>\r\n\r\n      <HeaderLogoCol />\r\n\r\n      <HeaderScheduleCol\r\n        label={label}\r\n        subLabel={subLabel}\r\n      />\r\n\r\n      <Col style={{margin: \"0 0 0 auto\"}}>\r\n\r\n        <GoToDashboardButton\r\n                  onClick={async () => {\r\n                    onDashboardClick();\r\n                  }}\r\n                />\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\n\r\nexport default TopMenu\r\n","export default \"data:image/png;base64,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\"","export const DEFAULT_TEXT_COLOR = 'var(--plasma-colors-white-secondary)';\r\nexport const ACCENT_TEXT_COLOR = 'var(--plasma-colors-button-accent)';\r\nexport const COLOR_BLACK = 'rgba(0,0,0, 0)';\r\n\r\nexport const COLOR_BUTTON_PRIMARY = \"var(--plasma-colors-button-primary)\";\r\nexport const COLOR_PRIMARY = \"var(--plasma-colors-primary\";\r\n\r\n","import React from \"react\";\r\nimport {DEFAULT_TEXT_COLOR} from \"./consts\";\r\n\r\nconst LINK_TEXT = 'Ссылка на онлайн-конференцию';\r\n\r\nexport const LinkToOnline = ({\r\n                               url,\r\n                               text,\r\n}: {\r\n  url: string,\r\n  text?: string,\r\n}) => (\r\n  url\r\n    ? (\r\n    <a href={url}  target=\"_blank\"\r\n       style={{ color: DEFAULT_TEXT_COLOR }}\r\n    >{ text || LINK_TEXT }</a>\r\n    )\r\n    : (\r\n      <div style={{margin: \"0\"}}></div>\r\n    )\r\n)\r\n\r\nexport default LinkToOnline;\r\n","import React from \"react\";\r\nimport {\r\n  Link\r\n} from \"react-router-dom\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {\r\n  CardHeadline3,\r\n  TextBox,\r\n  TextBoxSubTitle,\r\n  TextBoxTitle,\r\n  Badge,\r\n  Col,\r\n  CellListItem,\r\n} from \"@sberdevices/plasma-ui\";\r\nimport {\r\n  //IconSettings,\r\n  IconLocation,\r\n  //IconMoreVertical\r\n} from \"@sberdevices/plasma-icons\";\r\nimport {LessonStartEnd, NO_LESSONS_NAME, StartEnd} from \"../App\";\r\n//import { darkJoy, darkEva, darkSber } from \"@sberdevices/plasma-tokens/themes\";\r\n//import { createGlobalStyle } from \"styled-components\";\r\n\r\n//import { text, background, gradient } from \"@sberdevices/plasma-tokens\";\r\n// import \"../themes/App.css\";\r\nimport {ACCENT_TEXT_COLOR, COLOR_BLACK, COLOR_PRIMARY, COLOR_BUTTON_PRIMARY} from \"./consts\";\r\nimport {Bell} from \"../types/ScheduleStructure\";\r\n\r\n// import {DEFAULT_TEXT_COLOR} from '../App';\r\n// import {THIS_WEEK, THIS_OR_OTHER_WEEK} from \"../types/base.d\";\r\nimport {lessonTypeAdjToNoun} from '../utils';\r\nimport LinkToOnline from './LinkToOnline';\r\n\r\n\r\nexport const LessonStartAndFinishTime = (\r\n  {\r\n    time\r\n  }: {\r\n    time: string\r\n  }\r\n) => {\r\n  return (\r\n    <TextBoxSubTitle lines={8}>\r\n      {time}\r\n    </TextBoxSubTitle>\r\n  )\r\n}\r\n\r\nexport const LessonName = (\r\n  {\r\n    isAccented,\r\n    text,\r\n    lessonNumber,\r\n  }: {\r\n    isAccented: boolean\r\n    text: string\r\n    lessonNumber: string\r\n  }\r\n) => {\r\n  console.log(text);\r\n  return (\r\n    <Link\r\n      to={`/lesson/${lessonNumber}`}\r\n      style={{\r\n        color: isAccented\r\n          ? ACCENT_TEXT_COLOR\r\n          : COLOR_BUTTON_PRIMARY\r\n        , textDecoration: 'none',\r\n\r\n      }}\r\n    >\r\n\r\n      <CardHeadline3\r\n        style={isAccented ? {color: ACCENT_TEXT_COLOR} : {color: COLOR_BUTTON_PRIMARY}}\r\n      >\r\n        {text}\r\n      </CardHeadline3>\r\n\r\n    </Link>\r\n  )\r\n}\r\n\r\nexport const GroupNumber = (\r\n  {\r\n    text,\r\n  }: {\r\n    text: string\r\n  }\r\n) => {\r\n  return (\r\n    <TextBoxTitle>\r\n      {text}\r\n    </TextBoxTitle>\r\n  )\r\n}\r\n\r\nexport const TeacherName = (\r\n  {\r\n    text,\r\n    style = {},\r\n    onClick,\r\n  }: {\r\n    text: string\r\n    style?: React.CSSProperties\r\n    onClick: (event: React.MouseEvent<HTMLAnchorElement, MouseEvent>) => void\r\n  }\r\n) => {\r\n  console.log(text);\r\n  return (\r\n    text != \"\" || text != null ? (\r\n      <a\r\n        href='#'\r\n        // style={{color: \"white\"}}\r\n        style={style}\r\n        onClick={(event) => onClick(event)}\r\n      >\r\n        {text}\r\n      </a>) : (<div style={{margin: \"0\"}}></div>)\r\n\r\n  )\r\n}\r\n\r\nexport const LessonLeftContent = (\r\n  {\r\n    text,\r\n    visible,\r\n  }: {\r\n    text: string\r\n    visible: boolean\r\n  }\r\n) => {\r\n  return (\r\n    visible\r\n      ? <Badge\r\n        text={text}\r\n        view=\"primary\"\r\n        style={{marginRight: \"0.5em\"}}\r\n        size=\"l\"\r\n      />\r\n      : <div></div>\r\n  )\r\n}\r\n\r\nconst MainContent = (\r\n  {\r\n    lessonName,\r\n    lessonNumber,\r\n    groupNumber,\r\n    teacher,\r\n    time,\r\n    url,\r\n    isAccented,\r\n    isTeacherAndValid,\r\n    onTeacherClick,\r\n  }: {\r\n    lessonName: string\r\n    lessonNumber: string\r\n    groupNumber: string\r\n    teacher: string\r\n    time: string\r\n    url: string\r\n    isAccented: boolean\r\n    isTeacherAndValid: boolean\r\n    onTeacherClick: (teacherName: string) => void\r\n  }\r\n) => {\r\n  return (\r\n\r\n    <TextBox>\r\n      <LessonStartAndFinishTime\r\n        time={time}\r\n      />\r\n      <LessonName\r\n        text={lessonName}\r\n        lessonNumber={lessonNumber}\r\n        isAccented={isAccented}\r\n      />\r\n      {\r\n        isTeacherAndValid && groupNumber != \"\"\r\n          ? <GroupNumber\r\n            text={groupNumber}\r\n          /> : <div></div>\r\n      }\r\n      {!isTeacherAndValid && teacher != \"\"\r\n        ? <TeacherName\r\n          text={teacher}\r\n          style={{color: COLOR_BUTTON_PRIMARY}}\r\n          onClick={() => onTeacherClick(teacher)}\r\n        /> : <div></div>\r\n      }\r\n      <Col size={12} style={{paddingLeft: \"0\"}}>\r\n      <LinkToOnline url={url}/>\r\n      </Col>\r\n\r\n    </TextBox>\r\n  )\r\n}\r\n\r\nexport const LessonRightContent = (\r\n  {\r\n    room,\r\n    lessonType,\r\n  }: {\r\n    room: string\r\n    lessonType: string\r\n  }\r\n) => {\r\n  return (\r\n    <TextBox>\r\n      {room ? (\r\n        <Badge\r\n          text={room}\r\n          contentLeft={\r\n            <IconLocation size=\"xs\"/>\r\n          }\r\n          style={{\r\n            backgroundColor: COLOR_BLACK,\r\n            color: COLOR_BUTTON_PRIMARY,\r\n          }}\r\n        />) : (<div></div>)\r\n      }\r\n      <TextBoxTitle style={{paddingRight: \"0.3em\"}}>\r\n        {lessonType}\r\n      </TextBoxTitle>\r\n    </TextBox>\r\n  )\r\n}\r\n\r\n\r\nconst ScheduleLesson = (\r\n  {\r\n    lesson,\r\n    startEndTime,\r\n    isAccented,\r\n    isTeacherAndValid,\r\n    onTeacherClick,\r\n  }: {\r\n    lesson: Bell\r\n    startEndTime: StartEnd\r\n    isAccented: boolean\r\n    isTeacherAndValid: boolean\r\n    onTeacherClick: (teacherName: string) => void\r\n  }\r\n) => {\r\n\r\n  const formatStartEndTime = (startTime: string, endTime: string): string => {\r\n    return startTime ? `${startTime} - ${endTime}` : \"\";\r\n  }\r\n\r\n  return (\r\n    <CellListItem\r\n      style={{padding: \"0\", margin: \"0\"}}\r\n      content={\r\n        lesson.lessonName != \"Пар нет 🎉\"\r\n          ? <MainContent\r\n            lessonName={lesson.lessonName}\r\n            lessonNumber={lesson.lessonNumber}\r\n            groupNumber={lesson.groupNumber}\r\n            teacher={lesson.teacher}\r\n            url={lesson.url}\r\n            time={\r\n              formatStartEndTime(startEndTime.start, startEndTime.end)\r\n            }\r\n            isAccented={isAccented}\r\n            isTeacherAndValid={isTeacherAndValid}\r\n            onTeacherClick={onTeacherClick}\r\n          />\r\n          : <CardHeadline3 style={{marginLeft: \"1em\"}}>\r\n            {lesson.lessonName}\r\n          </CardHeadline3>\r\n      }\r\n      contentRight={\r\n        <LessonRightContent\r\n          room={lesson.room}\r\n          lessonType={\r\n            // todo: это преобразование должно быть раньше\r\n            lessonTypeAdjToNoun(lesson.lessonType)\r\n          }\r\n        />\r\n      }\r\n      contentLeft={\r\n        <LessonLeftContent\r\n          visible={!(lesson.lessonName == NO_LESSONS_NAME)}\r\n          text={lesson.lessonNumber}\r\n        />\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nexport default ScheduleLesson\r\n","import {Row, TextBox, TextBoxBigTitle} from \"@sberdevices/plasma-ui\";\r\nimport React from \"react\";\r\n\r\nexport const DAY_OFF_TEXT = 'Выходной 😋';\r\n\r\nexport const ScheduleDayOff = () => (\r\n  <Row style={{\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    alignSelf: \"center\",\r\n    justifyContent: \"center\"\r\n  }}>\r\n    <TextBox>\r\n      <TextBoxBigTitle>{ DAY_OFF_TEXT }</TextBoxBigTitle>\r\n    </TextBox>\r\n  </Row>\r\n)\r\n\r\nexport default ScheduleDayOff;\r\n","import React, {MouseEventHandler} from \"react\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  DeviceThemeProvider,\r\n  TextBoxBiggerTitle,\r\n  Body1,\r\n  Caption\r\n} from '@sberdevices/plasma-ui';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  CardBody2,\r\n  //CardBody1,\r\n  CardContent,\r\n  //CardMedia,\r\n  CardParagraph1,\r\n  CardParagraph2,\r\n  TextBox,\r\n  CellListItem,\r\n  CardHeadline3,\r\n  LineSkeleton,\r\n  RectSkeleton,\r\n  CellDisclosure,\r\n} from \"@sberdevices/plasma-ui\";\r\n//import {createGlobalStyle} from \"styled-components\";\r\nimport {\r\n  IconLocation, \r\n  IconStarFill, \r\n  IconApps,\r\n  IconEvent, \r\n  IconHelp, \r\n  IconCallCircle} \r\n  from \"@sberdevices/plasma-icons\";\r\nimport {\r\n  DocStyle,\r\n  getThemeBackgroundByChar,\r\n} from '../themes/tools';\r\nimport {\r\n  capitalize,\r\n  formatTimeHhMm,\r\n} from '../utils';\r\nimport {\r\n  StartEnd,\r\n} from '../App';\r\nimport {Bell} from '../types/ScheduleStructure'\r\nimport {CHAR_TIMEPARAMOY, Character} from \"../types/base.d\";\r\nimport {pairNumberToPairNumText} from '../utils'\r\nimport {GoToHomeButton, HeaderLogoCol, HeaderTitleCol} from \"../components/TopMenu\";\r\nimport ScheduleLesson from \"../components/ScheduleLesson\";\r\nimport {history} from \"../App\";\r\n\r\n\r\nimport {DAY_OFF_TEXT} from '../components/ScheduleDayOff'\r\nimport moment from 'moment';\r\nimport 'moment/locale/ru';\r\n\r\nconst NO_LESSONS_TODAY_TEXT = 'Сегодня пар нет';\r\n\r\nmoment.locale('ru');\r\n\r\n\r\nconst HeaderRow = ({\r\n                     onHomeClick\r\n                   }: {\r\n  onHomeClick: () => void\r\n}) => (\r\n  <Row style={{\r\n    margin: \"1em\"\r\n  }}>\r\n\r\n    <HeaderLogoCol/>\r\n\r\n    <HeaderTitleCol\r\n      title='Мир МИСиС'\r\n    />\r\n\r\n    <Col style={{margin: \"0 0 0 auto\"}}>\r\n      <GoToHomeButton\r\n        onClick={() => onHomeClick()}\r\n      />\r\n    </Col>\r\n\r\n  </Row>\r\n)\r\n\r\n\r\nconst ScheduleSectionTitleRow = () => (\r\n  <Row>\r\n\r\n    <Col\r\n      style={{\r\n        marginLeft: \"2em\",\r\n        paddingTop: \"0.5em\"\r\n      }}\r\n    >\r\n      <IconStarFill color=\"grey\"/>\r\n    </Col>\r\n\r\n    <Col style={{\r\n      paddingTop: \"0.6em\"\r\n    }}>\r\n      <TextBox>\r\n        <CardHeadline3>\r\n          Мое расписание\r\n        </CardHeadline3>\r\n      </TextBox>\r\n    </Col>\r\n\r\n  </Row>\r\n)\r\n\r\n\r\nconst CatalogueHeaderRow = () => {\r\n  return (\r\n    <Row>\r\n      <Col style={{marginLeft: \"2em\", paddingTop: \"1em\"}}>\r\n        <IconApps color=\"grey\"/>\r\n      </Col>\r\n      <Col style={{paddingTop: \"1.1em\"}}>\r\n        <TextBox>\r\n          <CardHeadline3>\r\n            Каталог\r\n          </CardHeadline3>\r\n        </TextBox>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\n\r\nconst TodaySummary = ({\r\n                        date,\r\n                        lessonCount,\r\n                        lessonsStart,\r\n                        lessonsEnd\r\n                      }: {\r\n  date: Date\r\n  lessonCount: number\r\n  lessonsStart: string\r\n  lessonsEnd: string\r\n}) => {\r\n  const dayOfWeek = date.getDay();\r\n  const isSunday = dayOfWeek === 0;\r\n  const weekDayShortToday = capitalize(\r\n    moment(date).format('dd')\r\n  );\r\n  const day = {\r\n    \"Пн\": \"Понедельник\",\r\n    \"Вт\": \"Вторник\",\r\n    \"Ср\": \"Средa\",\r\n    \"Чт\": \"Четверг\",\r\n    \"Пт\": \"Пятница\",\r\n    \"Сб\": \"Суббота\",\r\n  }\r\n  const month = {\r\n    \"01\": \"января\",\r\n    \"02\": \"февраля\",\r\n    \"03\": \"марта\",\r\n    \"04\": \"апреля\",\r\n    \"05\": \"мая\",\r\n    \"06\": \"июня\",\r\n    \"07\": \"июля\",\r\n    \"08\": \"августа\",\r\n    \"09\": \"сентября\",\r\n    \"10\": \"октября\",\r\n    \"11\": \"ноября\",\r\n    \"12\": \"декабря\",\r\n  }\r\n  const dateToday = moment(date).format('DD.MM.YY');\r\n  let dateDay = \"\"\r\n  dateToday.slice(0, 1) === \"0\" ? dateDay = dateToday.slice(1, 2) : dateDay = dateToday.slice(0, 2)\r\n\r\n\r\n  const formatLessonsCountFromTo = (count: string, from: string, to: string): string => (\r\n    `Сегодня ${count} с ${from} до ${to}`\r\n  )\r\n  console.log(lessonsStart, \"lessoncount\")\r\n\r\n  return (\r\n    <Row>\r\n      <TextBox\r\n        // @ts-ignore\r\n        style={{\r\n          marginLeft: \"2.5em\",\r\n          paddingTop: \"0.5em\",\r\n        }}\r\n      >\r\n        <CardParagraph2 style={{fontSize: \"20px\"}}>\r\n          {\r\n            isSunday\r\n              ? DAY_OFF_TEXT\r\n              : `${day[weekDayShortToday]}, ${dateDay} ${month[dateToday.slice(3, 5)]}`\r\n          }\r\n        </CardParagraph2>\r\n        <CardParagraph1 style={{color: \"grey\"}}>\r\n          {\r\n            !isSunday &&\r\n            lessonCount !== 0\r\n              ? formatLessonsCountFromTo(\r\n                pairNumberToPairNumText(lessonCount),\r\n                lessonsStart,\r\n                lessonsEnd,\r\n              )\r\n              : NO_LESSONS_TODAY_TEXT\r\n          }\r\n        </CardParagraph1>\r\n      </TextBox>\r\n    </Row>\r\n  )\r\n}\r\n\r\n\r\nconst DashboardCard = ({\r\n                         text,\r\n                         sub,\r\n                         onClick,\r\n                       }: {\r\n  text: string\r\n  sub: string\r\n  onClick?: MouseEventHandler<HTMLElement>\r\n}) => {\r\n  return (\r\n    <Col size={2}>\r\n      <Card\r\n        style={{\r\n          height: \"20vh\",\r\n          marginTop: \"0.5em\",\r\n          cursor: !!onClick ? 'pointer' : 'default',\r\n          display: \"flex\", flexDirection: \"column\"\r\n        }}\r\n        onClick={(event) => !!onClick ? onClick(event) : undefined}>\r\n        <CardBody >\r\n          <CardContent style={{height: \"20vh\"}}>\r\n            <TextBox>\r\n              <Caption style={{color: \"grey\"}}>\r\n                {sub}\r\n              </Caption>\r\n              <CardHeadline3>\r\n                {text}\r\n              </CardHeadline3>\r\n            </TextBox>\r\n            {text==\"Другое расписание\" ? \r\n            <Col style={{margin: \"auto 0 0 0\"}}>\r\n            <IconEvent size=\"s\"/>\r\n            </Col> : <div></div>\r\n            }\r\n            {text==\"Карта\" ? \r\n            <Col style={{margin: \"auto 0 0 0\"}}>\r\n            <IconLocation size=\"s\"/>\r\n            </Col> : <div></div>\r\n            }\r\n            {text==\"FAQ\" ? \r\n            <Col style={{margin: \"auto 0 0 0\"}}>\r\n            <IconHelp size=\"s\"/>\r\n            </Col> : <div></div>\r\n            }\r\n            {text==\"Контакты\" ? \r\n            <Col style={{margin: \"auto 0 0 0\"}}>\r\n            <IconCallCircle size=\"s\"/>\r\n            </Col> : <div></div>\r\n            }\r\n          </CardContent>\r\n        </CardBody>\r\n      </Card>\r\n    </Col>\r\n  )\r\n}\r\n\r\nconst GetCloser = ({\r\n  onGoToPage,\r\n}: {\r\nonGoToPage: (pageNo) => void\r\n}) => {\r\nreturn (\r\n<Row style={{marginLeft: \"1.3em\", marginRight: \"1em\", marginTop: \"0.5em\", paddingTop: \"0\"}}>\r\n\r\n<Card onClick={() => history.push('/settings')} style={{padding: \"0 0 0 0\", width: \"100%\", height: \"8.5vh\"}}>\r\n\r\n<CardBody\r\nstyle={{padding: \"0 0 0 0\"}}\r\n>\r\n<CardContent style={{padding: \"0 0 0 0\"}}>\r\n<CellListItem\r\nstyle={{padding: \"0 0 0 0\"}}\r\ncontentLeft={\r\n<TextBox>\r\n<TextBoxBiggerTitle style={{marginRight: \"0.3em\", marginLeft: \"0.3em\", padding: \"0 0 0 0\"}}>\r\n 🥺\r\n</TextBoxBiggerTitle>\r\n</TextBox>}\r\ncontent={\r\n<TextBox >\r\n<Body1 style={{padding: \"0 0 0 0\"}}>\r\n Станем ближе?\r\n</Body1>\r\n<Body1 style={{padding: \"0 0 0 0\", color: \"grey\"}}>\r\n Сохрани свои данные\r\n</Body1>\r\n</TextBox>\r\n\r\n}\r\ncontentRight={\r\n<CellDisclosure style={{marginRight: \"1em\", marginLeft: \"0.3em\", padding: \"0 0 0 0\"}}/>\r\n}\r\n>\r\n</CellListItem>\r\n</CardContent>\r\n\r\n</CardBody>\r\n\r\n</Card>\r\n\r\n</Row>\r\n\r\n)\r\n}\r\n\r\nconst CatalogueItems = ({\r\n                          onGoToPage,\r\n                        }: {\r\n  onGoToPage: (pageNo) => void\r\n}) => {\r\n\r\n  // let history = useHistory();\r\n  // use history.push('/some/path') here\r\n\r\n  return (\r\n    <Row style={{marginLeft: \"1em\", marginRight: \"1em\"}}>\r\n\r\n     \r\n\r\n      <DashboardCard\r\n        text=\"Карта\"\r\n        sub=\"Как добраться\"\r\n        // onClick={() => onGoToPage(NAVIGATOR_PAGE_NO)}\r\n        onClick={() => history.push('/navigation')}\r\n      />\r\n      \r\n      <DashboardCard\r\n              text=\"Другое расписание\"\r\n              sub=\"\"\r\n              onClick={() => history.push('/home')}\r\n            />\r\n\r\n      <DashboardCard\r\n        text=\"FAQ\"\r\n        sub=\"Часто задаваемые вопросы\"\r\n        // onClick={() => onGoToPage(FAQ_PAGE_NO)}\r\n        onClick={() => history.push('/faq')}\r\n      />\r\n\r\n      <DashboardCard\r\n        text=\"Контакты\"\r\n        sub=\"Помощь\"\r\n        // onClick={() => onGoToPage(CONTACTS_PAGE_NO)}\r\n        onClick={() => history.push('/contacts')}\r\n      />\r\n\r\n    </Row>\r\n\r\n  )\r\n}\r\n\r\nconst ScheduleLessonTitle = ({text}: { text: string }) => (\r\n  <TextBox\r\n    // @ts-ignore\r\n\r\n  >\r\n    <CardParagraph1 style={{color: \"grey\", marginTop: \"0.5em\"}}>\r\n      {text}\r\n    </CardParagraph1>\r\n  </TextBox>\r\n)\r\n\r\n\r\nconst NoLesson = () => (\r\n  < CardBody2 style={{fontSize: \"18px\"}}>\r\n    Пары нет🎊\r\n  </CardBody2>\r\n)\r\n\r\nconst DashboardPage = ({\r\n                         character,\r\n                         isTeacherAndValid,\r\n                         start,\r\n                         end,\r\n                         count,\r\n                         userId,\r\n                         currentLesson,\r\n                         currentLessonStartEnd,\r\n                         groupId,\r\n                         teacherId,\r\n                         nextLesson,\r\n                         nextLessonStartEnd,\r\n                         spinner,\r\n                         onGoToPage,\r\n                         theme,\r\n                         handleTeacherChange,\r\n                         isUser\r\n                       }: {\r\n  character: Character\r\n    // todo: что такое 'timeParamoy' ???\r\n    | typeof CHAR_TIMEPARAMOY\r\n  isTeacherAndValid: boolean\r\n  groupId: String\r\n  teacherId: String\r\n  spinner: Boolean,\r\n  isUser: Boolean,\r\n  count: number,\r\n  start: string,\r\n  end: string,\r\n  theme: string\r\n  currentLesson: Bell,\r\n  currentLessonStartEnd: StartEnd,\r\n  filialId: String,\r\n  userId: String,\r\n  nextLesson: Bell,\r\n  nextLessonStartEnd: StartEnd,\r\n  onGoToPage: (pageNo: number) => void\r\n  handleTeacherChange: (isSave: boolean) => Promise<boolean>\r\n\r\n}) => {\r\n  console.log(groupId, teacherId, userId, \"DASHBOARD\")\r\n  return (\r\n    <DeviceThemeProvider>\r\n      <DocStyle/>\r\n      {\r\n        getThemeBackgroundByChar(character, theme)\r\n      }\r\n      <Container style={{padding: 0, overflow: \"hidden\"}}>\r\n        <HeaderRow\r\n          // onHomeClick={() => onGoToPage(SETTING_PAGE_NO)}\r\n          onHomeClick={() => history.push('/settings')}\r\n        />\r\n        {\r\n          spinner === true\r\n            ? (\r\n              <Row>\r\n                <TodaySummary\r\n                  date={new Date()}\r\n                  lessonCount={count}\r\n                  lessonsStart={start}\r\n                  lessonsEnd={end}\r\n                />\r\n\r\n\r\n                    <Col size={12}>\r\n                      <ScheduleSectionTitleRow/>\r\n                      <Card style={{\r\n                        width: \"88%\",\r\n                        marginLeft: \"1.5em\",\r\n                        marginTop: \"0.5em\",\r\n                        marginRight: \"2.5em\"\r\n                      }}\r\n                            onClick={ () => {\r\n                              history.push('/spinner')\r\n                            }}\r\n                      >\r\n\r\n                        <CardBody\r\n                          // style={{padding: \"0 0 0 0\"}}\r\n                        >\r\n                          <CardContent\r\n                            // compact\r\n                            style={{padding: \"0 0.2em 0.5em 0.8em\"}}\r\n                          >\r\n\r\n                            <ScheduleLessonTitle text=\"Сейчас\"/>\r\n\r\n                            {\r\n                              !!currentLesson&&count!=0\r\n                                ? (\r\n                                  <ScheduleLesson\r\n                                    lesson={currentLesson}\r\n                                    startEndTime={currentLessonStartEnd}\r\n                                    isTeacherAndValid={isTeacherAndValid}\r\n                                    isAccented={true}\r\n                                    // todo: задавать имя преподавателя\r\n                                    onTeacherClick={(teacherName) => handleTeacherChange(false)}\r\n                                  />\r\n                                )\r\n                                : <NoLesson/>\r\n                            }\r\n\r\n                          </CardContent>\r\n                          {/*\r\n          </CardBody>\r\n*/}\r\n\r\n                          {\r\n                            !!nextLesson&&count!=0 // !!nextLessonIdx\r\n                              ? (\r\n                                // <React.Fragment>\r\n                                /*\r\n                              <CardBody\r\n                                // style={{padding: \"0 0 0 0\"}}\r\n                              >\r\n              */\r\n                                <CardContent style={{padding: \"0 0.2em 0.2em 0.8em\"}}>\r\n\r\n                                  <ScheduleLessonTitle text=\"Дальше\"/>\r\n\r\n                                  <ScheduleLesson\r\n                                    lesson={nextLesson}\r\n                                    startEndTime={nextLessonStartEnd}\r\n                                    isTeacherAndValid={isTeacherAndValid}\r\n                                    isAccented={false}\r\n                                    // todo: задавать имя преподавателя\r\n                                    onTeacherClick={() => handleTeacherChange(false)}\r\n                                  />\r\n                                  {/*</React.Fragment>*/}\r\n                                </CardContent>\r\n                              )\r\n                              : (<div></div>)\r\n                          }\r\n                          {/*</CardContent>*/}\r\n                          <Button size=\"s\"  >Посмотреть всё</Button>\r\n                        </CardBody>\r\n\r\n                      </Card>\r\n                    </Col>\r\n                  \r\n                   \r\n                  \r\n                \r\n              </Row>\r\n            )\r\n            : (<div ></div>)}\r\n\r\n             \r\n               {!spinner &&(groupId != \"\" ||  teacherId != \"\") ||!isUser ?      (\r\n              <Col >\r\n                <LineSkeleton size=\"headline1\" roundness={8} style={{marginLeft: \"1em\", width:\"90%\"}}/>\r\n                <LineSkeleton size=\"headline3\" roundness={8} style={{marginLeft: \"1em\", width:\"90%\"}}/>\r\n                <ScheduleSectionTitleRow/>\r\n                <RectSkeleton width=\"100%\" height=\"10rem\" style={{marginTop: \"0.5em\", marginLeft: \"1em\", width:\"90%\"}} roundness={16}/>\r\n              </Col>): (<div ></div>)\r\n\r\n             \r\n                    \r\n        }\r\n        {groupId == \"\" && teacherId == \"\" && isUser ? (<GetCloser\r\n                      onGoToPage={(pageNo) => onGoToPage(pageNo)}\r\n                    />) : (<div ></div>)}\r\n        <CatalogueHeaderRow/>\r\n\r\n        <CatalogueItems\r\n          onGoToPage={(pageNo) => onGoToPage(pageNo)}\r\n        />\r\n\r\n\r\n        <div style={{\r\n          width: '200px',\r\n          height: '300px',\r\n        }}></div>\r\n\r\n      </Container>\r\n    </DeviceThemeProvider>\r\n  )\r\n}\r\n\r\nexport default DashboardPage\r\n","import React, {DetailedHTMLProps, HTMLAttributes} from \"react\";\r\nimport {Container, Row, Col, Cell, Button} from '@sberdevices/plasma-ui';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport {\r\n  history,\r\n  Spacer100,\r\n} from '../../App';\r\nimport {\r\n    HeaderLogoCol,\r\n    HeaderTitleCol2,\r\n  GoToDashboardButton,\r\n  GoToScheduleButton,\r\n} from '../TopMenu';\r\n\r\n\r\ninterface MainProps {\r\n  setValue: (key: string, value: any) => void\r\n  convertIdInGroupName: () => void\r\n  disabled: boolean\r\n  contentRight: DetailedHTMLProps<HTMLAttributes<HTMLDivElement>, HTMLDivElement>\r\n}\r\n\r\nconst Main = ({\r\n                disabled,\r\n                contentRight,\r\n                setValue,\r\n                convertIdInGroupName,\r\n              }: MainProps) => {\r\n\r\n  const TopMenuRow = () => (\r\n    <Row style={{margin: \"1em\"}}>\r\n\r\n              <HeaderLogoCol/>\r\n\r\n              <HeaderTitleCol2\r\n                title=\"Другое расписание\"\r\n              />\r\n\r\n              <Col style={{margin: \"0 0 0 auto\"}}>\r\n              <GoToDashboardButton\r\n          onClick={() => {\r\n            history.push('/dashboard')\r\n          }}\r\n        />\r\n              </Col>\r\n\r\n            </Row>\r\n   \r\n\r\n  )\r\n\r\n  return (\r\n    <Container\r\n      style={{padding: 0, overflow: \"hidden\"}}\r\n    >\r\n      <TopMenuRow/>\r\n      <Cell\r\n        content={\r\n          contentRight\r\n        }\r\n        style={{\r\n          // padding: 0,\r\n          margin: '0 auto',\r\n        }}\r\n      >\r\n      </Cell>\r\n\r\n      <Spacer100/>\r\n    <div\r\n    style={{height: \"100px\", width: \"100px\"}}></div>\r\n    </Container>\r\n    \r\n  )\r\n}\r\n\r\nexport default Main\r\n","import React from \"react\";\r\nimport {Row, Tabs, TabItem} from '@sberdevices/plasma-ui';\r\n\r\nexport const TabSelectorRow = ({\r\n                              tabs,\r\n                              selectedIndex,\r\n                              onSelect,\r\n                            }: {\r\n  tabs: string[],\r\n  selectedIndex: number,\r\n  onSelect: (tabIndex: number) => void\r\n}) => {\r\n  console.log(selectedIndex, \"selectedIndex\");\r\n  return (\r\n    <Row style={{\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      alignItems: \"center\",\r\n      justifyContent: \"center\"\r\n    }}>\r\n      <Tabs view=\"secondary\" size=\"m\">\r\n        {\r\n          tabs.map(\r\n            (tabText, i) =>\r\n              <TabItem\r\n                key={tabText}\r\n                isActive={i === selectedIndex}\r\n                onClick={() => onSelect(i)}\r\n              >\r\n                {tabText}\r\n              </TabItem>\r\n          )\r\n        }\r\n      </Tabs>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default TabSelectorRow\r\n","import React from \"react\";\r\nimport {Row, Button} from '@sberdevices/plasma-ui';\r\n\r\n\r\nexport const ShowScheduleButtonRow = ({\r\n                               onClick\r\n                             }: {\r\n  onClick: (event: React.MouseEventHandler<HTMLElement>) => void\r\n}) => {\r\n  return (\r\n    <Row\r\n      style={{\r\n        display: \"flex\",\r\n        alignItems: \"flex-start\",\r\n        justifyContent: \"center\",\r\n        margin: \"0.5em\"\r\n      }}\r\n    >\r\n      <Button\r\n        text=\"Посмотреть расписание\"\r\n        view=\"primary\"\r\n        onClick={onClick}\r\n        style={{margin: \"1.5%\"}}\r\n      />\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default ShowScheduleButtonRow\r\n","import React from \"react\";\r\nimport {Row} from '@sberdevices/plasma-ui';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {\r\n  Checkbox\r\n} from \"@sberdevices/plasma-ui\";\r\n\r\n\r\nexport const RememberCheckboxRow = ({\r\n                                       label,\r\n                                       checked,\r\n                                       onChange,\r\n                                     }: {\r\n  label: string\r\n  checked: boolean\r\n  onChange: (value: boolean) => void\r\n}) => {\r\n  return (\r\n    <Row\r\n      style={{\r\n        display: \"flex\",\r\n        alignItems: \"flex-start\",\r\n        justifyContent: \"center\",\r\n        margin: \"0.8em\"\r\n      }}\r\n    >\r\n      <Checkbox\r\n        label={label}\r\n        checked={checked}\r\n        onChange={(event) => onChange(event.target.checked)}\r\n      />\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default RememberCheckboxRow\r\n","import React from \"react\";\r\nimport {Container, Row, Col, Button, DeviceThemeProvider} from '@sberdevices/plasma-ui';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {\r\n  TextBoxBigTitle,\r\n  TextBox,\r\n  Caption\r\n} from \"@sberdevices/plasma-ui\";\r\nimport {TextField} from \"@sberdevices/plasma-ui\";\r\nimport {IconChevronRight, IconHouse} from \"@sberdevices/plasma-icons\";\r\n\r\nimport {\r\n  getThemeBackgroundByChar,\r\n} from '../themes/tools';\r\nimport {\r\n  history\r\n} from '../App';\r\nimport {DocStyle} from '../themes/tools';\r\nimport {CHAR_TIMEPARAMOY, Character} from \"../types/base\";\r\nimport Main from '../components/Home/Main';\r\nimport TabSelectorRow from '../components/Home/TabSelectorRow'\r\nimport {ShowScheduleButtonRow} from '../components/Home/ShowScheduleButtonRow'\r\nimport {RememberCheckboxRow} from '../components/Home/RememberCheckboxRow'\r\nimport {GoToDashboardButton, GoToScheduleButton} from \"../components/TopMenu\";\r\n\r\nconst HOME_TITLE = 'Салют!';\r\nconst DESC_JOY = \"Заполни данные, чтобы открывать расписание одной фразой\";\r\nconst DESC_OTHERS = \"Чтобы посмотреть расписание, укажите данные учебной группы\";\r\n\r\nconst LABEL_GROUP = \"Номер академической группы через дефисы\";\r\nconst LABEL_SUB_GROUP = \"Номер подгруппы: 1 или 2\";\r\nconst LABEL_ENG_GROUP = \"Число номера группы по английскому\";\r\nconst LABEL_TEACHER = \"Фамилия И. О.\";\r\nconst LABEL_REMEMBER_FIO = \"Запомнить ФИО, если Вы преподаватель \";\r\nconst LABEL_TO_VIEW_SCHEDULE = \"Чтобы посмотреть расписание, укажите фамилию и инициалы через пробел и точку\";\r\nconst LABEL_REMEMBER_GROUP = \"Запомнить эту группу \";\r\n\r\nexport const USER_MODES = [\r\n  'Студент',\r\n  'Преподаватель',\r\n];\r\n\r\n\r\nconst HomeTitle = ({\r\n                     text,\r\n                   }: {\r\n  text: string\r\n}) => (\r\n  <TextBox>\r\n    <TextBoxBigTitle\r\n      style={{\r\n        margin: '1.5%',\r\n        textAlign: \"center\",\r\n      }}\r\n    >\r\n      {text}\r\n    </TextBoxBigTitle>\r\n  </TextBox>\r\n)\r\n\r\nconst HomeDescription = ({\r\n                           text,\r\n                         }: {\r\n  text: string\r\n}) => (\r\n  <TextBox>\r\n    <Caption style={{\r\n      margin: '1.5em',\r\n      textAlign: \"center\"\r\n    }}>\r\n      {text}\r\n    </Caption>\r\n  </TextBox>\r\n\r\n)\r\n\r\n\r\nconst TextFieldForUserInfo = ({\r\n                                label,\r\n                                value,\r\n                                isError,\r\n                                // fieldType,\r\n                                onChange,\r\n                              }: {\r\n  label: string\r\n  value: string\r\n  isError: boolean\r\n  // fieldType: string\r\n  onChange: (value: string) => void\r\n}) => {\r\n  \r\n  return (\r\n    <TextField\r\n      // id=\"tf\"\r\n      label={label}\r\n      status={isError ? 'error' : undefined}\r\n      className=\"editText\"\r\n      // placeholder=\"Напиши номер своей академической группы\"\r\n      value={value}\r\n      style={{margin: \"0.5em\"}}\r\n      // onChange={(event) => {\r\n      //   onChange(fieldType, event.target.value)\r\n      // }}\r\n      onChange={(event) => {\r\n        onChange(event.target.value)\r\n      }}\r\n    />\r\n  )\r\n}\r\n\r\n\r\ninterface HomeViewProps {\r\n  groupId: string\r\n  character: Character\r\n    // todo paramoy\r\n    | typeof CHAR_TIMEPARAMOY\r\n  // disabled: boolean\r\n  checked: boolean\r\n  description: string\r\n  theme: string \r\n  onSetValue: (key: string, value: any) => void\r\n  onHandleTeacherChange: (isSave: boolean) => Promise<boolean>\r\n  // handleTeacherChange\r\n  onConvertIdInGroupName: () => void\r\n  CheckIsCorrect: () => Promise<boolean>\r\n  LoadSchedule: (isSave:boolean) => void\r\n  onShowScheduleClick: () => void\r\n\r\n  group: string\r\n  isGroupError: boolean\r\n\r\n  subGroup: string\r\n  isSubGroupError: boolean\r\n\r\n  engGroup: string\r\n  isEngGroupError: boolean\r\n\r\n  student: boolean\r\n  teacher: string\r\n  isTeacherError: boolean\r\n  teacher_checked: boolean\r\n}\r\n\r\ninterface HomeViewState {\r\n  disabled: boolean\r\n}\r\n\r\nclass HomePage extends React.Component<HomeViewProps, HomeViewState> {\r\n\r\n  constructor(props: HomeViewProps) {\r\n    super(props);\r\n    this.onHandleChange = this.onHandleChange.bind(this)\r\n    this.Load_Schedule = this.Load_Schedule.bind(this)\r\n    this.onConvertIdInGroupName = this.onConvertIdInGroupName.bind(this);\r\n    let disabled = true;\r\n    if (props.groupId !== \"\") disabled = false;\r\n    this.state = {disabled: disabled}\r\n    this.onHandleChange(\"description\", props.character === \"joy\"\r\n      ? DESC_JOY\r\n      : DESC_OTHERS)\r\n  }\r\n\r\n  onHandleChange(key: string, value: any): void {\r\n    this.props.onSetValue(key, value);\r\n  }\r\n\r\n  async CheckIsCorrect(){\r\n    return await this.props.CheckIsCorrect();\r\n  }\r\n  Load_Schedule(isSave: boolean){\r\n    this.props.LoadSchedule(isSave)\r\n  }\r\n\r\n  // handleTeacherChange() {\r\n  //   this.props.handleTeacherChange();\r\n  // }\r\n\r\n  onConvertIdInGroupName() {\r\n    this.props.onConvertIdInGroupName();\r\n  }\r\n\r\n  render() {\r\n\r\n    const studentContent = (\r\n      <Container\r\n        style={{padding: 0}}\r\n      >\r\n\r\n        {/* <HomeTitle\r\n          text={HOME_TITLE}\r\n        /> */}\r\n\r\n        <TabSelectorRow\r\n          tabs={USER_MODES}\r\n          selectedIndex={this.props.student ? 0 : 1}\r\n          onSelect={(tabIndex) => this.onHandleChange(\"student\", tabIndex === 0)}\r\n        />\r\n\r\n        <HomeDescription\r\n          text={this.props.description}\r\n        />\r\n\r\n        <TextFieldForUserInfo\r\n          label={LABEL_GROUP}\r\n          isError={this.props.isGroupError}\r\n          value={this.props.group}\r\n          onChange={(value) => this.onHandleChange('group', value)}\r\n        />\r\n\r\n        <TextFieldForUserInfo\r\n          label={LABEL_SUB_GROUP}\r\n          isError={this.props.isSubGroupError}\r\n          value={this.props.subGroup}\r\n          onChange={(value) => this.onHandleChange('subGroup', value)}\r\n        />\r\n\r\n        <TextFieldForUserInfo\r\n          label={LABEL_ENG_GROUP}\r\n          isError={this.props.isEngGroupError}\r\n          value={this.props.engGroup}\r\n          onChange={(value) => this.onHandleChange('engGroup', value)}\r\n        />\r\n\r\n        <RememberCheckboxRow\r\n          label={LABEL_REMEMBER_GROUP}\r\n          checked={this.props.checked}\r\n          onChange={(value) => this.onHandleChange('checked', value)}\r\n        />\r\n\r\n        <ShowScheduleButtonRow\r\n          onClick={async()=>{\r\n            let isCorrect = await this.CheckIsCorrect()\r\n            if(isCorrect){\r\n              await this.Load_Schedule(this.props.checked)\r\n              this.props.onShowScheduleClick()\r\n          }\r\n            \r\n         }\r\n          }\r\n        />\r\n\r\n      </Container>\r\n    );\r\n\r\n    const teacherContent = (\r\n      <Container style={{padding: 0}}>\r\n\r\n        {/* <HomeTitle\r\n          text={HOME_TITLE}\r\n          // todo: margin: '3%'\r\n        /> */}\r\n\r\n        <TabSelectorRow\r\n          tabs={USER_MODES}\r\n          selectedIndex={this.props.student ? 0 : 1}\r\n          onSelect={(tabIndex) => this.onHandleChange(\"student\", tabIndex === 0)}\r\n        />\r\n\r\n        <HomeDescription\r\n          text={LABEL_TO_VIEW_SCHEDULE}\r\n        />\r\n\r\n        <TextFieldForUserInfo\r\n          label={LABEL_TEACHER}\r\n          value={this.props.teacher}\r\n          isError={this.props.isTeacherError}\r\n          onChange={(value) => this.onHandleChange('teacher', value)}\r\n        />\r\n\r\n        <RememberCheckboxRow\r\n          label={LABEL_REMEMBER_FIO}\r\n          checked={this.props.teacher_checked}\r\n          onChange={(value: boolean) => {\r\n            this.onHandleChange(\"teacher_checked\", value);\r\n          }}\r\n        />\r\n\r\n        <ShowScheduleButtonRow\r\n          onClick={() => this.props.onHandleTeacherChange(this.props.teacher_checked)}\r\n        />\r\n\r\n      </Container>\r\n    )\r\n\r\n\r\n    return <DeviceThemeProvider>\r\n      <DocStyle/>\r\n      {\r\n        getThemeBackgroundByChar(this.props.character, this.props.theme)\r\n      }\r\n      \r\n      <div>\r\n        {\r\n          this.props.student\r\n            ? (\r\n              <Main\r\n                setValue={this.onHandleChange}\r\n                convertIdInGroupName={this.onConvertIdInGroupName}\r\n                disabled={this.state.disabled}\r\n                contentRight={studentContent}\r\n              />\r\n            )\r\n            : (\r\n\r\n\r\n              <Main\r\n                setValue={this.onHandleChange}\r\n                convertIdInGroupName={this.onConvertIdInGroupName}\r\n                disabled={this.state.disabled}\r\n                contentRight={teacherContent}\r\n              />\r\n            )\r\n        }\r\n      </div>\r\n    </DeviceThemeProvider>\r\n  }\r\n}\r\n\r\nexport default HomePage\r\n","import React from \"react\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {\r\n  CellListItem, Card, CardBody, CardContent,\r\n} from \"@sberdevices/plasma-ui\";\r\nimport social_media from '../data/social_media.json';\r\n\r\n\r\nexport const SocialListItem = ({\r\n                                 logo,\r\n                                 name,\r\n                                 link,\r\n                               }: {\r\n  logo: string,\r\n  name: string,\r\n  link: string,\r\n}) =>\r\n  (\r\n    <CellListItem\r\n      contentLeft={\r\n        <div>\r\n          <a href={link}><img src={logo}></img></a>\r\n        </div>\r\n      }\r\n      content={\r\n        <a href={link} style={{color: 'var(--plasma-colors-button-primary)', marginLeft: \"1em\"}}>{name}</a>\r\n      }\r\n    />\r\n  )\r\n\r\n\r\nexport const SocialList = ({}: {}) => (\r\n  <Card>\r\n    <CardBody style={{padding: \"0 0 0 0\"}}>\r\n\r\n\r\n      <CardContent compact style={{padding: \"1em\"}}>\r\n\r\n\r\n        {\r\n          social_media.map((media,index) => //console.log(media, i)\r\n            (\r\n              <SocialListItem\r\n                key={index}\r\n                logo={media.logo}\r\n                name={media.name}\r\n                link={media.link}\r\n              />\r\n            )\r\n          )\r\n        }\r\n      </CardContent>\r\n\r\n    </CardBody>\r\n  </Card>\r\n)\r\n","import React from \"react\";\r\nimport {Col} from '@sberdevices/plasma-ui';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  CardContent,\r\n  TextBox,\r\n  Headline3,\r\n  Body1,\r\n  Caption,\r\n} from \"@sberdevices/plasma-ui\";\r\n\r\nexport const ContactsCard = ({\r\n                               site,\r\n                               text,\r\n                               tel,\r\n                               mail\r\n                             }: {\r\n  site: string\r\n  text: string\r\n  tel: string,\r\n  mail: string,\r\n}) => {\r\n  return (\r\n    <Col style={{margin: \"0 1em 1em 1em\"}}>\r\n      <Headline3>\r\n        {text}\r\n      </Headline3>\r\n      <Card\r\n        style={{\r\n          marginTop: \"0.5em\",\r\n        }}\r\n      >\r\n        <CardBody>\r\n          <CardContent>\r\n\r\n            {\r\n              site !== \"\" ? (\r\n                  <TextBox>\r\n                    <Caption style={{color: \"grey\"}}>\r\n                      Ссылка\r\n                    </Caption>\r\n                    <Body1 style={{color: \"var(--plasma-colors-button-primary)\"}}>\r\n                      <a  target=\"_blank\" href={site} style={{color: \"var(--plasma-colors-button-primary)\"}}>\r\n                        {site}\r\n                      </a>\r\n                    </Body1>\r\n                  </TextBox>\r\n                ) :\r\n                (<div></div>)\r\n            }\r\n\r\n            {\r\n              mail !== \"\" && tel !== \"\" ?\r\n              (\r\n                <TextBox>\r\n                  <Caption style={{color: \"grey\"}}>\r\n                    Телефон\r\n                  </Caption>\r\n                  <Body1 style={{color: \"var(--plasma-colors-button-primary)\"}}>\r\n                    <a href={`tel:${tel}`} style={{color: \"var(--plasma-colors-button-primary)\"}}>\r\n                      {tel}\r\n                    </a>\r\n                  </Body1>\r\n\r\n                  <Caption style={{color: \"grey\"}}>\r\n                    Почта\r\n                  </Caption>\r\n                  <a href={`mailto:`+mail} style={{color: \"var(--plasma-colors-button-primary)\"}}>\r\n                    {mail}\r\n                  </a>\r\n                </TextBox>\r\n              ) : (<div></div>)\r\n\r\n            }\r\n          </CardContent>\r\n        </CardBody>\r\n      </Card>\r\n    </Col>\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport {Container, Row, Col, DeviceThemeProvider} from '@sberdevices/plasma-ui';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {\r\n  Headline3,\r\n} from \"@sberdevices/plasma-ui\";\r\nimport contacts_data from '../data/contacts.json';\r\nimport social_media from '../data/social_media.json';\r\n\r\n\r\n\r\n\r\nimport {DocStyle, getThemeBackgroundByChar} from '../themes/tools';\r\nimport {CHAR_TIMEPARAMOY, Character, IBuilding} from \"../types/base\";\r\nimport {SocialList} from '../components/SocialList'\r\nimport {ContactsCard} from '../components/ContactsCard'\r\nimport {\r\n  HeaderLogoCol,\r\n  HeaderTitleCol2,\r\n  GoToDashboardButton,\r\n} from '../components/TopMenu';\r\n\r\n\r\n\r\nconst Contacts = ({\r\n                         character,\r\n                         theme,\r\n                         onDashboardClick,\r\n                       }: {\r\n  theme: string\r\n  character: Character\r\n    // todo: что такое 'timeParamoy' ???\r\n    | typeof CHAR_TIMEPARAMOY\r\n  onDashboardClick: () => void\r\n}) => {\r\n  return <DeviceThemeProvider>\r\n    <DocStyle/>\r\n    {\r\n      getThemeBackgroundByChar(character, theme)\r\n    }\r\n          <Container style={{padding: 0, overflow: \"hidden\"}}>\r\n\r\n            <Row style={{margin: \"1em\"}}>\r\n\r\n              <HeaderLogoCol/>\r\n\r\n              <HeaderTitleCol2\r\n                title=\"Контакты\"\r\n              />\r\n\r\n              <Col style={{margin: \"0 0 0 auto\"}}>\r\n                <GoToDashboardButton\r\n                  onClick={() => onDashboardClick()}\r\n                />\r\n              </Col>\r\n\r\n            </Row>\r\n            {\r\n              contacts_data.map((contact, index) =>(\r\n              <ContactsCard\r\n                key={index}\r\n                site={contact.site}\r\n                text={contact.text}\r\n                tel={contact.tel}\r\n                mail={contact.mail}\r\n              />\r\n            ))\r\n            }\r\n                   \r\n           <div style={{margin: \"0 1.3em 1.3em 1.3em\"}}>\r\n            <Headline3 style={{marginBottom: \"0.5em\"}}>\r\n            Мы в социальных сетях\r\n            </Headline3>\r\n            <SocialList/>\r\n            </div>\r\n            <div style={{\r\n              width: '200px',\r\n              height: '300px',\r\n            }}></div>\r\n          </Container>\r\n  </DeviceThemeProvider>\r\n}\r\n\r\nexport default Contacts\r\n","export default __webpack_public_path__ + \"static/media/lib.268889e0.jpeg\";","import React, { useState } from \"react\";\r\nimport {Col, Row} from '@sberdevices/plasma-ui';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport lib from \"../images/lib.jpeg\";\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  CardMedia,\r\n  CardContent,\r\n  TextBox,\r\n  Headline3,\r\n  Body1,\r\n  TextBoxLabel,\r\n  Caption,\r\n  Button,\r\n  CellListItem\r\n} from \"@sberdevices/plasma-ui\";\r\n//import {  } from \"@sberdevices/plasma-ui/node_modules/@sberdevices/plasma-core\";\r\nimport {\r\n  IconChevronDown, IconChevronUp \r\n} from \"@sberdevices/plasma-icons\";\r\n\r\n\r\nexport const Libraries = ({\r\n    questions,\r\n    text,\r\n    answers,\r\n    site\r\n  }: {\r\n  questions: string\r\n  text: string\r\n  answers: string[],\r\n  site: string\r\n  }) => {\r\n  const [flag, setFlag] = useState(false);\r\n  const Click=()=>{\r\n  \r\n  setFlag(!flag);\r\n  }\r\n  return (\r\n  <Col style={{margin: \"0 1em 1em 1em\"}}>\r\n  <Headline3>\r\n  {text}\r\n  </Headline3>\r\n  <Card\r\n  style={{\r\n  marginTop: \"0.5em\",\r\n  }}\r\n  >\r\n  <CardBody style={{padding: \"0 0 0 0\"}}>\r\n  <CardContent style={{padding: \"0 0 0 0\"}}>\r\n  <CellListItem \r\n  style={{display:\"flex\", flexDirection: \"row\", alignItems: \"flex-start\", padding: \"0 0 0 0\", paddingLeft: \"0.5em\"}}\r\n  \r\n  contentRight={\r\n  <Button \r\n  style={{display:\"flex\", flexDirection: \"row\", alignItems: \"flex-start\", margin: \"0 0 auto 0\"}}\r\n  size=\"s\"\r\n  view=\"clear\"\r\n  pin=\"circle-circle\"\r\n  onClick={() => {Click() }}\r\n  contentRight={ !flag ? (\r\n  <IconChevronDown  size=\"s\" color=\"inherit\"/>) : (<IconChevronUp  size=\"s\" color=\"inherit\"/>)\r\n  }/>\r\n  }\r\n  \r\n  content={\r\n  flag ? (\r\n  \r\n  <TextBox >\r\n  <TextBoxLabel style={{color:\"grey\"}}>\r\n  {questions}\r\n  </TextBoxLabel>\r\n  {answers.map((answer) =>(\r\n              <Body1 style={{color:\"var(--plasma-colors-button-primary)\"}}>\r\n              {answer}\r\n              </Body1>\r\n            ))}\r\n    <a href={site} style={{color: \"var(--plasma-colors-button-primary)\"}}>{site}</a>\r\n  </TextBox>\r\n  ) : (\r\n  <TextBox >\r\n  <Row style={{display: \"flex\", flexDirection: \"row\", justifyContent: \"space-between\"}}>\r\n  <Col >\r\n  <TextBoxLabel style={{color:\"grey\"}}>\r\n  {questions}\r\n  </TextBoxLabel>\r\n  </Col>\r\n  </Row>\r\n  </TextBox>\r\n  )\r\n  }\r\n  />\r\n  </CardContent>\r\n  {\r\n    flag ?  (<CardMedia src={lib}/>):(<div></div>)\r\n  }\r\n  </CardBody>\r\n  </Card>\r\n  </Col>\r\n  )\r\n  }","import React, {useState} from \"react\";\r\nimport {Col, Row} from '@sberdevices/plasma-ui';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  CardContent,\r\n  TextBox,\r\n  Headline3,\r\n  Body1,\r\n  TextBoxLabel,\r\n  Caption,\r\n  Button,\r\n  CellListItem\r\n} from \"@sberdevices/plasma-ui\";\r\n//import {  } from \"@sberdevices/plasma-ui/node_modules/@sberdevices/plasma-core\";\r\nimport {\r\n  IconChevronDown, IconChevronUp\r\n} from \"@sberdevices/plasma-icons\";\r\n\r\n\r\nexport const FAQCard = ({\r\n                          questions,\r\n                          text,\r\n                          answers\r\n                        }: {\r\n  questions: string\r\n  text: string\r\n  answers: string[]\r\n}) => {\r\n  const [flag, setFlag] = useState(false);\r\n  const Click = () => {\r\n\r\n    setFlag(!flag);\r\n  }\r\n  return (\r\n    <Col style={{margin: \"0 1em 1em 1em\"}}>\r\n      <Headline3>\r\n        {text}\r\n      </Headline3>\r\n      <Card\r\n        style={{\r\n          marginTop: \"0.5em\",\r\n        }}\r\n      >\r\n        <CardBody style={{padding: \"0 0 0 0\"}}>\r\n          <CardContent style={{padding: \"0 0 0 0\"}}>\r\n            <CellListItem\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"row\",\r\n                alignItems: \"flex-start\",\r\n                padding: \"0 0 0 0\",\r\n                paddingLeft: \"0.5em\"\r\n              }}\r\n\r\n              contentRight={\r\n                <Button\r\n                  style={{display: \"flex\", flexDirection: \"row\", alignItems: \"flex-start\", margin: \"0 0 auto 0\"}}\r\n                  size=\"s\"\r\n                  view=\"clear\"\r\n                  pin=\"circle-circle\"\r\n                  onClick={() => {\r\n                    Click()\r\n                  }}\r\n                  contentRight={\r\n                    !flag\r\n                      ? <IconChevronDown size=\"s\" color=\"inherit\"/>\r\n                      : <IconChevronUp size=\"s\" color=\"inherit\"/>\r\n                  }\r\n                />\r\n              }\r\n\r\n              content={\r\n                flag ? (\r\n\r\n                    <TextBox>\r\n                      <Row>\r\n                        <Col style={{margin: \"0 0 0 0\"}}>\r\n                          <TextBoxLabel style={{color: \"grey\"}}>\r\n                            {questions}\r\n                          </TextBoxLabel>\r\n                        </Col>\r\n                      </Row>\r\n                      {\r\n                        answers?.map((answer, index) => (\r\n                          <Body1\r\n                            key={index}\r\n                            style={{color: 'var(--plasma-colors-button-primary)'}}\r\n                          >\r\n                            {answer}\r\n                          </Body1>\r\n                        ))\r\n                      }\r\n                    </TextBox>)\r\n                  : (\r\n                    <TextBox>\r\n                      <Row\r\n                        style={{display: \"flex\", flexDirection: \"row\", justifyContent: \"space-between\"}}\r\n                      >\r\n                        <Col>\r\n                          <TextBoxLabel style={{color: \"grey\"}}>\r\n                            {questions}\r\n                          </TextBoxLabel>\r\n                        </Col>\r\n                      </Row>\r\n                    </TextBox>)\r\n              }\r\n            />\r\n          </CardContent>\r\n        </CardBody>\r\n      </Card>\r\n    </Col>\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport {Container, Row, Col, DeviceThemeProvider} from '@sberdevices/plasma-ui';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {\r\n  Headline3,\r\n} from \"@sberdevices/plasma-ui\";\r\nimport faq from '../data/faq.json';\r\nimport lib from '../data/libraries.json';\r\n\r\n\r\nimport {DocStyle, getThemeBackgroundByChar} from '../themes/tools';\r\nimport {CHAR_TIMEPARAMOY, Character, IBuilding} from \"../types/base\";\r\nimport {Libraries} from '../components/Libraries'\r\nimport {FAQCard} from '../components/FAQCard'\r\nimport {\r\n  HeaderLogoCol,\r\n  HeaderTitleCol2,\r\n  GoToDashboardButton,\r\n} from '../components/TopMenu';\r\n\r\n\r\nconst FAQ = ({\r\n               character,\r\n               theme,\r\n               onDashboardClick,\r\n             }: {\r\n  theme: string\r\n  character: Character\r\n    // todo: что такое 'timeParamoy' ???\r\n    | typeof CHAR_TIMEPARAMOY\r\n  onDashboardClick: () => void\r\n}) => {\r\n  return <DeviceThemeProvider>\r\n    <DocStyle/>\r\n    {\r\n      getThemeBackgroundByChar(character, theme)\r\n    }\r\n    <Container style={{padding: 0, overflow: \"hidden\"}}>\r\n\r\n      <Row style={{margin: \"1em\"}}>\r\n\r\n        <HeaderLogoCol/>\r\n\r\n        <HeaderTitleCol2\r\n          title=\"Часто задаваемые вопросы\"\r\n        />\r\n\r\n        <Col style={{margin: \"0 0 0 auto\"}}>\r\n          <GoToDashboardButton\r\n            onClick={() => onDashboardClick()}\r\n          />\r\n        </Col>\r\n\r\n      </Row>\r\n      {\r\n        faq?.map((faq, index) => (\r\n          <FAQCard\r\n            \r\n            key={index}\r\n            questions={faq.questions}\r\n            text={faq.text}\r\n            answers={faq.answers}\r\n          />\r\n        ))\r\n      }\r\n      {\r\n        lib?.map((lib, index) => (\r\n          <Libraries\r\n            key={index}\r\n            questions={lib.questions}\r\n            text={lib.text}\r\n            answers={lib.answers}\r\n            site={lib.site}\r\n          />\r\n        ))\r\n      }\r\n      <div style={{\r\n        width: '200px',\r\n        height: '300px',\r\n      }}></div>\r\n    </Container>\r\n  </DeviceThemeProvider>\r\n}\r\n\r\nexport default FAQ\r\n","export default __webpack_public_path__ + \"static/media/Star-1.29be49e3.png\";","import React from \"react\";\r\nimport {Container, Row, Col, DeviceThemeProvider, Caption, Body1} from '@sberdevices/plasma-ui';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  CardContent,\r\n  CardMedia,\r\n  TextBox,\r\n  TextBoxSubTitle,\r\n  TextBoxTitle,\r\n  TextBoxLabel,\r\n  Badge,\r\n  CellListItem,\r\n  TextBoxBigTitle,\r\n  Headline1,\r\n  Button,\r\n  Image,\r\n  ParagraphText1\r\n} from \"@sberdevices/plasma-ui\";\r\nimport {IconLocation} from \"@sberdevices/plasma-icons\";\r\n\r\nimport star from \"../images/Star-1.png\";\r\nimport {DocStyle, getThemeBackgroundByChar} from '../themes/tools';\r\nimport {CHAR_TIMEPARAMOY, Character, IBuilding} from \"../types/base\";\r\nimport {COLOR_BLACK} from '../components/consts';\r\nimport {\r\n  HeaderLogoCol,\r\n  HeaderTitleCol2,\r\n  GoToDashboardButton,\r\n  GoToHomeButton,\r\n  GoToScheduleButton,\r\n} from '../components/TopMenu';\r\n\r\nimport {\r\n  history\r\n} from '../App'\r\n//import { Button } from \"@sberdevices/plasma-ui/node_modules/@sberdevices/plasma-core\";\r\n//import { ParagraphText1 } from \"@sberdevices/plasma-core\";\r\n\r\n\r\nconst Start = ({\r\n                         character,\r\n                         isMobileDevice,\r\n                         theme,\r\n                       }: {\r\n  theme: string \r\n  character: Character\r\n  \r\n    // todo: что такое 'timeParamoy' ???\r\n    | typeof CHAR_TIMEPARAMOY\r\n  isMobileDevice: boolean\r\n}) => {\r\n  return <DeviceThemeProvider>\r\n    <DocStyle/>\r\n    {\r\n      getThemeBackgroundByChar(character, theme)\r\n    }\r\n    {\r\n      isMobileDevice\r\n        ? (\r\n          <Container style={{padding: 0, overflow: \"hidden\"}}>\r\n\r\n<Row style={{\r\n    margin: \"1em\"\r\n  }}>\r\n\r\n    <HeaderLogoCol/>\r\n\r\n    <HeaderTitleCol2\r\n      title='Мир МИСиС'\r\n    />\r\n\r\n\r\n  </Row>\r\n  <Row style={{display: \"flex\", flexDirection: \"column\", justifyContent: \"center\", alignItems: \"center\"}}>\r\n  <TextBox> \r\n    <Headline1\r\n      style={{\r\n        margin: '15% 1.5% 1.5% 0',\r\n        //textAlign: \"center\",\r\n      }}\r\n    >\r\n      Салют!\r\n    </Headline1>\r\n    <ParagraphText1 >\r\n    Мы создали Мир МИСиС,\r\n    </ParagraphText1>\r\n    <ParagraphText1>\r\n    чтобы помочь студентам и преподавателям \r\n    </ParagraphText1>\r\n    <ParagraphText1>\r\n    каждый день эффективно перформить,\r\n    </ParagraphText1>\r\n    <ParagraphText1>\r\n    не отвлекаясь на рутину\r\n    </ParagraphText1>\r\n  </TextBox>\r\n  <Button onClick={()=>{ history.push(\"/dashboard\")}} size=\"m\" style={{marginTop: \"2em\"}}> Дальше</Button>\r\n  \r\n  </Row>\r\n  <Image src={star} style={{margin:\"0 0 auto 0\", overflow: \"hidden\"}}/>\r\n            \r\n            {/* <div style={{\r\n              width: '200px',\r\n              height: '300px',\r\n            }}></div> */}\r\n          </Container>\r\n        )\r\n        :\r\n        (\r\n          <Container style={{padding: 0}}>\r\n\r\n<Row style={{\r\n    margin: \"1em\"\r\n  }}>\r\n\r\n    <HeaderLogoCol/>\r\n\r\n    <HeaderTitleCol2\r\n      title='Мир МИСиС'\r\n    />\r\n\r\n\r\n  </Row>\r\n  <Row style={{display: \"flex\", flexDirection: \"row\"}}>\r\n  <Col>\r\n  <Image src={star} style={{width: \"40vw\", overflow: \"hidden\"}}/>\r\n  </Col>\r\n  <Col>\r\n  <TextBox> \r\n    <Headline1\r\n      style={{\r\n        margin: '15% 1.5% 1.5% 0',\r\n        //textAlign: \"center\",\r\n      }}\r\n    >\r\n      Салют!\r\n    </Headline1>\r\n    <ParagraphText1 >\r\n    Мы создали Мир МИСиС,\r\n    </ParagraphText1>\r\n    <ParagraphText1>\r\n    чтобы помочь студентам и преподавателям \r\n    </ParagraphText1>\r\n    <ParagraphText1>\r\n    каждый день эффективно перформить,\r\n    </ParagraphText1>\r\n    <ParagraphText1>\r\n    не отвлекаясь на рутину\r\n    </ParagraphText1>\r\n  </TextBox>\r\n  <Button onClick={()=>{ history.push(\"/dashboard\")}} size=\"m\" style={{marginTop: \"2em\"}}> Дальше</Button>\r\n  </Col>\r\n  </Row>\r\n\r\n          </Container>\r\n        )\r\n    }\r\n  </DeviceThemeProvider>\r\n}\r\n\r\nexport default Start\r\n","export default __webpack_public_path__ + \"static/media/Karta.e347edc6.png\";","import React from \"react\";\r\nimport {Container, Row, Col, DeviceThemeProvider, Caption, Body1} from '@sberdevices/plasma-ui';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  CardContent,\r\n  CardMedia,\r\n  TextBox,\r\n  TextBoxSubTitle,\r\n  TextBoxTitle,\r\n  TextBoxLabel,\r\n  Badge,\r\n  CellListItem,\r\n} from \"@sberdevices/plasma-ui\";\r\nimport {IconLocation} from \"@sberdevices/plasma-icons\";\r\n\r\nimport karta from \"../images/Karta.png\";\r\n\r\nimport {DocStyle, getThemeBackgroundByChar} from '../themes/tools';\r\nimport {CHAR_TIMEPARAMOY, Character, IBuilding} from \"../types/base\";\r\nimport {COLOR_BLACK} from '../components/consts';\r\nimport {\r\n  HeaderLogoCol,\r\n  HeaderTitleCol2,\r\n  GoToDashboardButton,\r\n  GoToHomeButton,\r\n  GoToScheduleButton,\r\n} from '../components/TopMenu';\r\n\r\n\r\nconst BuildingListItem = ({\r\n                            // name,\r\n                            // address,\r\n                            // color,\r\n                            building,\r\n                          }: {\r\n  // name: string,\r\n  // address: string,\r\n  // color: string,\r\n  building: IBuilding,\r\n}) => (\r\n  <CellListItem\r\n    content={\r\n      <TextBox>\r\n        <Body1>\r\n          {building.name}\r\n        </Body1>\r\n        <TextBoxLabel >\r\n          {building.address}\r\n        </TextBoxLabel>\r\n      </TextBox>\r\n    }\r\n    contentLeft={\r\n      <Badge\r\n        contentLeft={\r\n          <IconLocation\r\n            color={building.color}\r\n            size=\"s\"\r\n          />\r\n        }\r\n        style={{backgroundColor: COLOR_BLACK}}\r\n      />\r\n    }\r\n  />\r\n)\r\n\r\n\r\nconst BuildingList = ({\r\n                        buildings,\r\n                      }: {\r\n  buildings: IBuilding[],\r\n}) => (\r\n  <React.Fragment>\r\n    {\r\n      buildings.map((building, i) => (\r\n        <BuildingListItem\r\n          key={i}\r\n          building={building}\r\n        />\r\n      ))\r\n    }\r\n  </React.Fragment>\r\n)\r\n\r\n\r\nconst NavigatorPage = ({\r\n                         character,\r\n                         theme,\r\n                         buildings,\r\n                         isMobileDevice,\r\n                         onDashboardClick,\r\n                         onHomeClick,\r\n                         onScheduleClick,\r\n                       }: {\r\n  character: Character\r\n    // todo: что такое 'timeParamoy' ???\r\n    | typeof CHAR_TIMEPARAMOY\r\n  theme: string\r\n  buildings: IBuilding[]\r\n  isMobileDevice: boolean\r\n  onDashboardClick: () => void\r\n  onHomeClick: () => void\r\n  onScheduleClick: () => void\r\n}) => {\r\n  return <DeviceThemeProvider>\r\n    <DocStyle/>\r\n    {\r\n      getThemeBackgroundByChar(character, theme)\r\n    }\r\n    {\r\n      isMobileDevice\r\n        ? (\r\n          <Container style={{padding: 0, overflow: \"hidden\"}}>\r\n\r\n            <Row style={{margin: \"1em\"}}>\r\n\r\n              <HeaderLogoCol/>\r\n\r\n              <HeaderTitleCol2\r\n                title=\"Карта университета\"\r\n              />\r\n\r\n              <Col style={{margin: \"0 0 0 auto\"}}>\r\n                <GoToDashboardButton\r\n                  onClick={() => onDashboardClick()}\r\n                />\r\n              </Col>\r\n\r\n            </Row>\r\n\r\n            <Card style={{width: \"90%\", marginLeft: \"5%\", marginTop: \"0.5em\"}}>\r\n              <CardBody style={{padding: \"0 0 0 0\"}}>\r\n\r\n                <CardMedia src={karta}/>\r\n\r\n                <CardContent compact style={{padding: \"0.3em 0.3em\"}}>\r\n                  <BuildingList\r\n                    buildings={buildings}\r\n                  />\r\n                </CardContent>\r\n\r\n              </CardBody>\r\n\r\n            </Card>\r\n            <div style={{\r\n              width: '200px',\r\n              height: '300px',\r\n            }}></div>\r\n          </Container>\r\n        )\r\n        :\r\n        (\r\n          <Container style={{padding: 0}}>\r\n\r\n            <Row style={{margin: \"1em\"}}>\r\n\r\n              <HeaderLogoCol/>\r\n\r\n              <HeaderTitleCol2\r\n                title='Карта университета'\r\n              />\r\n\r\n              <Col style={{margin: \"0 0 0 auto\"}}>\r\n                <GoToDashboardButton\r\n                  onClick={() => onDashboardClick()}\r\n                />\r\n              </Col>\r\n\r\n            </Row>\r\n\r\n            <Row>\r\n              <div style={{display: \"flex\", flexDirection: \"row\"}}>\r\n\r\n                <Card style={{width: \"102vh\", height: \"60vh\", marginLeft: \"5%\", marginTop: \"0.5em\"}}>\r\n                  <CardBody>\r\n                    <CardMedia src={karta}/>\r\n                  </CardBody>\r\n                </Card>\r\n\r\n                <Card style={{width: \"30%\", marginLeft: \"3%\", marginTop: \"0.5em\"}}>\r\n                  <CardBody style={{padding: \"0 0 0 0\"}}>\r\n                    <CardContent compact style={{padding: \"0.3em 0.3em\"}}>\r\n                      <BuildingList\r\n                        buildings={buildings}\r\n                      />\r\n                    </CardContent>\r\n                  </CardBody>\r\n                </Card>\r\n\r\n              </div>\r\n            </Row>\r\n\r\n            <div style={{\r\n              width: '200px',\r\n              height: '300px',\r\n            }}></div>\r\n\r\n          </Container>\r\n        )\r\n    }\r\n  </DeviceThemeProvider>\r\n}\r\n\r\nexport default NavigatorPage\r\n","import {Container, DeviceThemeProvider, Spinner} from \"@sberdevices/plasma-ui\";\r\nimport React from \"react\";\r\nimport {DocStyle, getThemeBackgroundByChar} from \"../themes/tools\";\r\nimport {CHAR_TIMEPARAMOY, Character} from \"../types/base\";\r\nimport {ACCENT_TEXT_COLOR} from \"../components/consts\";\r\n\r\nexport const SpinnerPage = (\r\n  {\r\n    theme,\r\n    character\r\n  }: {\r\n    theme: string\r\n    character: Character\r\n      // todo paramoy\r\n      | typeof CHAR_TIMEPARAMOY\r\n  }) => {\r\n  return (\r\n    <DeviceThemeProvider>\r\n      <DocStyle/>\r\n      {\r\n        getThemeBackgroundByChar(character, theme)\r\n      }\r\n      <div>\r\n        <Container\r\n          style={{padding: 0}}\r\n        >\r\n          <Spinner\r\n            color={ACCENT_TEXT_COLOR}\r\n            style={{\r\n              position: \" absolute\",\r\n              top: \"40%\",\r\n              left: \" 43%\",\r\n              marginRight: \"-50%\",\r\n            }}/>\r\n        </Container>\r\n      </div>\r\n    </DeviceThemeProvider>\r\n  )\r\n}\r\n\r\n\r\nexport default SpinnerPage;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router\";\r\nimport {Card, CardBody, CardContent, RectSkeleton} from \"@sberdevices/plasma-ui\";\r\n\r\nimport {IScheduleDays, LessonStartEnd, NO_LESSONS_NAME} from \"../App\";\r\nimport {Bell} from \"../types/ScheduleStructure\";\r\nimport {OTHER_WEEK, THIS_OR_OTHER_WEEK} from \"../types/base.d\";\r\n// import ScheduleDayLessons from \"./ScheduleDayLessons\";\r\nimport ScheduleDayOff from \"./ScheduleDayOff\";\r\nimport ScheduleLesson from \"./ScheduleLesson\";\r\n\r\nconst EMPTY_LESSON_NUM = 7;\r\n\r\n\r\nexport const ScheduleDayLessons = ({\r\n                                     // days,\r\n                                     // day_num,\r\n                                     dayLessons,\r\n                                     currentLessonNumber,\r\n                                     // today,\r\n                                     // weekParam,\r\n                                     // timeParam,\r\n                                     isTeacherAndValid,\r\n                                     isToday,\r\n                                     onTeacherClick,\r\n                                   }: {\r\n  // days: IScheduleDays,\r\n  // day_num: number,\r\n  dayLessons: Bell[]\r\n  // today: number,\r\n  currentLessonNumber: string | undefined,\r\n  // weekParam: THIS_OR_OTHER_WEEK,\r\n  // timeParam: number,\r\n  isTeacherAndValid: boolean,\r\n  isToday: boolean,\r\n  onTeacherClick: (teacherName: string) => void\r\n}) => {\r\n  return (\r\n    <React.Fragment>\r\n      {\r\n        dayLessons.map((lesson, lessonIndex) => {\r\n\r\n          const getIsCurrentLesson = () => (\r\n            lesson.lessonNumber === currentLessonNumber\r\n            && lesson.teacher !== \"\"\r\n            && isToday\r\n            // && today === timeParam\r\n            // && weekParam === THIS_WEEK\r\n          );\r\n          const isCurrentLesson = getIsCurrentLesson();\r\n\r\n          return lesson.lessonName !== \"\"\r\n            ? (\r\n              <ScheduleLesson\r\n                key={lessonIndex}\r\n                lesson={lesson}\r\n                startEndTime={\r\n                  lesson.lessonName == NO_LESSONS_NAME\r\n                    ? LessonStartEnd[EMPTY_LESSON_NUM]\r\n                    : LessonStartEnd[lessonIndex]\r\n                }\r\n                isTeacherAndValid={isTeacherAndValid}\r\n                isAccented={isCurrentLesson}\r\n                onTeacherClick={(teacherName) => onTeacherClick(teacherName)}\r\n              />\r\n            )\r\n            : (\r\n              <div\r\n                key={lessonIndex}\r\n              ></div>\r\n            )\r\n        })\r\n      }\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\n\r\nexport const ScheduleDay = ({\r\n                              isReady,\r\n                              // days,\r\n                              // day_num,\r\n                              dayLessons,\r\n                              currentLessonNumber,\r\n                              // weekParam,\r\n                              // timeParam,\r\n                              isTeacherAndValid,\r\n                              isToday,\r\n                              isDayOff,\r\n                              // today,\r\n                              // validateTeacher,\r\n                              // onSetValue,\r\n                              onTeacherClick,\r\n                            }: {\r\n  isReady: boolean\r\n  // days: IScheduleDays,\r\n  // day_num: number,\r\n  dayLessons: Bell[];\r\n  currentLessonNumber: string | undefined,\r\n  // weekParam: THIS_OR_OTHER_WEEK,\r\n  // timeParam: number,\r\n  isTeacherAndValid: boolean,\r\n  isToday: boolean,\r\n  isDayOff: boolean,\r\n  // today: number,\r\n  onTeacherClick: (teacherName: string) => void\r\n}) => (\r\n  isReady\r\n    ? (\r\n      <div style={{flexDirection: \"column\"}}>\r\n        <Card style={isDayOff\r\n          ? {background: \"rgba(0, 0, 0, 0)\",  marginTop: \"5%\"}\r\n          : {width: \"90%\", marginLeft: \"5%\", marginTop: \"0.5em\"}\r\n        }>\r\n          <CardBody style={{padding: \"0 0 0 0\"}}>\r\n            <CardContent compact style={{padding: \"0 0.1em 0 0.1em\"}}>\r\n              {\r\n                isDayOff\r\n                  ? <ScheduleDayOff/>\r\n                  : <ScheduleDayLessons\r\n                    // days={days}\r\n                    // day_num={day_num}\r\n                    dayLessons={dayLessons}\r\n                    currentLessonNumber={currentLessonNumber}\r\n                    // weekParam={weekParam}\r\n                    // timeParam={timeParam}\r\n                    isTeacherAndValid={isTeacherAndValid}\r\n                    isToday={isToday}\r\n                    // today={today}\r\n                    onTeacherClick={(teacherName) => onTeacherClick(teacherName)}\r\n                  />\r\n              }\r\n            </CardContent>\r\n          </CardBody>\r\n        </Card>\r\n      </div>)\r\n    : (\r\n      <RectSkeleton\r\n        width=\"90%\"\r\n        height=\"25rem\"\r\n        roundness={16}\r\n        style={{marginLeft: \"5%\", marginTop: \"0.5em\"}}\r\n      />\r\n    )\r\n)\r\n\r\n\r\nexport default ScheduleDay;\r\n","import React from \"react\";\r\nimport {Button} from '@sberdevices/plasma-ui';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {\r\n  CarouselItem\r\n} from \"@sberdevices/plasma-ui\";\r\n\r\n\r\nexport const WeekCarouselDay = ({\r\n                                  text,\r\n                                  isSelected,\r\n                                  isMarked,\r\n                                  onClick,\r\n                                }: {\r\n  // date: Date\r\n  text: string\r\n  isSelected: boolean\r\n  isMarked: boolean\r\n  // format?: string\r\n  onClick: (event: React.MouseEventHandler<HTMLElement>) => void\r\n}) => {\r\n  return (\r\n    <CarouselItem>\r\n      <Button\r\n        scrollSnapAlign=\"start\"\r\n        view={isSelected ? \"secondary\" : \"clear\"}\r\n        style={{\r\n          margin: \"0.5em\",\r\n          \r\n          color: isMarked\r\n            ? \"var(--plasma-colors-accent)\"\r\n            : \"\"\r\n        }}\r\n        size=\"s\"\r\n        focused={isSelected}\r\n        pin=\"circle-circle\"\r\n        text={ text }\r\n        // text={ text + moment(date).format(format)}\r\n        onClick={(event) => onClick(event)}\r\n      />\r\n    </CarouselItem>\r\n  )\r\n}\r\n\r\nexport default WeekCarouselDay\r\n","import React from \"react\";\r\nimport {Carousel, CarouselGridWrapper, Row} from \"@sberdevices/plasma-ui\";\r\n\r\nimport WeekCarouselDay from \"./WeekCarouselDay\";\r\n\r\nexport const WeekCarousel = ({\r\n                               selectedIndex,\r\n                               markedIndex,\r\n                               cols,\r\n                               onSelect,\r\n                             }: {\r\n  selectedIndex: number\r\n  markedIndex: number\r\n  cols: string[]\r\n  onSelect: (weekDayIndex: number) => void\r\n}) => {\r\n  const [index, setIndex] = React.useState(selectedIndex);\r\n  return (\r\n    <Row style={{\r\n      width: \"100%\",\r\n      marginRight: \"0\",\r\n      overflow: \"hidden\"\r\n    }}>\r\n      <CarouselGridWrapper style={{\r\n      width: \"100%\",\r\n      marginRight: \"0\",\r\n      overflow: \"hidden\"\r\n    }}>\r\n        <Carousel\r\n          as={Row}\r\n          axis=\"x\"\r\n          scrollSnapType=\"mandatory\"\r\n          index={index}\r\n          detectActive\r\n          detectThreshold={0.5}\r\n          onIndexChange={(i) => setIndex(i)}\r\n          paddingStart=\"5%\"\r\n          paddingEnd=\"5%\"\r\n        >\r\n          {\r\n            cols.map((text, i) => {\r\n              return (\r\n                <WeekCarouselDay\r\n                  key={i}\r\n                  text={text}\r\n                  isSelected={i === selectedIndex}\r\n                  isMarked={(i === markedIndex)}\r\n                  onClick={() => onSelect(i)}\r\n                />\r\n              )\r\n            })\r\n          }\r\n        </Carousel>\r\n      </CarouselGridWrapper>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default WeekCarousel;\r\n","import React from \"react\";\r\nimport {IconChevronRight} from \"@sberdevices/plasma-icons\";\r\nimport {Button} from \"@sberdevices/plasma-ui\";\r\n\r\nexport const ButtonNextWeek = ({\r\n                                 onClick\r\n}: {\r\n  onClick: React.MouseEventHandler<HTMLElement>\r\n}) => (\r\n  <Button\r\n    onClick={ (event) => onClick(event) }\r\n    view=\"clear\"\r\n    size=\"s\"\r\n    pin=\"circle-circle\"\r\n    style={{margin: \"1em\"}}\r\n    contentRight={\r\n      <IconChevronRight\r\n        size=\"s\"\r\n        color=\"inherit\"\r\n        // @ts-ignore\r\n        style={{paddingBottom: \"1.5em\"}}\r\n      />\r\n    }\r\n  />\r\n)\r\n\r\nexport default ButtonNextWeek\r\n","import React from \"react\";\r\nimport {IconChevronLeft} from \"@sberdevices/plasma-icons\";\r\nimport {Button} from \"@sberdevices/plasma-ui\";\r\n\r\nexport const ButtonPrevWeek = ({\r\n                                 onClick\r\n}: {\r\n  onClick: React.MouseEventHandler<HTMLElement>\r\n}) => (\r\n  <Button\r\n    onClick={ (event) => onClick(event) }\r\n    view=\"clear\"\r\n    size=\"s\"\r\n    pin=\"circle-circle\"\r\n    style={{margin: \"1em\"}}\r\n    contentRight={\r\n      <IconChevronLeft\r\n        size=\"s\"\r\n        color=\"inherit\"\r\n        // @ts-ignore\r\n        style={{paddingBottom: \"1.5em\"}}\r\n      />\r\n    }\r\n  />\r\n)\r\n\r\nexport default ButtonPrevWeek\r\n","import React from \"react\";\r\nimport {Button} from \"@sberdevices/plasma-ui\";\r\n\r\nexport const ButtonThisWeek = ({\r\n                                 onClick\r\n                               }: {\r\n  onClick: React.MouseEventHandler<HTMLElement>\r\n}) => (\r\n  <Button\r\n    onClick={(event) => onClick(event)}\r\n    view=\"primary\"\r\n    size=\"m\"\r\n    text=\"Текущая неделя\"\r\n    style={{position: \"relative\", bottom: \"0.5em\"}}\r\n  />\r\n)\r\n\r\nexport default ButtonThisWeek\r\n","import {Row} from \"@sberdevices/plasma-ui\";\r\nimport React from \"react\";\r\nimport ButtonNextWeek from \"./ButtonNextWeek\";\r\nimport ButtonPrevWeek from \"./ButtonPrevWeek\";\r\nimport ButtonThisWeek from \"./ButtonThisWeek\";\r\n\r\nexport const WeekSelect = ({\r\n                                 onPrevWeekClick,\r\n                                 onThisWeekClick,\r\n                                 onNextWeekClick,\r\n                               }: {\r\n  onPrevWeekClick: React.MouseEventHandler<HTMLElement>,\r\n  onThisWeekClick: React.MouseEventHandler<HTMLElement>,\r\n  onNextWeekClick: React.MouseEventHandler<HTMLElement>,\r\n}) => (\r\n  <Row style={{\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  }}>\r\n    <div>\r\n      <ButtonPrevWeek\r\n        onClick={(event) => onPrevWeekClick(event)}\r\n      />\r\n      <ButtonThisWeek\r\n        onClick={(event) => onThisWeekClick(event)}\r\n      />\r\n      <ButtonNextWeek\r\n        onClick={(event) => onNextWeekClick(event)}\r\n      />\r\n    </div>\r\n  </Row>\r\n)\r\n\r\nexport default WeekSelect\r\n\r\n","import React from \"react\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {Container, DeviceThemeProvider} from '@sberdevices/plasma-ui';\r\nimport ScheduleDay from \"../components/ScheduleDay\";\r\nimport TopMenu from '../components/TopMenu';\r\nimport WeekCarousel from \"../components/WeekCarousel\";\r\nimport WeekSelect from \"../components/WeekSelect\";\r\n\r\nimport {IScheduleDays, \r\n    Spacer200,\r\n    history\r\n} from '../App'\r\n\r\nimport {DocStyle, getThemeBackgroundByChar} from \"../themes/tools\";\r\n\r\n\r\nimport {\r\n    Character,\r\n    IDayHeader,\r\n    OTHER_WEEK,\r\n    THIS_OR_OTHER_WEEK,\r\n    CHAR_TIMEPARAMOY,\r\n    THIS_WEEK,\r\n  } from '../types/base.d'\r\n\r\n  import {\r\n    getFullGroupName,\r\n  } from '../utils';\r\nimport { threadId } from \"worker_threads\";\r\n\r\n\r\n  const FIRST_DAY_OTHER_WEEK = 8;\r\n\r\n  \r\n  interface ScheduleProps{\r\n    timeParam: number\r\n    onSetValue: (string, any) => void\r\n    teacher: string\r\n    groupName: string\r\n    character: Character  | typeof CHAR_TIMEPARAMOY\r\n    isTeacher: boolean\r\n    bd: string\r\n    teacher_bd: string\r\n    theme: string\r\n    PreviousWeek: () => void\r\n    CurrentWeek: () => void\r\n    NextWeek: () => void\r\n    getCurrentLesson: (Date) =>string\r\n    doSetTeacher: (teacherName: string) => void\r\n    weekParam: number\r\n    day: IDayHeader[]\r\n    spinner: boolean\r\n    today: number\r\n    schedule: IScheduleDays\r\n    group: string\r\n    subGroup: string\r\n    getIsCorrectTeacher: () => boolean\r\n    // Bd: () => void\r\n    getScheduleFromDb: (date: number, isSave: boolean, isCurrentWeek: boolean) => void\r\n    //Load_Schedule: () => void\r\n\r\n  }\r\n\r\n  interface ScheduleState{\r\n    day_num: number\r\n    current: string\r\n    index: number\r\n    page: number\r\n    formatDate: (weekDayShort : string, dateDdDotMm: string) => string\r\n    isTeacher: boolean\r\n    groupName: string\r\n    weekParam: number\r\n    timeParam: number\r\n  }\r\n\r\nclass  Schedule extends React.Component<ScheduleProps, ScheduleState>{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.onHandleChange = this.onHandleChange.bind(this)\r\n        this.PreviousWeek = this.PreviousWeek.bind(this)\r\n        this.NextWeek = this.NextWeek.bind(this);\r\n        this.CurrentWeek = this.CurrentWeek.bind(this);\r\n        this.getScheduleFromDb = this.getScheduleFromDb.bind(this);\r\n        //this.Load_Schedule = this.Load_Schedule.bind(this)\r\n        // const groupName = getFullGroupName(this.state.group, this.state.subGroup);\r\n    }\r\n     async getScheduleFromDb(){\r\n      await this.props.getScheduleFromDb(Date.now(), true, true)\r\n    }\r\n    PreviousWeek(){\r\n        this.props.PreviousWeek()\r\n    }\r\n    NextWeek(){\r\n        this.props.NextWeek()\r\n    }\r\n    CurrentWeek(){\r\n        this.props.CurrentWeek();\r\n    }\r\n\r\n    onHandleChange(key: string, value: any): void {\r\n        this.props.onSetValue(key, value);\r\n      }\r\n    \r\n\r\n      \r\n      \r\n    render(){\r\n      \r\n      let weekParam: THIS_OR_OTHER_WEEK = THIS_WEEK;\r\n      let _timeparam = this.props.timeParam\r\n      if (this.props.timeParam > 7) {\r\n          _timeparam -=7;\r\n          weekParam = OTHER_WEEK\r\n      }\r\n\r\n\r\n      const getIsCorrectTeacher =() => {\r\n        return this.props.getIsCorrectTeacher()\r\n      }\r\n      \r\n      this.state = {\r\n          timeParam : _timeparam,\r\n          current : this.props.getCurrentLesson(new Date()),\r\n          day_num : _timeparam - 1,\r\n          index : _timeparam,\r\n          page : this.props.weekParam === OTHER_WEEK ? FIRST_DAY_OTHER_WEEK : 0,\r\n          formatDate : (weekDayShort, dateDdDotMm) => `${weekDayShort} ${dateDdDotMm}`,\r\n          isTeacher : getIsCorrectTeacher(),\r\n          groupName : getFullGroupName(this.props.group, this.props.subGroup),\r\n          weekParam: weekParam\r\n      }\r\n\r\n      console.log(this.props.spinner, \"SPINNER\")\r\n      \r\n     return <DeviceThemeProvider>\r\n        <DocStyle/>\r\n        {\r\n          getThemeBackgroundByChar(this.props.character, this.props.theme)\r\n        }\r\n        <div>\r\n          <Container style={{padding: 0, overflow: \"hidden\"}}>\r\n\r\n            <TopMenu\r\n              subLabel={\r\n                this.props.isTeacher\r\n                  ? this.props.teacher\r\n                  : this.props.groupName\r\n              }\r\n              onHomeClick={() => history.push('/home')}\r\n              onDashboardClick={async () => {\r\n\r\n                if ((!this.props.isTeacher&&this.props.groupName!=this.props.bd)|| (this.props.isTeacher&&this.props.teacher!=this.props.teacher_bd )){\r\n                  await this.getScheduleFromDb();\r\n                }\r\n                this.onHandleChange(\"isSavedSchedule\",true)\r\n                history.push(\"/dashboard\")\r\n              }}\r\n              Bd={this.getScheduleFromDb}\r\n              //Load_Schedule={()=> this.Load_Schedule()}\r\n              // onNavigatorClick={() => this.setState({page: NAVIGATOR_PAGE_NO})}\r\n            />\r\n\r\n           <WeekSelect\r\n             onPrevWeekClick={() => {\r\n               this.onHandleChange(\"spinner\", false);\r\n               this.PreviousWeek();\r\n               this.onHandleChange(\"flag\", false)\r\n               this.onHandleChange(\"page\", FIRST_DAY_OTHER_WEEK)\r\n             }}\r\n             onThisWeekClick={() => {\r\n               this.CurrentWeek();\r\n               this.onHandleChange(\"flag\", true)\r\n               history.push('/spinner')\r\n             }}\r\n             onNextWeekClick={() => {\r\n               this.onHandleChange(\"spinner\", false);\r\n               this.NextWeek();\r\n               this.onHandleChange(\"flag\", false)\r\n               this.onHandleChange(\"page\", FIRST_DAY_OTHER_WEEK)\r\n             }}\r\n           />\r\n\r\n            <WeekCarousel\r\n              selectedIndex={this.state.index - 1}\r\n              markedIndex={this.state.weekParam === THIS_WEEK ? this.props.today - 1 : -1 /* current weekday can't be on 'other' week*/}\r\n              cols={\r\n                this.props.day.map(d => {\r\n                  const {title, date} = d;\r\n                  const weekDayShort = title;\r\n                  const dateDdDotMmDotYy = date[this.state.weekParam];\r\n                  const dateDdDotMm = dateDdDotMmDotYy.slice(0, 5);\r\n                  return dateDdDotMm\r\n                    ? this.state.formatDate(weekDayShort, dateDdDotMm)\r\n                    : '';\r\n                })\r\n              }\r\n              onSelect={(weekDayIndex) => {\r\n                this.onHandleChange(\"page\", (\r\n                    weekDayIndex + this.state.page + (this.state.weekParam === OTHER_WEEK ? 0 : 1)\r\n                  ))\r\n              }}\r\n            />\r\n\r\n            <ScheduleDay\r\n              isReady={this.props.spinner}\r\n              // days={this.state.days}\r\n              // day_num={day_num}\r\n              dayLessons={\r\n                this.props.schedule[this.state.day_num]?.map(bellsThisOrOtherWeek => bellsThisOrOtherWeek[this.state.weekParam])\r\n              }\r\n              currentLessonNumber={this.state.current}\r\n              // weekParam={weekParam}\r\n              // timeParam={timeParam}\r\n              isTeacherAndValid={this.state.isTeacher}\r\n              isToday={this.props.today === this.state.timeParam && this.props.weekParam === THIS_WEEK}\r\n              isDayOff={this.state.timeParam == 7}\r\n              // today={this.state.today}\r\n              // validateTeacher={this.isCorrectTeacher}\r\n              // onSetValue={this.setValue}\r\n              onTeacherClick={async (teacherName) => this.props.doSetTeacher(teacherName)}\r\n            />\r\n\r\n            <Spacer200/>\r\n\r\n          </Container>\r\n        </div>\r\n      </DeviceThemeProvider>\r\n      }\r\n}\r\n\r\nexport default Schedule\r\n","import React from \"react\";\r\nimport {Container, Row, Col, Button, DeviceThemeProvider, Headline3, Headline2, TextBoxRoot, Headline4} from '@sberdevices/plasma-ui';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {\r\n  TextBoxBigTitle,\r\n  TextBox,\r\n  Caption,\r\n  Switch,\r\n  TimePicker,\r\n  Tabs,\r\n  TabItem,\r\n  TextBoxLabel,\r\n} from \"@sberdevices/plasma-ui\";\r\nimport {TextField} from \"@sberdevices/plasma-ui\";\r\nimport {IconChevronLeft, IconEdit, IconHouse} from \"@sberdevices/plasma-icons\";\r\nimport {\r\n  AssistantSendAction,\r\n} from '../types/AssistantSendAction.d'\r\nimport {\r\n  addUserToPushNotification,\r\n} from \"../APIHelper\";\r\nimport {\r\n  getThemeBackgroundByChar,\r\n} from '../themes/tools';\r\nimport {\r\n  Spacer100,\r\n} from '../App';\r\nimport {DocStyle} from '../themes/tools';\r\nimport {CHAR_TIMEPARAMOY, Character} from \"../types/base\";\r\nimport TabSelectorRow from '../components/Home/TabSelectorRow'\r\nimport {\r\n  HeaderLogoCol,\r\n  HeaderTitleCol2,\r\n} from '../components/TopMenu';\r\nimport internal from \"stream\";\r\nconst HOME_TITLE = 'Салют!';\r\nconst DESC_JOY = \"Заполни данные, чтобы открывать расписание одной фразой\";\r\nconst DESC_OTHERS = \"Чтобы посмотреть расписание, укажите данные учебной группы\";\r\n\r\nconst LABEL_GROUP = \"Номер академической группы через дефисы\";\r\nconst LABEL_SUB_GROUP = \"Номер подгруппы: 1 или 2\";\r\nconst LABEL_ENG_GROUP = \"Число номера группы по английскому\";\r\nconst LABEL_TEACHER = \"Фамилия И. О.\";\r\nconst LABEL_REMEMBER_FIO = \"Запомнить ФИО, если Вы преподаватель \";\r\nconst LABEL_TO_VIEW_SCHEDULE = \"Чтобы посмотреть расписание, укажите фамилию и инициалы через пробел и точку\";\r\nconst LABEL_REMEMBER_GROUP = \"Запомнить эту группу \";\r\n\r\nconst LABEL_TEACHER_NOT_FOUND_ERROR =\"Такого преподавател нет\"\r\nconst LABEL_TEACHER_INCORRECT_DATA =\"Фамилия И. О.\"\r\n\r\nexport const USER_MODES = [\r\n  'Студент',\r\n  'Преподаватель',\r\n];\r\nexport const TODAY_TOMORROW = [\r\n  'Сегодня',\r\n  'Завтра',\r\n];\r\n\r\nconst HomeTitle = ({\r\n                     text,\r\n                   }: {\r\n  text: string\r\n}) => (\r\n  <TextBox>\r\n    <TextBoxBigTitle\r\n      style={{\r\n        margin: '1.5%',\r\n        textAlign: \"center\",\r\n      }}\r\n    >\r\n      {text}\r\n    </TextBoxBigTitle>\r\n  </TextBox>\r\n)\r\n\r\nconst HomeDescription = ({\r\n                           text,\r\n                         }: {\r\n  text: string\r\n}) => (\r\n  <TextBox>\r\n    <Caption style={{\r\n      margin: '1.5em',\r\n      textAlign: \"center\"\r\n    }}>\r\n      {text}\r\n    </Caption>\r\n  </TextBox>\r\n\r\n)\r\nconst TextFieldForUserInfo = ({\r\n                                label,\r\n                                value,\r\n                                isError,\r\n                                // fieldType,\r\n                                onChange,\r\n                              }: {\r\n  label: string\r\n  value: string\r\n  isError: boolean\r\n  // fieldType: string\r\n  onChange: (value: string) => void\r\n}) => {\r\n  //this.onChange('group', value);\r\n  return (\r\n    <TextField\r\n      // id=\"tf\"\r\n      label={label}\r\n      status={isError ? 'error' : undefined}\r\n      className=\"editText\"\r\n      // placeholder=\"Напиши номер своей академической группы\"\r\n      value={value}\r\n      style={{margin: \"0.5em\"}}\r\n      // onChange={(event) => {\r\n      //   onChange(fieldType, event.target.value)\r\n      // }}\r\n      onChange={(event) => {\r\n        onChange(event.target.value)\r\n      }}\r\n    />\r\n  )\r\n}\r\n\r\n\r\ninterface SettingsProps {\r\n  userId: string\r\n  groupId: string\r\n  character: Character\r\n    // todo paramoy\r\n    | typeof CHAR_TIMEPARAMOY\r\n  bd: string\r\n  teacher_bd: string\r\n  checked: boolean\r\n  description: string\r\n  sendData: (action: AssistantSendAction) => void\r\n  onDashboardClick: () => void\r\n  onSetValue: (key: string, value: any) => void\r\n  onHandleTeacherChange: (isSave: boolean) => Promise<boolean>\r\n  // handleTeacherChange\r\n  onConvertIdInGroupName: () => void\r\n  group: string\r\n  isGroupError: boolean\r\n  theme: string \r\n  ChangeTheme: () => void\r\n  ChangePush: (hour: number, min: number, isActive: boolean) => void\r\n  subGroup: string\r\n  isSubGroupError: boolean\r\n  isActive: boolean\r\n  pushHour: number\r\n  pushMin: number\r\n  engGroup: string\r\n  isEngGroupError: boolean\r\n  CheckIsCorrect: () => Promise<boolean>\r\n  LoadSchedule: () => void\r\n  student: boolean\r\n  dayPush: number\r\n  teacher: string\r\n  isTeacherError: boolean\r\n  teacher_checked: boolean\r\n}\r\n\r\ninterface SettingsState {\r\n  disabled: boolean\r\n  edit: boolean\r\n  timePush: {\r\n    hour: number,\r\n    min: number,\r\n    value: Date\r\n  }\r\n  theme: boolean\r\n  themeName: string\r\n  dayPush: number\r\n  \r\n}\r\n\r\nclass Settings extends React.Component<SettingsProps, SettingsState> {\r\n\r\n  constructor(props: SettingsProps) {\r\n    super(props);\r\n    \r\n    this.onHandleChange = this.onHandleChange.bind(this);\r\n    this.Save = this.Save.bind(this);\r\n    this.onConvertIdInGroupName = this.onConvertIdInGroupName.bind(this);\r\n    this.onHandleTeacherChange = this.props.onHandleTeacherChange.bind(this);\r\n    this.Load_Schedule = this.props.LoadSchedule.bind(this)\r\n    console.log()\r\n    let edit=false;\r\n    this.props.group==\"\"&&this.props.teacher==\"\" ? edit = true : edit= false;\r\n    this.state = {disabled: this.props.isActive,\r\n      dayPush: this.props.dayPush,\r\n      timePush: {\r\n        hour:  this.props.pushHour == -1 ? 1 : this.props.pushHour,\r\n        min: this.props.pushMin == -1 ? 1 : this.props.pushMin,\r\n        value: new Date(1629996400000-68400000-2760000 + this.props.pushHour * 3600000 + this.props.pushMin * 60000)\r\n      },\r\n      edit: edit,\r\n      theme: false,\r\n      themeName: this.props.theme,\r\n    };\r\n    this.onHandleChange(\"description\", props.character === \"joy\"\r\n      ? DESC_JOY\r\n      : DESC_OTHERS)\r\n  }\r\n  \r\n\r\n  onHandleChange(key: string, value: any): void {\r\n    this.props.onSetValue(key, value);\r\n  }\r\n  async onHandleTeacherChange(isSave: boolean) : Promise<boolean>{\r\n    return await this.props.onHandleTeacherChange(isSave);\r\n  }\r\n  async CheckIsCorrect(){\r\n    return await this.props.CheckIsCorrect();\r\n  }\r\n  Load_Schedule(){\r\n    this.props.LoadSchedule()\r\n  }\r\n\r\n  \r\n\r\n  // handleTeacherChange() {\r\n  //   this.props.handleTeacherChange();\r\n  // }\r\n\r\n  onConvertIdInGroupName() {\r\n    this.props.onConvertIdInGroupName();\r\n  }\r\n  async Save() {\r\n      console.log(this.state.timePush.value.getHours(), this.state.timePush.value.getMinutes(), \"SETTINGS\")\r\n      this.state.timePush.hour=Number(this.state.timePush.value.getHours());\r\n      this.state.timePush.min=Number(this.state.timePush.value.getMinutes());\r\n      console.log(this.state.timePush.value, Number(this.state.timePush.value.getHours()), Number(this.state.timePush.value.getMinutes()), \"TIMEPUSH\");\r\n      if(this.props.student){\r\n        let isCorrect = await this.CheckIsCorrect()\r\n        if(isCorrect && this.props.student){\r\n          await this.Load_Schedule()\r\n          this.setState({edit: false })\r\n         }\r\n      }\r\n      \r\n      else{\r\n        console.log(\"TEACHER CHECK\")\r\n        this.onHandleTeacherChange(true).then((response)=>{\r\n          if(response){\r\n            this.setState({edit: false })\r\n          }\r\n        })\r\n      }\r\n      if (!this.props.isTeacherError && !this.props.student) this.setState({edit: false })\r\n     console.log(\"CHECK\",!this.props.isTeacherError && !this.props.student)\r\n      this.props.ChangePush(this.state.timePush.hour, this.state.timePush.min, this.state.disabled);\r\n    addUserToPushNotification(this.props.userId, this.state.timePush.hour, this.state.timePush.min, this.state.disabled)\r\n    if(this.state.disabled){\r\n      this.props.sendData({\r\n        action_id: 'settings',\r\n      });\r\n    }\r\n  }\r\n\r\n   Edit(){\r\n    this.setState({edit: true});\r\n  }\r\n  render() {\r\n    const Push = (\r\n      <Row>\r\n      <Switch style={{ margin: \"0\" }} label=\"Включить пуш-уведомления \" description=\"Напоминания о парах\"/>\r\n          <TimePicker style={{display: \"flex\",\r\n      flexDirection: \"row\",\r\n      justifyContent: \"center\"}} min={new Date(1629996400000-68400000-2760000)} max={new Date(1630000000000+10800000+780000)} value={this.state.timePush.value} options={{ hours: true, minutes: true, seconds: false}}></TimePicker>\r\n        </Row>\r\n    )\r\n    \r\n    return (\r\n      <DeviceThemeProvider>\r\n        <DocStyle/>\r\n        {\r\n          getThemeBackgroundByChar(this.props.character, this.props.theme)\r\n        }\r\n        <Container style={{padding: \"0\", overflow: \"hidden\"}}>\r\n        <Row style={{margin: \"1em\"}}>\r\n\r\n<Button size=\"s\" view=\"clear\" contentLeft={<IconChevronLeft/>} onClick={() => this.props.onDashboardClick()} />\r\n\r\n<HeaderTitleCol2\r\n  title=\"Настройки\"\r\n/>\r\n{!this.state.edit ? (\r\n<Col style={{margin: \"0 0 0 auto\"}}>\r\n  <Button size=\"s\" view=\"clear\" contentLeft={<IconEdit />} onClick={()=>{this.Edit()}}/>\r\n</Col>) : (<div></div>)\r\n  }\r\n</Row > \r\n\r\n          { this.state.edit ? (\r\n            <Row style={{display: \"flex\",\r\n            flexDirection: \"column\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\", margin: \"0 0 1.5em 0\"}}>\r\n              <TabSelectorRow\r\n          tabs={USER_MODES}\r\n          selectedIndex={this.props.student ? 0 : 1}\r\n          onSelect={(tabIndex) => this.onHandleChange(\"student\", tabIndex === 0)}\r\n        />\r\n        { this.props.student ? \r\n          <Col size={4} style={{marginTop: \"1em\"}}>\r\n           <TextFieldForUserInfo\r\n          label={LABEL_GROUP}\r\n          isError={this.props.isGroupError}\r\n          value={this.props.group}\r\n          onChange={(value) => this.onHandleChange('group', value)}\r\n        />\r\n\r\n        <TextFieldForUserInfo\r\n          label={LABEL_SUB_GROUP}\r\n          isError={this.props.isSubGroupError}\r\n          value={this.props.subGroup}\r\n          onChange={(value) => this.onHandleChange('subGroup', value)}\r\n        />\r\n\r\n        <TextFieldForUserInfo\r\n          label={LABEL_ENG_GROUP}\r\n          isError={this.props.isEngGroupError}\r\n          value={this.props.engGroup}\r\n          onChange={(value) => this.onHandleChange('engGroup', value)}\r\n        />\r\n          </Col> :\r\n          <Col size={4}> \r\n           <TextFieldForUserInfo\r\n          label={LABEL_TEACHER}\r\n          value={this.props.teacher}\r\n          isError={this.props.isTeacherError}\r\n          onChange={(value) => this.onHandleChange('teacher', value)}\r\n        />\r\n          </Col>\r\n        }\r\n          <Switch style={{ margin: \"1em\" }} label=\"Включить пуш-уведомления \" description=\"Напоминания о парах\" checked={this.state.disabled} \r\n          onChange={(() => \r\n          { \r\n            this.setState({disabled: !this.state.disabled}, () =>{\r\n              console.log(\"DISABLED\",this.state.disabled)\r\n              if(this.state.disabled){\r\n                this.props.sendData({\r\n                  action_id: 'push_on',\r\n                });\r\n              }\r\n            });  \r\n\r\n            })}/>\r\n          {this.state.disabled ?\r\n          <Col style={{display: \"flex\",\r\n          flexDirection: \"column\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\"}}>\r\n            <Caption style={{textAlign: \"center\", margin: \" 0 0.5em 0.5em 0.5em\", color: \"grey\"}}>Время, в которое каждый день будут приходить напоминания о завтрашних парах</Caption>\r\n            {/* <TabSelectorRow\r\n          tabs={TODAY_TOMORROW}\r\n          selectedIndex={this.state.dayPush }\r\n          onSelect={(tabIndex) => this.setState({dayPush: tabIndex})}\r\n        /> */}\r\n           \r\n          \r\n          <TimePicker style={{margin:\"0.5em\"}}\r\n          visibleItems={3}  min={new Date(1629996400000-68400000-2760000)} max={new Date(1630000000000+10800000+780000)} value={this.state.timePush.value} options={{ hours: true, minutes: true, seconds: false}} onChange={((value: Date) => this.state.timePush.value=value)}></TimePicker>\r\n       </Col>: <div></div>}\r\n       {/* <Switch style={{ margin: \"1em\" }} label=\"Включить светлую тему\"  checked={this.state.theme} onChange={(() => {this.props.ChangeTheme(); this.setState({theme: !this.state.theme})})}/> */}\r\n      <Col size={4} style={{display: \"flex\",\r\n          flexDirection: \"row\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\"}}>\r\n      <Button size=\"m\" view=\"primary\" style={{margin:\"0.5em\"}} onClick={ async ()=> await this.Save() }>Сохранить</Button>\r\n      <Button size=\"m\" style={{margin:\"0.5em\"}} onClick={()=>{this.setState({edit: false});  if (this.state.themeName!=this.props.theme)\r\n      this.props.ChangeTheme();}}>Отмена</Button>\r\n      </Col>\r\n      </Row>) : (\r\n        <Row style={{margin: \"1em\"}}>\r\n          <Col size={12}>\r\n        <Headline2 style={{margin: \"0 0 1em 0\"}}> Мои параметры </Headline2>\r\n          </Col>\r\n          {\r\n            this.props.student && this.props.bd!=\"\"\r\n\r\n              ? (<Col size={10}>\r\n             \r\n                {this.props.bd != \"\" ?\r\n                 <TextBox>\r\n                  <TextBoxLabel >\r\n                    Номер академической группы\r\n                  </TextBoxLabel>\r\n                  <Headline4>{this.props.bd} </Headline4>\r\n                </TextBox> : <div></div> }\r\n                {this.props.subGroup != \"\" ?\r\n                 <TextBox>\r\n                  <TextBoxLabel >\r\n                    Номер подгруппы\r\n                  </TextBoxLabel>\r\n                  <Headline4>{this.props.subGroup} </Headline4>\r\n                </TextBox> : <div></div> }\r\n                {this.props.engGroup != \"\" ?\r\n                 <TextBox>\r\n                  <TextBoxLabel >\r\n                    Номер группы по английскому\r\n                  </TextBoxLabel>\r\n                  <Headline4>{this.props.engGroup} </Headline4>\r\n                </TextBox> : <div></div> }\r\n                  \r\n                  </Col>\r\n              )\r\n              : (<Col size={10}>\r\n                {this.props.teacher_bd != \"\" ?\r\n                <TextBox> \r\n                  <TextBoxLabel>\r\n                   ФИО\r\n                  </TextBoxLabel>\r\n                  <Headline4>{this.props.teacher_bd}</Headline4>\r\n                  </TextBox>\r\n                  : <div></div> }\r\n                  </Col>\r\n              ) \r\n              \r\n          }\r\n          <Col size={10}>\r\n          <TextBox>\r\n          <TextBoxLabel style={{margin: \"1em 0 0  0\"}}>\r\n                   Уведомления\r\n                  </TextBoxLabel>\r\n          </TextBox>\r\n          {\r\n            this.state.disabled ? \r\n            <TextBox> \r\n                  <Headline4>Вкл. </Headline4>                \r\n                  <TextBoxLabel >\r\n                  Время отправки \r\n                 </TextBoxLabel>\r\n                 <Headline4>{this.state.timePush.value.getHours()< 10 ? `0${this.state.timePush.value.getHours()}` : this.state.timePush.value.getHours()}:{this.state.timePush.value.getMinutes()< 10 ? `0${this.state.timePush.value.getMinutes()}` : this.state.timePush.value.getMinutes()}</Headline4>\r\n                  </TextBox>\r\n                  :\r\n                  <TextBox> \r\n                  <Headline4>Выкл.</Headline4>\r\n                  </TextBox>\r\n          }\r\n          </Col>\r\n          </Row>\r\n      )\r\n      }\r\n      <div style={{height: \"100px\", width: \"100px\"}}></div>\r\n         <Spacer100/>\r\n         </Container>\r\n      </DeviceThemeProvider>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Settings\r\n","export class Bell {\r\n  lessonName: string\r\n  teacher: string\r\n  room: string\r\n  // startAndFinishTime: string\r\n  lessonType: string\r\n  lessonNumber: string\r\n  url: string\r\n  groupNumber: string\r\n\r\n  constructor(\r\n    lessonName = \"\",\r\n    teacher = \"\",\r\n    room = \"\",\r\n    // startAndFinishTime = \"\",\r\n    lessonType = \"\",\r\n    lessonNumber = \"\",\r\n    url = \"\",\r\n    groupNumber = \"\"\r\n  ) {\r\n    this.lessonName = lessonName;\r\n    this.teacher = teacher;\r\n    this.room = room;\r\n    // this.startAndFinishTime = startAndFinishTime;\r\n    this.lessonType = lessonType;\r\n    this.lessonNumber = lessonNumber;\r\n    this.url = url;\r\n    this.groupNumber = groupNumber;\r\n  }\r\n\r\n  reset() {\r\n    this.lessonName = \"\";\r\n    this.teacher = \"\";\r\n    this.room = \"\";\r\n    // this.startAndFinishTime = \"\";\r\n    this.lessonType = \"\";\r\n    this.lessonNumber = \"\";\r\n    this.url = \"\";\r\n    this.groupNumber = \"\";\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {\r\n  CardHeadline3,\r\n  TextBox,\r\n  Card,\r\n  TextBoxLabel,\r\n  TextBoxSubTitle,\r\n  TextBoxTitle,\r\n  Badge,\r\n  CellListItem,\r\n  Footnote1,\r\n  CardContent,\r\n  Body1,\r\n  Cell,\r\n  TextField,\r\n  CellDisclosure,\r\n  Row\r\n} from \"@sberdevices/plasma-ui\";\r\nimport {\r\n  //IconSettings,\r\n  IconLocation,\r\n  //IconMoreVertical\r\n} from \"@sberdevices/plasma-icons\";\r\nimport {LessonStartEnd, NO_LESSONS_NAME, StartEnd} from \"../App\";\r\n//import { darkJoy, darkEva, darkSber } from \"@sberdevices/plasma-tokens/themes\";\r\n//import { createGlobalStyle } from \"styled-components\";\r\n\r\n//import { text, background, gradient } from \"@sberdevices/plasma-tokens\";\r\n// import \"../themes/App.css\";\r\nimport {ACCENT_TEXT_COLOR, COLOR_BLACK} from \"./consts\";\r\nimport {Bell} from \"../types/ScheduleStructure\";\r\n\r\n// import {DEFAULT_TEXT_COLOR} from '../App';\r\n// import {THIS_WEEK, THIS_OR_OTHER_WEEK} from \"../types/base.d\";\r\nimport {lessonTypeAdjToNoun} from '../utils';\r\nimport LinkToOnline from './LinkToOnline';\r\nimport {\r\n  LessonStartAndFinishTime,\r\n  LessonName,\r\n  GroupNumber,\r\n  TeacherName,\r\n  LessonLeftContent,\r\n  LessonRightContent\r\n} from \"../components/ScheduleLesson\";\r\nimport { Container } from \"@sberdevices/plasma-ui/node_modules/@sberdevices/plasma-core\";\r\nimport {history, IAppState} from \"../App\";\r\n\r\nconst MainContent = (\r\n  {\r\n    lessonName,\r\n    lessonNumber,\r\n    groupNumber,\r\n    teacher,\r\n    time,\r\n    url,\r\n    isAccented,\r\n    lessonType,\r\n    room,\r\n    isTeacherAndValid,\r\n    onTeacherClick,\r\n    onGoToPage,\r\n    \r\n  }: {\r\n    lessonName: string\r\n    lessonNumber: string\r\n    groupNumber: string\r\n    teacher: string\r\n    room: string\r\n    time: string\r\n    lessonType: string\r\n    url: string\r\n    isAccented: boolean\r\n    isTeacherAndValid: boolean\r\n    onTeacherClick: (teacherName: string) => void\r\n    onGoToPage: (pageNo: number) => void\r\n  }\r\n) => {\r\n\r\n  const sanitizeRoom = (room: string): string =>\r\n    room?.replace(/[^\\d]/g, '');\r\nconsole.log(teacher, groupNumber)\r\n  return (\r\n    <Container style={{padding: \"0 0.5em 0.5em 0.5em\"}}>\r\n    <Row style={{margin:\"0 0.5em 0.5em 0.5em\"}}>\r\n    <TextBox >\r\n      <LessonName\r\n        text={lessonName}\r\n        lessonNumber={lessonNumber}\r\n        isAccented={false}\r\n      />\r\n      <TextBoxLabel>\r\n        {lessonType}\r\n      </TextBoxLabel>\r\n      <Footnote1 style={{color: \"grey\", marginTop: \"1em\"}}>\r\n        Дата и время пары\r\n      </Footnote1>\r\n\r\n      <TextBoxTitle>\r\n        {time}\r\n      </TextBoxTitle>\r\n      <LinkToOnline url={url}/>\r\n      </TextBox>\r\n      \r\n      </Row>\r\n      <Row>\r\n        { teacher  ?\r\n      <Card\r\n        onClick={() => onTeacherClick(teacher)}\r\n        style={{margin: \"1em 0.5em 0.5em 0.5em\", width: \"90vw\"}}\r\n      >\r\n        <CardContent >\r\n          \r\n          {\r\n            isTeacherAndValid\r\n              ? \r\n              <TextBox>\r\n                <Footnote1 style={{color: \"grey\"}}>\r\n            Группы\r\n          </Footnote1>\r\n              <GroupNumber\r\n                text={groupNumber}\r\n              />\r\n               </TextBox> \r\n              : <TextBox>\r\n                <Footnote1 style={{color: \"grey\"}}>\r\n            Преподаватель\r\n          </Footnote1>\r\n          <Body1>{teacher}</Body1>\r\n          </TextBox>\r\n\r\n          }\r\n        </CardContent>\r\n      </Card> : <div></div>\r\n}\r\n      </Row>\r\n      <Row>\r\n      <Card style={{margin: \"1em 0.5em 0.5em 0.5em\", width: \"90vw\"}} onClick={() => history.push('/navigation')}>\r\n        <CardContent compact>\r\n          <Cell\r\n            contentLeft={\r\n              <IconLocation/>\r\n            }\r\n            content={\r\n              sanitizeRoom(room) !=\"\" ?\r\n              <TextBox>\r\n                <Body1 style={{marginLeft: \"0.5em\"}}>\r\n                  Корпус {room?.[0]}\r\n                </Body1>\r\n                <TextBoxLabel style={{color: \"grey\", marginLeft: \"0.5em\"}}>\r\n                  Кабинет {sanitizeRoom(room)}\r\n                </TextBoxLabel>\r\n              </TextBox> \r\n              : <TextBox>\r\n              <Body1 style={{marginLeft: \"0.5em\"}}>\r\n                 {room}\r\n              </Body1>\r\n            </TextBox> \r\n            }\r\n            contentRight={\r\n              <CellDisclosure/>\r\n            }\r\n          />\r\n        </CardContent>\r\n      </Card>\r\n</Row>\r\n      {/* <TextField\r\n        // id=\"tf\"\r\n        label=\"Заметка \"\r\n        className=\"editText\"\r\n        // placeholder=\"Напиши номер своей академической группы\"\r\n        style={{margin: \"1em 1em 0 0\"}}\r\n        //   onChange={(event) => {\r\n        //     onChange(event.target.value)\r\n        //   }}\r\n      /> */}\r\n\r\n    \r\n\r\n    </Container>\r\n  )\r\n}\r\n\r\n\r\nconst LessonCard = (\r\n  {\r\n    lesson,\r\n    startEndTime,\r\n    isAccented,\r\n    isTeacherAndValid,\r\n    onGoToPage,\r\n    onTeacherClick,\r\n\r\n  }: {\r\n    lesson: Bell\r\n    startEndTime: StartEnd\r\n    isAccented: boolean\r\n    isTeacherAndValid: boolean\r\n    onGoToPage: (pageNo: number) => void\r\n    onTeacherClick: (teacherName: string) => void\r\n\r\n  }\r\n) => {\r\n\r\n  const formatStartEndTime = (startTime: string, endTime: string): string => {\r\n    return startTime ? `${startTime} - ${endTime}` : \"\";\r\n  }\r\n  console.log(\"lesson\", lesson)\r\n  return <Cell\r\n    style={{margin: \"0 1em 1em 1em\", width:\"100%\"}}\r\n    content={\r\n      <MainContent\r\n        lessonName={lesson?.lessonName}\r\n        lessonNumber={lesson?.lessonNumber}\r\n        groupNumber={lesson?.groupNumber}\r\n        teacher={lesson?.teacher}\r\n        url={lesson?.url}\r\n        lessonType={\r\n          // todo: это преобразование должно быть раньше\r\n          lessonTypeAdjToNoun(lesson?.lessonType)\r\n        }\r\n        time={\r\n          formatStartEndTime(startEndTime.start, startEndTime.end)\r\n        }\r\n        room={lesson?.room}\r\n        isAccented={isAccented}\r\n        isTeacherAndValid={isTeacherAndValid}\r\n        onTeacherClick={onTeacherClick}\r\n        onGoToPage={onGoToPage}\r\n      />\r\n    }\r\n\r\n  />\r\n}\r\n\r\nexport default LessonCard\r\n","import React from \"react\";\r\nimport {Container, Row, Col, DeviceThemeProvider, Caption, Body1} from '@sberdevices/plasma-ui';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {\r\n  Button\r\n} from \"@sberdevices/plasma-ui\";\r\nimport {\r\n  StartEnd,\r\n  LessonStartEnd,\r\n} from '../App';\r\nimport {IconChevronLeft} from \"@sberdevices/plasma-icons\";\r\nimport {Bell} from '../types/ScheduleStructure'\r\nimport karta from \"../images/Karta.png\";\r\nimport LessonCard from \"../components/LessonCard\";\r\nimport {DocStyle, getThemeBackgroundByChar} from '../themes/tools';\r\nimport {CHAR_TIMEPARAMOY, Character, IBuilding} from \"../types/base\";\r\nimport {COLOR_BLACK} from '../components/consts';\r\nimport {\r\n  HeaderLogoCol,\r\n  HeaderTitleCol2,\r\n  GoToDashboardButton,\r\n  GoToHomeButton,\r\n  GoToScheduleButton,\r\n} from '../components/TopMenu';\r\nimport {createBrowserHistory} from 'history';\r\n\r\nexport const history = createBrowserHistory();\r\n\r\nconst Lesson = (props: {\r\n  character: Character\r\n    // todo: что такое 'timeParamoy' ???\r\n    | typeof CHAR_TIMEPARAMOY\r\n  isTeacherAndValid: boolean,\r\n  currentLesson: Bell,\r\n  spinner: Boolean,\r\n  currentLessonStartEnd: StartEnd,\r\n  theme: string \r\n  pageNo: number\r\n  onDashboardClick: () => void\r\n  handleTeacherChange: (isSave: boolean) => Promise<boolean>\r\n  onGoToPage: (page: number) => void\r\n}) => {\r\n  const {\r\n    character,\r\n    theme,\r\n    spinner,\r\n    currentLesson,\r\n    isTeacherAndValid,\r\n    currentLessonStartEnd,\r\n    pageNo,\r\n    onDashboardClick,\r\n    handleTeacherChange,\r\n    onGoToPage\r\n  } = props;\r\n\r\n  console.log('Lesson:props:', props)\r\n  return <DeviceThemeProvider>\r\n    <DocStyle/>\r\n    {\r\n      getThemeBackgroundByChar(character, theme)\r\n    }\r\n    <Container style={{padding: 0, overflow: \"hidden\"}}>\r\n\r\n      <Row style={{margin: \"1em\"}}>\r\n      {/* <HeaderLogoCol/> */}\r\n      <Button size=\"s\" view=\"clear\" contentLeft={<IconChevronLeft/>} onClick={() => {onGoToPage(pageNo)}} />\r\n\r\n        <HeaderTitleCol2\r\n          title=\"Карточка пары\"\r\n        />\r\n\r\n        <Col style={{margin: \"0 0 0 auto\"}}>\r\n          <GoToDashboardButton\r\n            onClick={() => onDashboardClick()}\r\n          />\r\n        </Col>\r\n\r\n      </Row>\r\n      <Row>\r\n        <Col style={{overflow: \"hidden\"}}>\r\n      {\r\n        spinner === true\r\n          ? <LessonCard\r\n            lesson={currentLesson}\r\n            startEndTime={currentLessonStartEnd}\r\n            isTeacherAndValid={isTeacherAndValid}\r\n            isAccented={true}\r\n            onGoToPage={(page)=> onGoToPage(page)}\r\n            // todo: задавать имя преподавателя\r\n            onTeacherClick={() => handleTeacherChange(false)}\r\n          />\r\n          : <div></div>\r\n      }\r\n      </Col>\r\n      </Row>\r\n      <div style={{\r\n        width: '200px',\r\n        height: '300px',\r\n      }}></div>\r\n    </Container>\r\n\r\n  </DeviceThemeProvider>\r\n}\r\n\r\nexport default Lesson\r\n","import React from \"react\";\r\nimport {Router, Route, Switch} from 'react-router';\r\nimport {createBrowserHistory} from 'history';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport styled from \"styled-components\";\r\nimport {createAssistant, createSmartappDebugger,} from \"@sberdevices/assistant-client\";\r\nimport {detectDevice} from '@sberdevices/plasma-ui/utils';\r\n\r\nimport {\r\n  createUser,\r\n  getGroupById,\r\n  getGroupByName,\r\n  getIdTeacherFromDb,\r\n  getInTeacherFromDb,\r\n  getScheduleFromDb,\r\n  getScheduleTeacherFromDb,\r\n  getUser,\r\n  IsEnglishGroupExist,\r\n  IScheduleApiData,\r\n  IScheduleLessonInfo, ITeacherApiData,\r\n  getSchedulebyUserId,\r\n} from \"./APIHelper\";\r\n\r\nimport DashboardPage from './pages/DashboardPage';\r\n\r\nimport HomePage from './pages/HomePage';\r\nimport Contacts from './pages/Contacts';\r\nimport FAQ from './pages/FAQ';\r\nimport Start from './pages/Start';\r\nimport NavigatorPage from './pages/NavigatorPage';\r\nimport SpinnerPage from \"./pages/SpinnerPage\";\r\nimport Schedule from './pages/Schedule';\r\nimport Settings from './pages/Settings';\r\n\r\nimport buildings from './data/buldings.json'\r\nimport filial from './data/filial.json';\r\nimport {Bell} from './types/ScheduleStructure'\r\n\r\nimport \"./themes/App.css\";\r\nimport {AssistantAction, AssistantEvent, NowOrWill,} from './types/AssistantReceiveAction.d'\r\nimport {\r\n  AssistantSendAction,\r\n  AssistantSendActionSay,\r\n  AssistantSendActionSay1,\r\n  AssistantSendActionSay5,\r\n  AssistantSendActionSay6,\r\n} from './types/AssistantSendAction.d'\r\n\r\nimport {\r\n  CHAR_SBER,\r\n  CHAR_TIMEPARAMOY,\r\n  Character,\r\n  DAY_NOT_SUNDAY,\r\n  DAY_SUNDAY,\r\n  DAY_TODAY,\r\n  DAY_TOMORROW,\r\n  IDayHeader,\r\n  LESSON_EXIST,\r\n  OTHER_WEEK,\r\n  StartOrEnd,\r\n  THIS_OR_OTHER_WEEK,\r\n  THIS_WEEK,\r\n  TodayOrTomorrow,\r\n} from './types/base.d'\r\nimport {\r\n  formatDateWithDashes,\r\n  formatDateWithDots,\r\n  formatTimeHhMm,\r\n  MS_IN_DAY,\r\n  pairNumberToPairText\r\n} from './utils';\r\nimport Lesson from \"./pages/Lesson\";\r\nimport { DH_CHECK_P_NOT_SAFE_PRIME } from \"constants\";\r\n\r\nexport const NON_EXISTING_PAGE_NO = -1;\r\n//export const HOME_PAGE_NO = 0;\r\n//export const NAVIGATOR_PAGE_NO = 15;\r\n//export const DASHBOARD_PAGE_NO = 16;\r\n// export const SCHEDULE_PAGE_NO = 17;\r\nexport const CONTACTS_PAGE_NO = 18;\r\n// export const FAQ_PAGE_NO = 19;\r\nexport const SETTING_PAGE_NO = 20;\r\nexport const LESSON_PAGE_NO = 21;\r\n\r\nexport const HOME_PAGE_ROUTE = \"home\";\r\n\r\nconst INITIAL_PAGE = 16;\r\n\r\nconst SEVEN_DAYS = 7 * MS_IN_DAY;\r\nconst FILL_DATA_TO_OPEN_TEXT = \"Заполни данные, чтобы открывать расписание одной фразой\";\r\nconst TO_VIEW_SET_GROUP_TEXT = \"Чтобы посмотреть расписание, укажите данные учебной группы\";\r\n\r\nconst initializeAssistant = (getState) => {\r\n  if (process.env.NODE_ENV === \"development\") {\r\n    return createSmartappDebugger({\r\n      token: process.env.REACT_APP_TOKEN ?? \"\",\r\n      initPhrase: `Запусти ${process.env.REACT_APP_SMARTAPP}`,\r\n      getState,\r\n    });\r\n  }\r\n  return createAssistant({getState});\r\n};\r\n\r\nexport const Spacer100 = styled.div`\r\n  width: 100px;\r\n  height: 100px;\r\n`;\r\n\r\nexport const Spacer200 = styled.div`\r\n  width: 200px;\r\n  height: 200px;\r\n`;\r\n\r\n// const PAIR_NAME_IDX = 0;\r\n// const TEACHER_NAME_IDX = 1;\r\n// const PAIR_NO_IDX = 5;\r\n\r\nconst breaks = {\r\n  '1': '09:00',\r\n  '2': '10:35-10:50',\r\n  '3': '12:25-12:40',\r\n  '4': '14:15-14:30',\r\n  '5': '16:05-16:20',\r\n  '6': '17:55-18:10',\r\n  '7': '19:45'\r\n}\r\n\r\nconst saved_scheduleOfWeekShort = [\r\n  \"Вс\",\r\n  \"Пн\",\r\n  \"Вт\",\r\n  \"Ср\",\r\n  \"Чт\",\r\n  \"Пт\",\r\n  \"Сб\",\r\n]\r\n\r\nconst dayNameDict = {\r\n  \"Пн\": [\"понедельник\", 1],\r\n  \"Вт\": [\"вторник\", 2],\r\n  \"Ср\": [\"среду\", 3],\r\n  \"Чт\": [\"четверг\", 4],\r\n  \"Пт\": [\"пятницу\", 5],\r\n  \"Сб\": [\"субботу\", 6]\r\n}\r\n\r\n/**\r\n * Порядковые числительные именительный падеж\r\n */\r\nconst ordinalNominativeCaseSingularFemDict = {\r\n  \"1\": \"первая\",\r\n  \"2\": \"вторая\",\r\n  \"3\": \"третья\",\r\n  \"4\": \"четвертая\",\r\n  \"5\": \"пятая\",\r\n  \"6\": \"шестая\",\r\n  \"7\": \"седьмая\"\r\n}\r\n\r\n/**\r\n *\r\n */\r\nconst ordinalGenitiveCaseSingularFemDict = {\r\n  1: \"первой\",\r\n  2: \"второй\",\r\n  3: \"третьей\",\r\n  4: \"четвертой\",\r\n  5: \"пятой\",\r\n  6: \"шестой\",\r\n  7: \"седьмой\"\r\n}\r\n\r\n/**\r\n *\r\n */\r\nconst numPron = {\r\n  0: \"ноль\",\r\n  1: \"одна\",\r\n  2: \"две\",\r\n  3: \"три\",\r\n  4: \"четыре\",\r\n  5: \"пять\",\r\n  6: \"шесть\",\r\n  7: \"семь\",\r\n}\r\n\r\n/**\r\n * Время начала и конца пар\r\n */\r\n\r\nexport interface StartEnd {\r\n  start: string\r\n  end: string\r\n}\r\n\r\nexport interface ICheckIsCorrect{\r\n  correct_sub: boolean\r\n  correct_eng: boolean\r\n  correct: boolean\r\n}\r\n\r\nconst MAX_BELL_COUNT = 8;\r\n\r\nconst FIRST_DAY_OTHER_WEEK = 8;\r\n\r\nexport const LessonStartEnd: StartEnd[] = Array(MAX_BELL_COUNT).fill({start: \"\", end: \"\"})\r\n\r\n/**\r\n *\r\n */\r\nconst TODAY_TOMORROW_DICT = {\r\n  [DAY_TODAY]: 1,\r\n  [DAY_TOMORROW]: 0,\r\n}\r\n\r\n\r\nexport const NO_LESSONS_NAME = \"Пар нет 🎉\"\r\n\r\nconst DEFAULT_STATE_DAY: IDayHeader[] = [\r\n  {\r\n    title: 'Пн',\r\n    date: [\"\", \"\"],\r\n    count: [0, 0]\r\n  }, {\r\n    title: 'Вт',\r\n    date: [\"\", \"\"],\r\n    count: [0, 0]\r\n  }, {\r\n    title: 'Ср',\r\n    date: [\"\", \"\"],\r\n    count: [0, 0]\r\n  }, {\r\n    title: 'Чт',\r\n    date: [\"\", \"\"],\r\n    count: [0, 0]\r\n  }, {\r\n    title: 'Пт',\r\n    date: [\"\", \"\"],\r\n    count: [0, 0]\r\n  }, {\r\n    title: 'Сб',\r\n    date: [\"\", \"\"],\r\n    count: [0, 0]\r\n  }\r\n]\r\n\r\n\r\nexport type ThisOtherWeekBells = Bell[]\r\nexport type DayBells = ThisOtherWeekBells[]\r\nexport type IScheduleDays = DayBells[]\r\n\r\nexport const history = createBrowserHistory();\r\n\r\n\r\n\r\n\r\n//\r\n\r\ninterface IAppProps {\r\n}\r\n\r\nexport interface IAppState {\r\n  notes: { id: string, title: string }[];\r\n  userId: string\r\n  page: number\r\n  // logo\r\n  flag: boolean\r\n  checked: boolean\r\n  description: string\r\n  group: string\r\n  groupId: string\r\n  filialId: string\r\n  correct: boolean\r\n  day: IDayHeader[]\r\n  //Расписание для сохраненных данных\r\n  saved_schedule: IScheduleDays\r\n  //Расписание для несохраненных данных\r\n  other_schedule: IScheduleDays\r\n  spinner: boolean\r\n  date: number\r\n  today: number\r\n  theme: string\r\n  dayPush: number\r\n  isGroupError: boolean\r\n  isActive: boolean\r\n  subGroup: string\r\n  teacher_id_bd: string\r\n  group_id_bd: string\r\n  eng_bd: string\r\n  sub_bd: string\r\n  isSubGroupError: boolean\r\n  pushHour: number,\r\n  pushMin: number,\r\n  engGroup: string\r\n  isEngGroupError: boolean\r\n  isUser: boolean\r\n  character: Character\r\n    // todo paramoy\r\n    | typeof CHAR_TIMEPARAMOY\r\n  bd: string\r\n  student: boolean\r\n  teacher: string\r\n  teacherId: string\r\n  teacher_checked: boolean\r\n  teacher_bd: string\r\n  teacher_correct: boolean\r\n  isTeacherError: boolean\r\n  isSavedSchedule: boolean\r\n\r\n  // building: IBuilding[]\r\n}\r\n\r\nexport class App extends React.Component<IAppProps, IAppState> {\r\n  _assistant\r\n\r\n  constructor(props: IAppProps) {\r\n    super(props);\r\n    this.setValue = this.setValue.bind(this)\r\n    this.Load_Schedule =  this.Load_Schedule.bind(this)\r\n    this.CheckIsCorrect = this.CheckIsCorrect.bind(this)\r\n    this.handleTeacherChange = this.handleTeacherChange.bind(this)\r\n    this.convertIdInGroupName = this.convertIdInGroupName.bind(this);\r\n    this.getCurrentLesson = this.getCurrentLesson.bind(this);\r\n    this.NextWeek = this.NextWeek.bind(this);\r\n    this.CurrentWeek = this.CurrentWeek.bind(this);\r\n    this.PreviousWeek = this.PreviousWeek.bind(this);\r\n    this.getIsCorrectTeacher = this.getIsCorrectTeacher.bind(this);\r\n    // this.Bd = this.Bd.bind(this);\r\n    this.sendData = this.sendData.bind(this);\r\n    this.ChangeTheme=this.ChangeTheme.bind(this);\r\n    this.ChangePush=this.ChangePush.bind(this);\r\n    this.Load_Schedule=this.Load_Schedule.bind(this);\r\n    this.getScheduleFromDb = this.getScheduleFromDb.bind(this);\r\n    // this.tfRef                = React.createRef();\r\n    console.log('constructor');\r\n    history.push(\"/dashboard\")\r\n    this.state = {\r\n      notes: [],\r\n      //\r\n      userId: \"\",\r\n      //\r\n      page: INITIAL_PAGE,\r\n      // logo: null,\r\n      flag: true,\r\n      checked: false,\r\n      description: \"\",\r\n      group: \"\",\r\n      groupId: \"\",\r\n      filialId: \"\",\r\n      subGroup: \"\",\r\n      engGroup: \"\",\r\n      bd: \"\",\r\n      group_id_bd: \"\",\r\n      eng_bd: \"\",\r\n      sub_bd: \"\",\r\n      correct: false,\r\n      day: DEFAULT_STATE_DAY,\r\n      saved_schedule: [],\r\n      other_schedule: [],\r\n      spinner: false,\r\n      date: Date.now(),\r\n      today: 0,\r\n      theme: \"dark\",\r\n      isGroupError: false,\r\n      isTeacherError: false,\r\n      isSubGroupError: false,\r\n      isEngGroupError: false,\r\n      isActive: false,\r\n      pushHour: 0,\r\n      pushMin: 0,\r\n      character: CHAR_SBER,\r\n      isUser: false,\r\n      student: true,\r\n      dayPush: 0,\r\n      teacher: \"\",\r\n      teacherId: \"\",\r\n      teacher_checked: false,\r\n      teacher_bd: \"\",\r\n      teacher_id_bd: \"\",\r\n      teacher_correct: false,\r\n      isSavedSchedule: true\r\n\r\n      // building: building,\r\n    }\r\n  \r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log('componentDidMount');\r\n\r\n    this._assistant = initializeAssistant(() => this.getStateForAssistant());\r\n    this._assistant.on(\"data\", (event: AssistantEvent) => {\r\n      console.log('_assistant.on(\"data\") event:', event);\r\n\r\n      switch (event?.type) {\r\n        case \"character\":\r\n          console.log('componentDidMount: character:', event.character.id);\r\n          this.setState({character: event.character.id});\r\n          if (event.character.id === CHAR_TIMEPARAMOY) {\r\n            this.setState({description: FILL_DATA_TO_OPEN_TEXT});\r\n          } else {\r\n            this.setState({description: TO_VIEW_SET_GROUP_TEXT});\r\n          }\r\n          break;\r\n\r\n        case \"smart_app_data\":\r\n          console.log(\"User\");\r\n          console.log(event);\r\n          if (event.sub !== undefined) {\r\n            console.log(\"Sub\", event.sub);\r\n            this.setState({userId: event.sub});\r\n            const now = new Date();\r\n            this.setState({today: now.getDay()});\r\n            getUser(this.state.userId).then((user)=> {\r\n\r\n              if (user !== \"0\") {\r\n                console.log('user', user)\r\n                this.setState({groupId: user[\"group_id\"], subGroup: user[\"subgroup_name\"], engGroup: user[\"eng_group\"], teacherId: user[\"teacher_id\"], filialId: user[\"filial_id\"]})\r\n                getSchedulebyUserId(this.state.userId).then((response) => {\r\n                  history.push(\"/dashboard\")\r\n                  this.setState({isActive: response.isActive, pushHour: response.hour, pushMin: response.minute})\r\n\r\n                  console.log(\"getScheduleByUserId\", response)\r\n                    if (response.teacher_id != \"\" && response.teacher_id!=null) {\r\n                      console.log(`${response.teacher_info.last_name} ${response.teacher_info.first_name}. ${response.teacher_info.mid_name}.`);\r\n                      const teacher = `${response.teacher_info.last_name} ${response.teacher_info.first_name}. ${response.teacher_info.mid_name}.`;\r\n                      this.setState({\r\n                        student: false,\r\n                        teacher_bd: teacher,\r\n                        teacher_id_bd: response.teacher_id,\r\n                        teacher_correct: true,\r\n                        teacher: teacher,\r\n                        isUser: true,\r\n                      })\r\n\r\n\r\n                    }else if (response.groupId != \"\")  {\r\n\r\n                      this.setState({\r\n                        group: response.groupName,\r\n                        flag: true,\r\n                        bd: response.groupName,\r\n                        group_id_bd: this.state.groupId,\r\n                        eng_bd: this.state.engGroup,\r\n                        sub_bd: this.state.subGroup,\r\n                        student: true,\r\n                        isUser: true,\r\n                      });\r\n                      console.log(this.state.group_id_bd, \"GROUP_ID_BD\");\r\n                    } else {\r\n                      this.setState({isUser: true})\r\n                      \r\n                    }\r\n                    if (this.state.teacherId != \"\" || this.state.group!= \"\"){\r\n \r\n                    //Зачем два вызова?\r\n                    this.SetWeekSchedule(response.schedule, 0, true);\r\n                    this.SetWeekSchedule(response.schedule, 1, true);\r\n                    }\r\n                  })\r\n\r\n              } else {\r\n                console.log(\"first time\")\r\n                this.setState({isUser: true});\r\n                history.push('/start')\r\n                this.sendData({\r\n                  action_id: \"hello_phrase\"\r\n                })\r\n                createUser(\r\n                  this.state.userId,\r\n                  this.state.filialId,\r\n                  this.state.groupId,\r\n                  this.state.subGroup,\r\n                  this.state.engGroup,\r\n                  this.state.teacherId,\r\n                )\r\n                }\r\n              })\r\n          }\r\n          console.log(`assistant.on(data)`, event);\r\n          const {action} = event;\r\n          this.dispatchAssistantAction(action);\r\n          break\r\n\r\n        default:\r\n          break\r\n      }\r\n    });\r\n    this._assistant.on(\"start\", (event) => {\r\n      console.log(`_assistant.on(start)`, event);\r\n    });\r\n    this._assistant.on(\"ANSWER_TO_USER\", (event) => {\r\n      console.log(`_assistant.on(raw)`, event);\r\n    });\r\n  }\r\n\r\n  TimуByLessonNum(num) {\r\n    return LessonStartEnd[num].start + \" - \" + LessonStartEnd[num].end\r\n  }\r\n\r\n  setValue(key: string, value: any) {\r\n    console.log(`setValue: key: ${key}, value:`, value);\r\n    //console.log(this.state.group)\r\n    switch (key) {\r\n      case \"group\":\r\n        this.setState({group: value});\r\n        break;\r\n      case \"subGroup\":\r\n        this.setState({subGroup: value});\r\n        break;\r\n      case \"teacher\":\r\n        this.setState({teacher: value});\r\n        break;\r\n      case \"page\":\r\n        this.gotoPage(value);\r\n        break;\r\n      case \"student\":\r\n        this.setState({student: value});\r\n        break;\r\n      case \"teacher_checked\":\r\n        this.setState({teacher_checked: value});\r\n        break;\r\n      case \"engGroup\":\r\n        this.setState({engGroup: value});\r\n        break;\r\n      case \"checked\":\r\n        this.setState({checked: value});\r\n        break;\r\n      case \"description\":\r\n        this.setState({description: value});\r\n        break;\r\n      case \"bd\":\r\n        this.setState({bd: value});\r\n        break;\r\n      case \"teacher_bd\":\r\n        this.setState({teacher_bd: value})\r\n        break;\r\n      case \"flag\":\r\n        this.setState({flag: value})\r\n        break;\r\n      case \"isSavedSchedule\":\r\n        this.setState({isSavedSchedule: value})\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  getIsCorrectTeacher(): boolean {\r\n    const isStudent = this.state.student;\r\n    const isTeacherCorrect = this.state.teacher_correct;\r\n    return !isStudent && isTeacherCorrect\r\n  }\r\n\r\n  // определяет когда начинаются пары сегодня или завтра\r\n  getStartFirstLesson(todayOrTomorrow: TodayOrTomorrow): string | undefined {\r\n    const dayShift = TODAY_TOMORROW_DICT[todayOrTomorrow]\r\n    const weekDayIndex = this.state.today - dayShift;\r\n    for (let bell in this.state.saved_schedule[weekDayIndex]) {\r\n      const lessonName = this.state.saved_schedule[weekDayIndex][bell][THIS_WEEK].lessonName\r\n      if (lessonName !== \"\") {\r\n        return LessonStartEnd[Number(bell)].start\r\n      }\r\n    }\r\n  }\r\n\r\n  // определяет когда кончаются пары сегодня или завтра\r\n  getEndLastLesson(todayOrTomorrow: TodayOrTomorrow): string {\r\n    const dayShift = TODAY_TOMORROW_DICT[todayOrTomorrow]\r\n    const dayNumber = this.state.today - dayShift;\r\n    console.log(`getEndLastLesson: todayOrTomorrow: ${todayOrTomorrow}, dayShift: ${dayShift}, dayNumber: ${dayNumber}`);\r\n    let lessonEnd = '';\r\n    for (let lessonIdx in this.state.saved_schedule[dayNumber]) {\r\n      if (this.state.saved_schedule[dayNumber][lessonIdx][THIS_WEEK].lessonName !== \"\") {\r\n        lessonEnd = LessonStartEnd[lessonIdx].end;\r\n      }\r\n    }\r\n    return lessonEnd;\r\n  }\r\n\r\n  // определяет начало или конец энной пары сегодня или завтра\r\n  getBordersRequestLesson(startOrEnd: StartOrEnd, todayOrTomorrow: TodayOrTomorrow, lessonNum: number): string | undefined {\r\n    const dayShift = TODAY_TOMORROW_DICT[todayOrTomorrow]\r\n    const dayNumber = this.state.today - dayShift;\r\n    const lessonName = this.state.saved_schedule[dayNumber][lessonNum - 1][THIS_WEEK].lessonName;\r\n\r\n    if (lessonName !== \"\") {\r\n      if (startOrEnd === \"start\") {\r\n        return LessonStartEnd[lessonNum - 1].start\r\n      } else {\r\n        return LessonStartEnd[lessonNum - 1].end\r\n      }\r\n    }\r\n  }\r\n\r\n  getStartEndLesson(\r\n    startOrEnd: StartOrEnd,\r\n    todayOrTomorrow: TodayOrTomorrow,\r\n    // todo: lessonNum строка или число ???\r\n    lessonNum,\r\n  ): string | [string, string] | undefined {\r\n    if (todayOrTomorrow === DAY_TODAY && this.state.today === 0) {\r\n      return [todayOrTomorrow, DAY_SUNDAY]\r\n\r\n    } else if (todayOrTomorrow === DAY_TOMORROW && this.state.today === 6) {\r\n      return [todayOrTomorrow, DAY_SUNDAY]\r\n\r\n    } else if (startOrEnd === \"start\") {\r\n      if (todayOrTomorrow === DAY_TODAY) {\r\n        if (lessonNum === \"0\") {\r\n          return this.getStartFirstLesson(todayOrTomorrow)\r\n        } else {\r\n          return this.getBordersRequestLesson(startOrEnd, todayOrTomorrow, lessonNum)\r\n        }\r\n      } else {\r\n        if (lessonNum === \"0\") {\r\n          return this.getStartFirstLesson(todayOrTomorrow)\r\n        } else {\r\n          return this.getBordersRequestLesson(startOrEnd, todayOrTomorrow, lessonNum)\r\n        }\r\n      }\r\n    } else if (startOrEnd === \"end\") {\r\n      if (todayOrTomorrow === DAY_TODAY) {\r\n        if (lessonNum === \"0\") {\r\n          return this.getEndLastLesson(todayOrTomorrow)\r\n        } else {\r\n          return this.getBordersRequestLesson(startOrEnd, todayOrTomorrow, lessonNum)\r\n        }\r\n      } else {\r\n        if (lessonNum === \"0\") {\r\n          return this.getEndLastLesson(todayOrTomorrow)\r\n        } else {\r\n          return this.getBordersRequestLesson(startOrEnd, todayOrTomorrow, lessonNum)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * подсчет количества пар в указанную дату\r\n   * возвращает массив с днем недели (Пн,Вт,...)\r\n   * и количеством пар в этот день\r\n   *\r\n   * @param {Date} date\r\n   * @returns {string}\r\n   */\r\n  getAmountOfLessons(date: Date): [string, number] | undefined {\r\n    for (let day of this.state.day) {\r\n      for (let week = 0; week < 2; week++) {\r\n        console.log(\"this.getDateWithDots(date)\", formatDateWithDots(date))\r\n        console.log(\"day.date[week]\", day.date[week])\r\n        if (formatDateWithDots(date) === day.date[week]) {\r\n          return [day.title, day.count[week]]\r\n        }\r\n      }\r\n    }\r\n    // if (res !== undefined) {return res}\r\n    // else {return null}\r\n  }\r\n\r\n  /**\r\n   * получить текущую пару\r\n   *\r\n   * @param date\r\n   */\r\n  getCurrentLesson(date: Date): string {\r\n    if (this.state.today !== 0) {\r\n      const todayIndex = this.state.today - 1\r\n      const day = this.state.saved_schedule[todayIndex]\r\n      for (let bellIdx in day) {\r\n        // console.log(`getCurrentLesson: bellIdx: ${bellIdx}, typeof bellIdx: ${typeof bellIdx}`);\r\n        const lesson = day[bellIdx][THIS_WEEK];\r\n        const thisLessonStartEnd = LessonStartEnd[Number(bellIdx)];\r\n        if (\r\n          (formatTimeHhMm(date) > thisLessonStartEnd.start) &&\r\n          (formatTimeHhMm(date) < thisLessonStartEnd.end) &&\r\n          (thisLessonStartEnd.start !== \"\")\r\n        ) {\r\n          return lesson.lessonNumber\r\n        }\r\n      }\r\n    }\r\n    return '';//'-1';\r\n  }\r\n\r\n  /**\r\n   * возвращает количество оставшихся на сегодня пар\r\n   *\r\n   * @param {Date} date\r\n   * @return {number}\r\n   */\r\n  getAmountOfRemainingLessons(date: Date): number {\r\n    let countRemainingLessons = 0\r\n    if ((this.state.today !== 0) && (this.state.today + 1 !== 7))\r\n      for (let bell in this.state.saved_schedule[this.state.today - 1]) {\r\n        if (\r\n          formatTimeHhMm(date) < LessonStartEnd[Number(bell)].start &&\r\n          LessonStartEnd[Number(bell)].start !== \"\"\r\n        ) {\r\n          countRemainingLessons += 1\r\n        }\r\n      }\r\n    return countRemainingLessons\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param dayNumber\r\n   * @returns {[\r\n   *   string,   -- строка, содержащая начало пары\r\n   *   string,   -- порядковый номер пары (1 символ)\r\n   * ]}\r\n   */\r\n  getTimeFirstLesson(dayNumber: number): [string, string] {\r\n    let lessonsStart = '';\r\n    let lessonNumber = '';\r\n    let week: THIS_OR_OTHER_WEEK = THIS_WEEK;\r\n    if (dayNumber < this.state.today) {\r\n      week = OTHER_WEEK;\r\n    }\r\n    for (let lessonIdx in this.state.saved_schedule[dayNumber - 1]) {\r\n      const lesson = this.state.saved_schedule[dayNumber - 1][lessonIdx][week]\r\n      if (lesson.lessonName !== \"\") {\r\n        lessonsStart = LessonStartEnd[Number(lessonIdx)].start\r\n        console.log(lessonIdx, \"'lesson.lessonNumber'\")\r\n        lessonNumber = String(Number(lessonIdx)+1);\r\n        break\r\n      }\r\n    }\r\n    return [lessonsStart, lessonNumber];\r\n  }\r\n\r\n\r\n  whatLesson(\r\n    date: Date,\r\n    when: NowOrWill | 'next',\r\n  ): {\r\n    lesson: string | undefined,\r\n    type: NowOrWill | 'next',\r\n    num: number,\r\n  } { //определяет название пары, которая идет или будет\r\n    // ключ - номер пары, значение - перерыв до этой пары\r\n\r\n    console.log(`whatLesson: when: ${when} date:`, date)\r\n\r\n    const isSunday = (this.state.today === 0)\r\n    const todayWorkDayIndex = this.state.today - 1;\r\n    const todayBells = this.state.day[todayWorkDayIndex]\r\n    const todayLessons = this.state.saved_schedule[todayWorkDayIndex]\r\n\r\n    if (isSunday) {\r\n      const result = {\r\n        lesson: undefined,\r\n        type: when,\r\n        num: -1,\r\n      }\r\n      console.log(`whatLesson: isSunday: result:`, result)\r\n      return result;\r\n\r\n    } else {\r\n      console.log('whatLesson: count:', todayBells.count[THIS_WEEK]);\r\n      const firstLessonTimeHhMm = this.getTimeFirstLesson(todayWorkDayIndex + 1)[0].slice(0, 5);\r\n\r\n      if (formatTimeHhMm(date) < firstLessonTimeHhMm) {\r\n        console.log('formatTimeHhMm(date) < firstLessonTimeHhMm: true')\r\n      }\r\n      console.log(\"whatLesson: что за пара\", formatTimeHhMm(date), when, firstLessonTimeHhMm);\r\n\r\n      // if (this.state.today !== 0) {\r\n      const currLessonNum = this.getCurrentLesson(date);\r\n\r\n      //\r\n      if (\r\n        (when === \"now\") &&\r\n        (currLessonNum !== undefined)\r\n      ) {\r\n        for (let bellIdx in todayLessons) {\r\n          const lesson = todayLessons[bellIdx][THIS_WEEK];\r\n\r\n          if (\r\n            (lesson.lessonNumber === currLessonNum) &&\r\n            (lesson.lessonNumber !== \"\")\r\n          ) {\r\n            return {\r\n              lesson: lesson[0],\r\n              type: \"now\",\r\n              num: parseInt(currLessonNum)\r\n            };\r\n          }\r\n        }\r\n\r\n      } else if (\r\n        (when === \"will\") &&\r\n        (currLessonNum !== undefined) &&\r\n        (parseInt(currLessonNum) + 1 < 8)\r\n      ) {\r\n        console.log(\"whatLesson: будет\")\r\n        for (let bell in todayLessons) {\r\n          console.log('whatLesson:', parseInt(currLessonNum) + 1);\r\n          const lesson = todayLessons[bell][THIS_WEEK];\r\n\r\n          if (\r\n            (lesson.lessonNumber == String(parseInt(currLessonNum) + 1)) &&\r\n            (lesson.lessonNumber !== \"\")\r\n          ) {\r\n            return {\r\n              lesson: lesson[0],\r\n              type: \"next\",\r\n              num: parseInt(currLessonNum) + 1\r\n            };\r\n          }\r\n        }\r\n      } else if (\r\n        (this.getTimeFirstLesson(this.state.today)[0].slice(0, 5) !== undefined) &&\r\n        (this.getTimeFirstLesson(this.state.today)[0].slice(0, 5) >= formatTimeHhMm(date))\r\n      ) {\r\n        const firstLessonInfo = this.getTimeFirstLesson(this.state.today)\r\n        console.log('whatLesson:', firstLessonInfo[1]);\r\n\r\n        const lessonNumber = parseInt(firstLessonInfo[1]);\r\n        return {\r\n          lesson: todayLessons[lessonNumber][0][0],\r\n          type: \"will\",\r\n          num: lessonNumber,\r\n        }\r\n      } else {\r\n        for (let i in breaks) {\r\n          const startTime = breaks[i].slice(0, 5);\r\n          const endTime = breaks[i].slice(6);\r\n          if (\r\n            (\r\n              formatTimeHhMm(date) > startTime &&\r\n              formatTimeHhMm(date) < endTime\r\n            ) &&\r\n            (todayLessons[i][0][5][0] !== \"\")\r\n          ) {\r\n            return {\r\n              lesson: todayLessons[i][0][0],\r\n              type: \"will\",\r\n              num: parseInt(i)\r\n            };\r\n          } else {\r\n            return {\r\n              lesson: undefined,\r\n              type: when,\r\n              num: -1\r\n            };\r\n          }\r\n        }\r\n      }\r\n      // }\r\n    }\r\n    const result = {\r\n      lesson: undefined,\r\n      type: when,\r\n      num: -1,\r\n    }\r\n    console.log(`whatLesson: not found: result:`, result)\r\n    return result;\r\n  }\r\n\r\n\r\n  // определяет ближайшую пару, если сейчас идет какая то пара, то сообщает об этом\r\n  whereWillLesson(\r\n    date: Date,\r\n    will: NowOrWill,\r\n  ): {\r\n    audience?: string\r\n    type?: 'current' | 'nearest' | 'next'\r\n    exist?: LESSON_EXIST\r\n  } {\r\n    let nextLessonRoom\r\n    let numberNearestLesson\r\n\r\n    // проверяем, что сегодня не воскресенье\r\n    const isSunday = (this.state.today === 0)\r\n\r\n    if (!isSunday) {\r\n\r\n      // определяем номер ближайшей пары\r\n      for (let i in breaks) {\r\n        const startTime = breaks[i].slice(0, 5);\r\n        const endTime = breaks[i].slice(6);\r\n\r\n        if (formatTimeHhMm(date) < breaks['1']) {\r\n          numberNearestLesson = '1';\r\n          break\r\n        } else if (\r\n          formatTimeHhMm(date) > startTime &&\r\n          formatTimeHhMm(date) < endTime\r\n        ) {\r\n          numberNearestLesson = i;\r\n          break\r\n        } else if (formatTimeHhMm(date) > breaks['7']) {\r\n          numberNearestLesson = null\r\n        }\r\n      }\r\n      const amountOfLessons = this.getAmountOfLessons(date);\r\n      if (amountOfLessons && amountOfLessons[1] === 0) {\r\n        return {\r\n          exist: \"empty\",\r\n        }\r\n      }\r\n      if (numberNearestLesson !== undefined) {\r\n        for (let bell in this.state.saved_schedule[this.state.today - 1]) {\r\n          // если пара с таким номером есть в расписании\r\n          if (this.state.saved_schedule[this.state.today - 1][bell][THIS_WEEK].lessonNumber === numberNearestLesson) {\r\n            return {\r\n              audience: this.state.saved_schedule[this.state.today - 1][bell][THIS_WEEK].room,\r\n              type: \"nearest\",\r\n              exist: \"inSchedule\",\r\n            }\r\n          } else {\r\n            // сообщаем, что такой пары нет\r\n            console.log(`Сейчас перерыв. Ближайшей будет ${numberNearestLesson} пара`)\r\n            for (let bell in this.state.saved_schedule[this.state.today - 1]) {\r\n              if (this.state.saved_schedule[this.state.today - 1][bell][THIS_WEEK].lessonNumber !== numberNearestLesson) {\r\n                return {\r\n                  audience: this.state.saved_schedule[this.state.today - 1][bell][THIS_WEEK].room,\r\n                  type: \"nearest\",\r\n                  exist: \"notInSchedule\",\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (numberNearestLesson === undefined && will === \"now\") {\r\n        // вернуть номер текущей пары\r\n        let whereCurrentLesson\r\n        for (let bell in this.state.saved_schedule[this.state.today - 1]) {\r\n          if (this.state.saved_schedule[this.state.today - 1][bell][THIS_WEEK].lessonNumber === this.getCurrentLesson(date)) {\r\n            whereCurrentLesson = this.state.saved_schedule[this.state.today - 1][bell][THIS_WEEK].room\r\n          }\r\n        }\r\n        if (whereCurrentLesson === \"\") {\r\n          return {\r\n            exist: \"notInSchedule\",\r\n          }\r\n        } else {\r\n          return {\r\n            audience: whereCurrentLesson,\r\n            type: \"current\",\r\n          }\r\n        }\r\n      }\r\n      if (numberNearestLesson === undefined && will === \"will\") {\r\n        for (let bell in this.state.saved_schedule[this.state.today - 1]) {\r\n          if (this.state.saved_schedule[this.state.today - 1][bell][THIS_WEEK].lessonNumber === String(Number(this.getCurrentLesson(date)) + 1)) {\r\n            nextLessonRoom = this.state.saved_schedule[this.state.today - 1][bell][THIS_WEEK].room\r\n          }\r\n        }\r\n        if (nextLessonRoom !== \"\") {\r\n          return {\r\n            audience: nextLessonRoom,\r\n            type: \"next\",\r\n          }\r\n        } else {\r\n          return {\r\n            exist: \"endLessons\",\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      return {\r\n        exist: DAY_SUNDAY,\r\n      }\r\n    }\r\n    return {};\r\n  }\r\n\r\n  sendData(action: AssistantSendAction) {\r\n    console.log(action);\r\n    return this._assistant.sendData({\r\n      action\r\n    })\r\n  }\r\n\r\n  async dispatchAssistantAction(action: AssistantAction) {\r\n    console.log(\"dispathcAction:\", action)\r\n    if (action) {\r\n      switch (action.type) {\r\n        case 'settings':\r\n          console.log(\"PUSH\");\r\n          break;\r\n        case 'profile':\r\n          console.log(\"profile\");\r\n          // if(! action.IsStudent){\r\n          //   this.setState({student: false})\r\n          // }\r\n          // else{\r\n          //   this.setState({student: true})\r\n          // }\r\n          return history.push(\"/home\")\r\n          break;\r\n        case 'set_eng_group':\r\n          console.log(\"Pathname:\",history.pathname)\r\n          if( action.group!=undefined){\r\n            this.setState({engGroup: String(action.group) })\r\n          }\r\n          break\r\n\r\n        case 'for_today':\r\n          if ((this.state.group !== \"\") || (this.state.teacher !== \"\"))\r\n            if (this.state.today === 0) {\r\n\r\n              this.sendData({\r\n                action_id: \"todaySchedule\",\r\n                parameters: {\r\n                  day: DAY_SUNDAY\r\n                },\r\n              })\r\n              return this.ChangeDay(7);\r\n\r\n            } else {\r\n              this.sendData({\r\n                action_id: \"todaySchedule\",\r\n                parameters: {day: DAY_NOT_SUNDAY},\r\n              })\r\n              return this.ChangeDay(this.state.today);\r\n            }\r\n          break;\r\n\r\n        case 'for_tomorrow':\r\n          if ((this.state.group !== \"\") || (this.state.teacher !== \"\"))\r\n            if (this.state.today + 1 === 7) {\r\n              this.sendData({\r\n                action_id: \"tomorrowSchedule\",\r\n                parameters: {day: DAY_SUNDAY},\r\n              })\r\n              return this.ChangeDay(7);\r\n            } else {\r\n              this.sendData({\r\n                action_id: \"tomorrowSchedule\",\r\n                parameters: {day: DAY_NOT_SUNDAY},\r\n              })\r\n              return this.ChangeDay(this.state.today + 1);\r\n            }\r\n          break;\r\n\r\n        case 'for_next_week':\r\n          if ((this.state.group !== \"\") || (this.state.teacher !== \"\")) {\r\n            this.NextWeek(this.state.isSavedSchedule);\r\n            return this.ChangeDay(FIRST_DAY_OTHER_WEEK);\r\n          }\r\n          break;\r\n\r\n        case 'for_this_week':\r\n          if ((this.state.group !== \"\") || (this.state.teacher !== \"\")) {\r\n            this.setState({\r\n              date: Date.now(),\r\n              flag: true,\r\n            });\r\n            history.push('/spinner')\r\n            return\r\n          }\r\n          break;\r\n\r\n        case 'when_lesson':\r\n          if ((this.state.group !== \"\") || (this.state.teacher !== \"\")) {\r\n            let params: AssistantSendActionSay['parameters'];\r\n\r\n            const [type, day, lessonNum] = action.note || [];\r\n\r\n            let answer = this.getStartEndLesson(type, day, lessonNum)\r\n            // const [ type, day ] = this.getStartEndLesson(type, day, lessonNum)\r\n\r\n\r\n            console.log(\"answer\", answer)\r\n            if (answer !== undefined && answer[1] === DAY_SUNDAY) {\r\n              params = {\r\n                type: answer[0],\r\n                day: answer[1],\r\n              }\r\n            } else {\r\n              params = {\r\n                type: type,\r\n                day: day,\r\n                ordinal: ordinalNominativeCaseSingularFemDict[lessonNum],\r\n                time: answer\r\n              }\r\n            }\r\n            this.sendData({\r\n              action_id: \"say\",\r\n              parameters: params,\r\n            })\r\n\r\n            if ((params.day === DAY_TODAY) && (this.state.today !== 0)) {\r\n              return this.ChangeDay(this.state.today);\r\n            } else if (this.state.today + 1 === 7) {\r\n              return this.ChangeDay(7);\r\n            } else {\r\n              this.ChangeDay(this.state.today + 1);\r\n            }\r\n          }\r\n          break\r\n\r\n        case 'how_many':\r\n          let countOfLessons: [string, number] | undefined;\r\n          let day: TodayOrTomorrow | undefined;\r\n          let page = 0;\r\n          console.log(\"how many. group:\", this.state.group, \", teacher:\", this.state.teacher)\r\n          if ((this.state.group !== \"\") || (this.state.teacher !== \"\")) {\r\n\r\n            if (action.note !== undefined) {\r\n\r\n              const {timestamp, dayOfWeek} = action.note;\r\n              console.log(timestamp, this.getAmountOfLessons(new Date(timestamp)), \"how many\")\r\n\r\n              countOfLessons = this.getAmountOfLessons(new Date(timestamp))\r\n\r\n              // todo: упростить\r\n              if (String(this.state.today + 1) === dayOfWeek) {\r\n                day = DAY_TODAY;\r\n                page = 0\r\n              } else if (String(this.state.today + 2) === dayOfWeek) {\r\n                day = DAY_TOMORROW;\r\n                page = 0\r\n              } else { // fallback\r\n                day = undefined\r\n                page = 0\r\n              }\r\n            } else {\r\n              countOfLessons = this.getAmountOfLessons(new Date(Date.now()))\r\n              day = DAY_TODAY\r\n            }\r\n\r\n            let howManyParams: AssistantSendActionSay1['parameters'] = {\r\n              day: DAY_SUNDAY,\r\n            };\r\n\r\n            if (this.state.group !== \"\" && countOfLessons !== undefined) {\r\n              const [dayOfWeek, pairCount] = countOfLessons;\r\n\r\n              const pairText = pairNumberToPairText(pairCount);\r\n\r\n              const [inDayOfWeek, dayOfWeekIndex] = dayNameDict[dayOfWeek]\r\n              howManyParams = {\r\n                lesson: pairText,\r\n                day: day,\r\n                dayName: inDayOfWeek,\r\n                amount: numPron[pairCount]\r\n              }\r\n              if (dayOfWeekIndex < this.state.today) {\r\n                page = 7;\r\n              }\r\n              this.ChangeDay(dayOfWeekIndex + page)\r\n            }\r\n\r\n            this.sendData({\r\n              action_id: \"say1\",\r\n              parameters: howManyParams,\r\n            })\r\n          }\r\n          break\r\n\r\n        case 'how_many_left':\r\n          if ((this.state.group !== \"\") || (this.state.teacher !== \"\")) {\r\n            let howManyLeftParams\r\n            let amountOfRemainingLessons = this.getAmountOfRemainingLessons(new Date(Date.now()))\r\n            if (this.state.today === 0) {\r\n              howManyLeftParams = {\r\n                day: DAY_SUNDAY,\r\n              }\r\n            } else {\r\n              howManyLeftParams = {\r\n                amount: amountOfRemainingLessons,\r\n                pron: numPron[amountOfRemainingLessons]\r\n              }\r\n            }\r\n            this.sendData({\r\n              action_id: \"say2\",\r\n              parameters: howManyLeftParams,\r\n            })\r\n            if (this.state.group !== \"\")\r\n              this.ChangePage();\r\n            if (this.state.today === 0) {\r\n              this.gotoPage(7)\r\n            } else {\r\n              this.gotoPage(this.state.today)\r\n            }\r\n          }\r\n          break\r\n\r\n        case 'where':\r\n          console.log('ok')\r\n          if ((this.state.group !== \"\") || (this.state.teacher !== \"\")) {\r\n            if (action.note === undefined) {\r\n              action.note = {\r\n                \"when\": \"now\",\r\n              }\r\n            }\r\n            const whereLessonParams = this.whereWillLesson(new Date(this.state.date), action.note.when)\r\n            this.sendData({\r\n              action_id: \"say3\",\r\n              parameters: whereLessonParams,\r\n            })\r\n            if (whereLessonParams.exist === DAY_SUNDAY) {\r\n              //this.setState({ page: 8 })\r\n            } else {\r\n              this.ChangeDay(this.state.today);\r\n            }\r\n          }\r\n          break\r\n\r\n        case 'what_lesson':\r\n          console.log(\"what_lesson: какая пара\")\r\n          if ((this.state.group !== \"\") || (this.state.teacher !== \"\")) {\r\n            if (!action.note) {\r\n              action.note = {\r\n                \"when\": \"now\",\r\n              }\r\n            }\r\n            const whatlesson = this.whatLesson(new Date(), action.note.when);\r\n            console.log('what_lesson: whatlesson:', whatlesson)\r\n            this.sendData({\r\n              action_id: \"say4\",\r\n              parameters: whatlesson,\r\n            })\r\n            if (this.state.today === 0) {\r\n              this.ChangeDay(7)\r\n            } else {\r\n              this.ChangeDay(this.state.today);\r\n            }\r\n          }\r\n          break\r\n\r\n        case 'first_lesson':\r\n          if ((this.state.group !== \"\") || (this.state.teacher !== \"\")) {\r\n            let firstLessonNumStr: string;\r\n            // let day: TodayOrTomorrow;\r\n            let day1: undefined | TodayOrTomorrow = DAY_TODAY;\r\n            let page1 = 0;\r\n            if (action.note !== undefined) {\r\n              const {dayOfWeek: strDayOfWeek} = action.note;\r\n              const numDayOfWeek = parseInt(strDayOfWeek) - 1\r\n              console.log('dispatchAssistantAction: first_lesson:', action.note)\r\n              console.log('dispatchAssistantAction: first_lesson:', numDayOfWeek);\r\n              firstLessonNumStr = this.getTimeFirstLesson(numDayOfWeek)[1]\r\n              if (String(this.state.today + 1) === strDayOfWeek) {\r\n                day1 = DAY_TODAY;\r\n                page1 = 0\r\n              } else if (String(this.state.today + 2) === strDayOfWeek) {\r\n                day1 = DAY_TOMORROW;\r\n                page1 = 0\r\n              } else {\r\n\r\n                day1 = undefined;\r\n              }\r\n            } else {\r\n              console.warn('dispatchAssistantAction: first_lesson: action.note is undefined');\r\n              // todo: fix fallback\r\n              firstLessonNumStr = this.getTimeFirstLesson(0)[1];\r\n              // day = DAY_TODAY\r\n              day1 = undefined\r\n            }\r\n            let whichFirst: AssistantSendActionSay5['parameters'] = {\r\n              day1: DAY_SUNDAY,\r\n            }\r\n            if (firstLessonNumStr !== undefined) {\r\n              const {dayOfWeek: strDayOfWeek} = action.note;\r\n              const dayOfWeekIdx = parseInt(strDayOfWeek) - 1\r\n              const dayOfWeekShortName = saved_scheduleOfWeekShort[dayOfWeekIdx];\r\n\r\n              const [inDayOfWeek, dayOfWeekIdx1] = dayNameDict[dayOfWeekShortName];\r\n\r\n              whichFirst = {\r\n                num: ordinalGenitiveCaseSingularFemDict[firstLessonNumStr/*[0]*/],\r\n                day: day1,\r\n                dayName: inDayOfWeek\r\n              }\r\n              console.log(whichFirst)\r\n              if (dayOfWeekIdx1 < this.state.today) {\r\n                page1 = 7;\r\n              }\r\n\r\n              const newPage = dayOfWeekIdx1 + page1;\r\n              this.gotoPage(newPage)\r\n            }\r\n            this.sendData({\r\n              action_id: \"say5\",\r\n              parameters: whichFirst,\r\n            })\r\n          }\r\n          break\r\n\r\n        case 'day_schedule':\r\n          if ((this.state.group !== \"\") || (this.state.teacher !== \"\")) {\r\n            let page2 = 0;\r\n\r\n            // todo: упростить\r\n\r\n            if ((action.note[1] === null) && (action.note[2] === null)) {\r\n              if (!this.state.flag) {\r\n                console.log(this.state.flag);\r\n                page2 = 7;\r\n              } else {\r\n                page2 = 0;\r\n              }\r\n\r\n            } else {\r\n              console.log(action.note)\r\n              console.log(parseInt(action.note[0].dayOfWeek) - 1);\r\n              if (action.note[1] !== null) {\r\n                console.log(action.note[1]);\r\n                page2 = 0;\r\n              } else if (action.note[2] !== null) {\r\n                console.log(action.note[2]);\r\n                page2 = 7;\r\n              }\r\n            }\r\n\r\n            let daySchedule: AssistantSendActionSay6['parameters'];\r\n            // if (this.state.group !== \"\") {\r\n            const {dayOfWeek: strDayOfWeek} = action.note[0];\r\n            const dayOfWeekIdx = parseInt(strDayOfWeek) - 1;\r\n            console.log(dayOfWeekIdx, \"day\")\r\n            const [dayOfWeekNameLong, dayOfWeekIdx1] = dayNameDict[this.state.day[dayOfWeekIdx - 1].title];\r\n\r\n            daySchedule = {\r\n              dayName: dayOfWeekNameLong,\r\n            }\r\n\r\n            const newPage = dayOfWeekIdx1 + page2;\r\n            this.gotoPage(newPage)\r\n            // }\r\n            this.sendData({\r\n              action_id: \"say6\",\r\n              parameters: daySchedule,\r\n            })\r\n          }\r\n          break\r\n\r\n        case 'show_schedule':\r\n          console.log(\"show schedule\");\r\n          if(action.note!=undefined && action.note!=\"\"){\r\n            let IsStudent = true\r\n            if (action.note.includes(\"препод\")){\r\n              IsStudent = false\r\n            }\r\n            //this.gotoPage(HOME_PAGE_NO);\r\n            this.sendData({\r\n              action_id: \"change_group\",\r\n              parameters: {\r\n                IsStudent: IsStudent\r\n              }\r\n            })\r\n          }\r\n          else{\r\n            if(history.location == HOME_PAGE_ROUTE){\r\n              if(this.state.student){\r\n                let isCorrect = await this.CheckIsCorrect()\r\n                if(isCorrect){\r\n                  await this.Load_Schedule(this.state.isSavedSchedule)\r\n                  history.push('/spinner')\r\n                 }\r\n              }\r\n              else{\r\n                this.handleTeacherChange(true).then(async(response)=>{\r\n                  if(response){\r\n                    await this.Load_Schedule(this.state.isSavedSchedule)\r\n                    history.push('/spinner')\r\n                  }\r\n                })\r\n              }\r\n            }\r\n            else{\r\n              await this.Load_Schedule(this.state.isSavedSchedule);\r\n              history.push('/spinner')\r\n            }\r\n           \r\n          }\r\n          break;\r\n\r\n        case 'show_settings':\r\n          history.push(\"/settings\")\r\n          break;\r\n\r\n        case 'navigation':\r\n          console.log(\"показать навигацию\");\r\n          history.push('/navigation')\r\n          break;\r\n        case 'faq':\r\n          history.push('/faq')\r\n          return;\r\n        case 'contacts':\r\n          history.push('/contacts')\r\n          return;\r\n        case 'group':\r\n          console.log(\"Assistant: group\")\r\n          if (action.note[0] === 0) {\r\n            console.log(action.note[1].data.groupName[0]);\r\n            this.setState({\r\n              group: action.note[1].data.groupName[0].toUpperCase(),\r\n            });\r\n            //history.push('/home')\r\n          } else {\r\n            console.log(action.note[1].data.groupName[1])\r\n            this.setState({\r\n              group: action.note[1].data.groupName[1].toUpperCase(),\r\n            })\r\n            //history.push(\"/home\")\r\n          }\r\n          break\r\n        case 'dashboard':\r\n          history.push(\"/dashboard\")\r\n          break;\r\n\r\n        case 'subgroup':\r\n          this.setState({subGroup: action.note});\r\n         //history.push('/home')\r\n          break\r\n        case 'show_home_page':\r\n          history.push('/home')\r\n          break\r\n\r\n        default:\r\n        //throw new Error();\r\n      }\r\n    }\r\n  }\r\n\r\n  getStateForAssistant() {\r\n    console.log('getStateForAssistant: this.state:', this.state)\r\n    const state = {\r\n      item_selector: {\r\n        items: this.state.notes.map(\r\n          ({id, title}, index) => ({\r\n            number: index + 1,\r\n            id,\r\n            title,\r\n          })\r\n        ),\r\n      },\r\n    };\r\n    console.log('getStateForAssistant: state:', state)\r\n    return state;\r\n  }\r\n\r\n  async convertIdInGroupName(): Promise<void> {\r\n    console.log(this.state.groupId);\r\n    let group = await getGroupById(Number(this.state.groupId))\r\n    this.setState({group: group.name})\r\n  }\r\n\r\n  protected isTeacher() {\r\n    return !this.state.student && this.state.teacher_correct\r\n  }\r\n  protected isSavedTeacher(){\r\n    return this.state.teacher_id_bd!=\"\"\r\n  }\r\n\r\n  // получить дату первого дня недели\r\n  getFirstDayWeek(date: Date): string {\r\n    // номер дня недели\r\n    const now = new Date();\r\n    this.setState({today: now.getDay()});\r\n\r\n    const weekDay = date.getDay()\r\n    let firstDay: number;\r\n    if (weekDay === 0) {\r\n      firstDay = date.getTime() - (weekDay + 6) * MS_IN_DAY;\r\n      console.log(formatDateWithDashes(new Date(firstDay)))\r\n      //return null\r\n    } else if (weekDay === 1) {\r\n      return formatDateWithDashes(date)\r\n    } else {\r\n      // число первого дня недели\r\n      firstDay = date.getTime() - (weekDay - 1) * MS_IN_DAY;\r\n    }\r\n    return formatDateWithDashes(new Date(firstDay))\r\n  }\r\n\r\n\r\n  /**\r\n   * Заполнение расписанием на следующую неделю\r\n   */\r\n  async NextWeek(isSave: boolean) {\r\n    this.setState({spinner: false});\r\n    const datePlusWeek = this.state.date + SEVEN_DAYS;\r\n    return this.getScheduleFromDb(datePlusWeek, isSave, false);\r\n  }\r\n\r\n  async CurrentWeek(isSave: boolean) {\r\n    return this.getScheduleFromDb(Date.now(), isSave, true);\r\n  }\r\n\r\n  /**\r\n   * Заполнение расписанием на предыдущую неделю\r\n   */\r\n  async PreviousWeek(isSave: boolean) {\r\n    this.setState({spinner: false});\r\n    const dateMinusWeek = this.state.date - SEVEN_DAYS;\r\n    return this.getScheduleFromDb(dateMinusWeek, isSave, false);\r\n  }\r\n\r\n  /**\r\n   * заполнение данными расписания из бд\r\n   */\r\nSetWeekSchedule(parsedSchedule: IScheduleApiData, i, isSavedSchedule: boolean) {\r\n  console.log(\"ParsedSchedule\", parsedSchedule)\r\n    console.log(\"scheduleData\", parsedSchedule)\r\n    console.log('showWeekSchedule')\r\n    this.setState({spinner: false});\r\n\r\n    let schedule;\r\n    /*\r\n    При первой загрузке this.state.saved_schedule равен [] \r\n    и его надо инициализировать\r\n    */\r\n    if ((isSavedSchedule && this.state.saved_schedule.length == 0) || (!isSavedSchedule && this.state.other_schedule.length == 0)) {\r\n      schedule = new Array(7).fill([]);\r\n      for (let day in schedule) {\r\n        schedule[day] = Array(7).fill([])\r\n        for (let bell in schedule[day]) {\r\n          schedule[day][bell] = [new Bell(), new Bell()];\r\n        }\r\n      }\r\n    } else {\r\n     if(isSavedSchedule){\r\n      schedule = this.state.saved_schedule\r\n     }\r\n     else{\r\n      schedule = this.state.other_schedule\r\n     }\r\n     console.log(\"SCHEDULE\",schedule)\r\n      for (let day in schedule) {\r\n        for (let bell in schedule[day]) {\r\n          schedule[day][bell][i].lessonName = \"\";\r\n          schedule[day][bell][i].teacher = \"\";\r\n          schedule[day][bell][i].room = \"\";\r\n          schedule[day][bell][i].lessonType = \"\";\r\n          schedule[day][bell][i].lessonNumber = \"\";\r\n          schedule[day][bell][i].url = \"\";\r\n          schedule[day][bell][i].groupNumber = \"\";\r\n        }\r\n      }\r\n    }\r\n\r\n    for (let day_num = 1; day_num < 7; day_num++) {\r\n\r\n      // todo\r\n      let countLessons = 0;\r\n      this.state.day[day_num - 1].count[i] = 0;\r\n\r\n      if (parsedSchedule.schedule !== null) {\r\n        this.state.day[day_num - 1].date[i] = parsedSchedule.schedule_header[`day_${day_num}`].date;\r\n        for (let bell in parsedSchedule.schedule) { //проверка\r\n          let bell_num = Number(bell.slice(-1)) - 1\r\n          let lesson_info: IScheduleLessonInfo = parsedSchedule.schedule[bell][`day_${day_num}`].lessons[0]\r\n          let lesson_info_state: Bell = schedule[day_num - 1][bell_num][i]\r\n\r\n          const subgroup_name = lesson_info?.groups?.[0]?.subgroup_name;\r\n\r\n          let header = parsedSchedule.schedule[bell]['header']\r\n          LessonStartEnd[bell_num] = {start: header['start_lesson'], end: header['end_lesson']}\r\n\r\n          if (\r\n            (parsedSchedule.schedule[bell_num] !== undefined) &&\r\n            (lesson_info !== undefined) &&\r\n            (subgroup_name !== undefined) &&\r\n            (subgroup_name === this.state.subGroup) &&\r\n            (this.state.subGroup !== \"\")\r\n          ) {\r\n\r\n            lesson_info_state.lessonName = lesson_info.subject_name;\r\n            lesson_info_state.teacher = lesson_info.teachers[0].name;\r\n            lesson_info_state.room = lesson_info.room_name;\r\n            lesson_info_state.lessonType = lesson_info.type;\r\n            lesson_info_state.lessonNumber = bell.slice(5, 6);\r\n            lesson_info_state.url = lesson_info.other;\r\n            countLessons++;\r\n            this.state.day[day_num - 1].count[i]++;\r\n\r\n          } else if (\r\n            (parsedSchedule.schedule[bell] !== undefined) &&\r\n            (lesson_info !== undefined) &&\r\n            (subgroup_name !== undefined) &&\r\n            (subgroup_name !== this.state.subGroup) &&\r\n            (this.state.subGroup !== \"\")\r\n          ) {\r\n            lesson_info_state.reset()\r\n\r\n          } else if (\r\n            (parsedSchedule.schedule[bell] !== undefined) &&\r\n            (lesson_info !== undefined)\r\n          ) {\r\n            lesson_info_state.lessonName = lesson_info.subject_name;\r\n            lesson_info_state.teacher = lesson_info.teachers[0].name;\r\n            lesson_info_state.room = lesson_info.room_name;\r\n            lesson_info_state.lessonType = lesson_info.type;\r\n            lesson_info_state.lessonNumber = bell.slice(5, 6);\r\n            lesson_info_state.url = lesson_info.other;\r\n\r\n            for (let name in lesson_info.groups) {\r\n              lesson_info_state.groupNumber += `${lesson_info.groups[name].name} `;\r\n            }\r\n            countLessons++;\r\n            this.state.day[day_num - 1].count[i]++;\r\n\r\n          } else {\r\n            lesson_info_state.reset();\r\n          }\r\n        }\r\n        if (this.state.day[day_num - 1].count[i] === 0)\r\n          schedule[day_num - 1][0][i].lessonName = NO_LESSONS_NAME;\r\n\r\n      } else {\r\n        schedule[day_num - 1][0][i].lessonName = NO_LESSONS_NAME;\r\n      }\r\n\r\n    }\r\n    this.setState({spinner: true});\r\n    if(isSavedSchedule){\r\n      this.setState({saved_schedule: schedule,isSavedSchedule: isSavedSchedule});\r\n    }\r\n    else{\r\n      this.setState({other_schedule: schedule, isSavedSchedule: isSavedSchedule})\r\n    }\r\n    console.log(\"Days\", schedule, \"Day\", this.state.day)\r\n  }\r\n\r\n  ChangeDay(day: number): void{\r\n    this.ChangePage();\r\n    this.gotoPage(day);\r\n  }\r\n\r\n\r\n  ChangePage() {\r\n    let timeParam = this.state.page;\r\n    if ('/spinner'== history.location) {\r\n      return\r\n    }\r\n    let weekParam: THIS_OR_OTHER_WEEK = THIS_WEEK;\r\n    console.log(\"timeParam\", timeParam)\r\n    console.log(\"WeekParam\", weekParam)\r\n    if (timeParam > 7) {\r\n      weekParam = OTHER_WEEK\r\n      timeParam -= 7\r\n    }\r\n    if (weekParam === OTHER_WEEK) {\r\n      console.log(\"OTHER WEEK\")\r\n      this.setState({flag: false});\r\n    } else {\r\n      this.setState({flag: true});\r\n    }\r\n  }\r\n\r\n  ChangeTheme(){\r\n    console.log(this.state.theme, \"THEME\")\r\n    if (this.state.theme==\"dark\")\r\n    this.setState({theme: \"light\"})\r\n    else this.setState({theme: \"dark\"})\r\n  }\r\n\r\n  doSetTeacher(teacherName: string): void {\r\n    console.log(\"DoSetTeacher\")\r\n    this.setState({teacher: teacherName}, async () => {\r\n      await this.handleTeacherChange(false);\r\n    });\r\n  }\r\n\r\n  // todo исправить асинхронную работу\r\n  async handleTeacherChange(isSave: boolean): Promise<boolean> {\r\n    console.log('handleTeacherChange: this.state.teacher:', this.state.teacher)\r\n\r\n    let result = 1;\r\n    await getIdTeacherFromDb(this.state.teacher).then((teacherData) => {\r\n      console.log('handleTeacherChange:', teacherData);\r\n      console.log('handleTeacherChange: status:', teacherData.status);\r\n\r\n      result = Number(teacherData.status)\r\n      if (\r\n        (teacherData.status == \"-1\") ||\r\n        (teacherData.status == \"-2\")\r\n      ) {\r\n        console.log(\"handleTeacherChange: teacherData.status:\", teacherData.status);\r\n        this.setState({\r\n          isTeacherError: true})\r\n          return true\r\n\r\n      } else\r\n        getScheduleTeacherFromDb(\r\n          teacherData.id,\r\n          this.getFirstDayWeek(new Date())\r\n        ).then((response) => {\r\n          console.log(\"Teahcer Shcedule\", response)\r\n          this.SetWeekSchedule(response, 0, isSave);\r\n        });\r\n\r\n        const formatTeacherName = (teacherData: ITeacherApiData) => (\r\n          `${teacherData.last_name} ${teacherData.first_name}. ${teacherData.mid_name}.`\r\n        )\r\n          console.log( formatTeacherName(teacherData), \"teacher name\")\r\n        getInTeacherFromDb(teacherData.id).then((parsedTeacher2) => {\r\n          this.setState({\r\n            teacher: formatTeacherName(teacherData)\r\n          })\r\n        })\r\n\r\n         this.setState({\r\n          teacherId: teacherData.id,\r\n          teacher_correct: true,\r\n          date: Date.now(),\r\n          flag: true,\r\n          student: false,\r\n          isTeacherError: false,\r\n        });\r\n        if (history.location.pathname=='/home')\r\n          history.push('/spinner')\r\n\r\n      if (isSave) {\r\n        this.setState({teacher_bd: this.state.teacher, teacher_id_bd: this.state.teacherId})\r\n        createUser(\r\n          this.state.userId,\r\n          filial.id,\r\n          this.state.groupId,\r\n          this.state.subGroup,\r\n          this.state.engGroup,\r\n          this.state.teacherId,\r\n        );\r\n      }\r\n      return true\r\n    })\r\n    return false\r\n  }\r\n\r\n\r\n  async _loadSchedule({ groupId, engGroup, isSave}: { groupId: string, engGroup: string, isSave:boolean }): Promise<void> {\r\n    console.log('LOAD_SCHEDULE:', groupId, engGroup)\r\n    await getScheduleFromDb(\r\n      groupId,\r\n      String(engGroup),\r\n      this.getFirstDayWeek(new Date())\r\n    )\r\n      .then((response) => {\r\n        console.log(\"LOAD_SCHEDULE_THEN\")\r\n        this.SetWeekSchedule(response, 0, isSave);\r\n        console.log('_loadSchedule:', String(this.state.engGroup), this.state.groupId);\r\n        console.log(\"RESPONSE\", response)\r\n        this.setState({\r\n          flag: true,\r\n          isGroupError: false,\r\n          //teacher_bd: \"\"\r\n        });\r\n      })\r\n  }\r\n  \r\n  async Load_Schedule(isSave: boolean): Promise<void> {\r\n    console.log(\"Load_Schedule. IsSave:\",isSave)\r\n    return await this._loadSchedule({\r\n      groupId: this.state.groupId,\r\n      engGroup: String(this.state.engGroup),\r\n      isSave\r\n  });\r\n  }\r\n\r\n  //Проверяет правильность ввода данных студента\r\n  async CheckIsCorrect() : Promise<boolean>{\r\n    console.log('App: isCorrect')\r\n    this.setState({correct: false, date: Date.now(), flag: true});\r\n    let correct_sub = false;\r\n    let correct_eng = false;\r\n    let correct = false;\r\n    console.log(\"this.state.engGroup\", this.state.engGroup)\r\n\r\n    let promiseGroupName = getGroupByName(this.state.group);\r\n    let promiseEnglishGroup = IsEnglishGroupExist(Number(this.state.engGroup));\r\n\r\n   return Promise.all([\r\n      promiseGroupName,\r\n      promiseEnglishGroup,\r\n    ])\r\n      .then((responses) => {\r\n        console.log(\"App: isCorrect: response\", responses)\r\n        const [\r\n          group_response,\r\n          english_response,\r\n        ] = responses;\r\n        const group = JSON.parse(group_response);\r\n        console.log(\"App: isCorrect: response: english\", english_response);\r\n        if (group.status == 1) {\r\n          console.log(group.name, group.id, \"GROUP RESPONSE\")\r\n          this.setState({group: group.name, groupId: group.id})\r\n          correct = true;\r\n        }\r\n        console.log(this.state.groupId, \"group Id\");\r\n        if (english_response || this.state.engGroup == \"\") {\r\n          correct_eng = true;\r\n          console.log(`App: isCorrect: correct_eng: ${correct_eng}`);\r\n        }\r\n        if ((this.state.subGroup === \"\") || (this.state.subGroup === \"1\") || (this.state.subGroup === \"2\")) {\r\n          correct_sub = true;\r\n        }\r\n        this.setState({isEngGroupError: !correct_eng, isSubGroupError:!correct_sub, isGroupError: !correct})\r\n        const groupId = String(group.id);\r\n        let isCorrect = correct_eng && correct_sub && correct\r\n        if ((isCorrect&&this.state.checked)||(history.location.pathname!='/home')){\r\n          console.log(\"create_user\", history.location.pathname)\r\n          this.setState({groupId: groupId, group: group.name, bd: this.state.group, correct: true, group_id_bd: groupId, eng_bd: this.state.engGroup, sub_bd: this.state.subGroup, teacher_id_bd: \"\"}, () => {\r\n            createUser(\r\n              this.state.userId,\r\n              filial.id,\r\n              group.id,\r\n              this.state.subGroup,\r\n              this.state.engGroup,\r\n              \"\")\r\n            })\r\n          }\r\n        return isCorrect\r\n\r\n      })\r\n\r\n  }\r\n\r\n  //Загружает расписание с бекенда\r\n  async getScheduleFromDb(date: number, isSave: boolean, isCurrentWeek: boolean) {\r\n    let teacher_id, group_id, eng;\r\n    if(isSave){\r\n      teacher_id = this.state.teacher_id_bd;\r\n      group_id = this.state.group_id_bd;\r\n      eng = this.state.eng_bd\r\n      if (this.isSavedTeacher()){\r\n      console.log(this.state.student)\r\n      //this.state.student=false;\r\n      this.setState({student: false, teacher: this.state.teacher_bd})\r\n     \r\n    }\r\n      else this.setState({group: this.state.bd, student: true})\r\n    }\r\n    else{\r\n      teacher_id = this.state.teacherId;\r\n      group_id = this.state.groupId;\r\n      eng = this.state.engGroup;\r\n    }\r\n    const firstDayWeek = this.getFirstDayWeek(new Date(date));\r\n    let week = isCurrentWeek ? 0 : 1\r\n    if (this.isSavedTeacher()) {\r\n      await getScheduleTeacherFromDb(\r\n        teacher_id,\r\n        firstDayWeek\r\n      ).then((response) => {\r\n        this.SetWeekSchedule(response, week, isSave);\r\n      })\r\n      this.setState({student: false})\r\n    } else {\r\n      await getScheduleFromDb(\r\n        group_id,\r\n        eng,\r\n        firstDayWeek\r\n      ).then((response) => {\r\n        this.SetWeekSchedule(response, week, isSave);\r\n      })\r\n      this.setState({student: true})\r\n    }\r\n    this.setState({date: date, flag: true});\r\n     console.log(this.state.student)\r\n  }\r\n\r\n  Spinner() {\r\n\r\n    const CHECK_INTERVAL = 1;\r\n    const REDIRECT_DELAY = 1;\r\n\r\n    // делаем периодическую проверку\r\n    const checkInterval = setInterval(() => {\r\n\r\n      // если признак `spinner` выставлен\r\n      if (this.state.spinner) {\r\n\r\n        // переходим на другую страницу с задержкой\r\n        setTimeout(() => {\r\n          console.log(\"this.state.flag\", this.state.flag)\r\n\r\n          const pageNo = this.state.today === 0\r\n            ? this.state.flag ? 7 : FIRST_DAY_OTHER_WEEK\r\n            : this.state.flag ? this.state.today : FIRST_DAY_OTHER_WEEK\r\n          console.log('Spinner: pageNo:', pageNo)\r\n\r\n          // переходим на другую страницу\r\n          this.gotoPage(pageNo);\r\n        }, REDIRECT_DELAY);\r\n        clearInterval(checkInterval)\r\n      }\r\n    }, CHECK_INTERVAL);\r\n\r\n    return (\r\n\r\n      <SpinnerPage\r\n        theme={this.state.theme}\r\n        character={this.state.character}\r\n      />\r\n    )\r\n  }\r\n\r\n  ChangePush(hour: number, min: number, isActive: boolean){\r\n    this.setState({pushHour: hour, pushMin: min, isActive: isActive});\r\n  }\r\n\r\n  gotoPage(pageNo: number): void {\r\n    console.log('App: gotoPage:', pageNo);\r\n    // temporary workaround\r\n    history.push('/');\r\n    this.setState({page: pageNo});\r\n  }\r\n\r\n  render() {\r\n    let {page} = this.state;\r\n    // console.log(\"App: render, this.state:\", this.state)\r\n    return (\r\n      <Router history={history}>\r\n        <Switch>\r\n          <Route\r\n            path=\"/contacts\"\r\n            render={\r\n              ({match}) => {\r\n                return <Contacts\r\n                  character={this.state.character}\r\n                  theme={this.state.theme}\r\n                  onDashboardClick={()=>{history.push(\"/dashboard\")}}\r\n                />\r\n              }\r\n            }\r\n          />\r\n          <Route\r\n            path=\"/faq\"\r\n            render={\r\n              ({match}) => {\r\n                return <FAQ\r\n                  character={this.state.character}\r\n                  theme={this.state.theme}\r\n                  onDashboardClick={()=>{history.push(\"/dashboard\")}}\r\n                />\r\n              }\r\n            }\r\n          />\r\n          <Route\r\n            path=\"/navigation\"\r\n            render={\r\n              ({match}) => {\r\n                return <NavigatorPage\r\n                  buildings={buildings}\r\n                  character={this.state.character}\r\n                  theme={this.state.theme}\r\n                  isMobileDevice={detectDevice() === \"mobile\"}\r\n                  onDashboardClick={()=>{history.push(\"/dashboard\")}}\r\n                  onHomeClick={() => {history.push(\"/home\")}}\r\n                  onScheduleClick={() => { history.push('/spinner')}}\r\n                />\r\n              }\r\n            }\r\n          />\r\n          <Route\r\n            path=\"/settings\"\r\n            // component={\r\n            render={\r\n              ({match}) => {\r\n                return <Settings\r\n                  userId={this.state.userId}\r\n                  bd={this.state.bd}\r\n                  sendData={this.sendData}\r\n                  teacher_bd={this.state.teacher_bd}\r\n                  onHandleTeacherChange={this.handleTeacherChange}\r\n                  onConvertIdInGroupName={this.convertIdInGroupName}\r\n                  onSetValue={this.setValue}\r\n                  description={this.state.description}\r\n                  character={this.state.character}\r\n                  checked={this.state.checked}\r\n                  onDashboardClick={() => history.push(\"/dashboard\")}\r\n                  groupId={this.state.groupId}\r\n                  group={this.state.group}\r\n                  theme={this.state.theme}\r\n                  ChangeTheme={this.ChangeTheme}\r\n                  ChangePush={this.ChangePush}\r\n                  isGroupError={this.state.isGroupError}\r\n                  isActive={this.state.isActive}\r\n                  pushHour={this.state.pushHour}\r\n                  pushMin={this.state.pushMin}\r\n                  subGroup={this.state.subGroup}\r\n                  dayPush={this.state.dayPush}\r\n                  isSubGroupError={this.state.isSubGroupError}\r\n                  CheckIsCorrect={this.CheckIsCorrect}\r\n                  engGroup={this.state.engGroup}\r\n                  isEngGroupError={this.state.isEngGroupError}\r\n                  LoadSchedule = {() => this.Load_Schedule(true)}\r\n                  student={this.state.student}\r\n                  teacher={this.state.teacher}\r\n                  isTeacherError={this.state.isTeacherError}\r\n                  teacher_checked={this.state.teacher_checked}\r\n                />\r\n              }\r\n            }\r\n          />\r\n          <Route\r\n            path=\"/lesson/:lessonIndex\"\r\n            render={\r\n              ({match}) => {\r\n                // temporary workaround\r\n                console.log(\"/lesson/...: this.state.page:\", this.state.page)\r\n                // if (this.state.page!==NON_EXISTING_PAGE_NO) this.gotoPage(NON_EXISTING_PAGE_NO);\r\n                return (\r\n                  <Lesson\r\n                    character={this.state.character}\r\n                    isTeacherAndValid={this.getIsCorrectTeacher()}\r\n                    spinner={this.state.spinner}\r\n                    theme={this.state.theme}\r\n                    currentLesson={this.state.saved_schedule[this.state.page-1]?.[match.params.lessonIndex-1]?.[THIS_WEEK]}\r\n                    currentLessonStartEnd={LessonStartEnd[match.params.lessonIndex]}\r\n                    onGoToPage={(pageNo) => this.gotoPage(pageNo)}\r\n                    pageNo={this.state.page}\r\n                    onDashboardClick={() => history.push(\"/dashboard\")}\r\n                    handleTeacherChange={this.handleTeacherChange}\r\n                   \r\n                  />\r\n                )\r\n              }\r\n            }\r\n          />\r\n          <Route\r\n            path=\"/dashboard\"\r\n            render={\r\n              ({match}) =>{\r\n                console.log(\"DASHBOARD; IsSave:\",this.state.isSavedSchedule)\r\n                const now = new Date();\r\n                let todayIndex = this.state.today - 1;\r\n                let currentLessonIdx = this.getCurrentLesson(now);\r\n                let currentLesson = this.state.saved_schedule[todayIndex]?.[parseInt(currentLessonIdx) - 1]?.[THIS_WEEK];\r\n                let currentLessonStartEnd = LessonStartEnd[parseInt(currentLessonIdx) - 1]\r\n\r\n                let nextLessonIdx = this.whatLesson(now, \"will\").num;\r\n                let nextLesson = this.state.saved_schedule[todayIndex]?.[nextLessonIdx - 1]?.[THIS_WEEK];\r\n                //console.log(this.whatLesson(now, \"will\").num, \"next\")\r\n                let count = this.state.day[this.state.today - 1]?.count[0]\r\n                //console.log(\"COUNT\", this.state.today)\r\n                let nextLessonStartEnd = LessonStartEnd[nextLessonIdx-1];\r\n                let start = this.getTimeFirstLesson(todayIndex + 1)[0].slice(0, 5);\r\n                let end = this.getEndLastLesson(DAY_TODAY);\r\n                return <DashboardPage\r\n                  character={this.state.character}\r\n                  theme={this.state.theme}\r\n                  isTeacherAndValid={this.getIsCorrectTeacher()}\r\n                  isUser={this.state.isUser}\r\n                  start={start}\r\n                  end={end}\r\n                  count={count}\r\n                  filialId={this.state.filialId}\r\n                  userId={this.state.userId}\r\n                  spinner={this.state.spinner}\r\n                  currentLesson={currentLesson}\r\n                  currentLessonStartEnd={currentLessonStartEnd}\r\n                  nextLesson={nextLesson}\r\n                  nextLessonStartEnd={nextLessonStartEnd}\r\n                  groupId={this.state.group_id_bd}\r\n                  teacherId={this.state.teacher_id_bd}\r\n                  onGoToPage={(pageNo) => this.gotoPage(pageNo)}\r\n                  handleTeacherChange={this.handleTeacherChange}\r\n                  \r\n                />\r\n              }\r\n            }/>\r\n          <Route \r\n          path=\"/home\"\r\n          render={\r\n            ({match}) =>{\r\n              return <HomePage\r\n                // state={this.state}\r\n                CheckIsCorrect={this.CheckIsCorrect}\r\n                LoadSchedule = { this.Load_Schedule}\r\n                onHandleTeacherChange={this.handleTeacherChange}\r\n                onConvertIdInGroupName={this.convertIdInGroupName}\r\n                onSetValue={this.setValue}\r\n                description={this.state.description}\r\n                character={this.state.character}\r\n                theme={this.state.theme}\r\n                checked={this.state.checked}\r\n                onShowScheduleClick={()=>{ history.push('/spinner')}}\r\n                groupId={this.state.groupId}\r\n                group={this.state.group}\r\n                isGroupError={this.state.isGroupError}\r\n                subGroup={this.state.subGroup}\r\n                isSubGroupError={this.state.isSubGroupError}\r\n\r\n                engGroup={this.state.engGroup}\r\n                isEngGroupError={this.state.isEngGroupError}\r\n\r\n                student={this.state.student}\r\n                teacher={this.state.teacher}\r\n                isTeacherError={this.state.isTeacherError}\r\n                // handleTeacherChange={this.handleTeacherChange}\r\n                teacher_checked={this.state.teacher_checked}\r\n              />\r\n            }\r\n          }\r\n          />\r\n          <Route \r\n          path=\"/start\"\r\n          render ={\r\n            ({match}) =>{\r\n             return <Start\r\n                character={this.state.character}\r\n                theme={this.state.theme}\r\n                isMobileDevice={detectDevice() === \"mobile\"}\r\n              />\r\n            }\r\n          }\r\n          />\r\n          <Route\r\n          path=\"/spinner\"\r\n          render ={\r\n            ({match}) =>{\r\n              return this.Spinner()\r\n            }\r\n          }\r\n          />\r\n          <Route path=\"*\">\r\n            {\r\n\r\n               (page >= 1 && page <= 13) &&\r\n               <Schedule\r\n                timeParam={page}\r\n                onSetValue={this.setValue}\r\n                teacher={this.state.teacher}\r\n                groupName={this.state.group}\r\n                character={this.state.character}\r\n                theme={this.state.theme}\r\n                isTeacher={!this.state.student}\r\n                // Bd={this.Bd}\r\n                getScheduleFromDb={this.getScheduleFromDb}\r\n                bd={this.state.bd}\r\n                teacher_bd={this.state.teacher_bd}\r\n                PreviousWeek={()=>this.PreviousWeek(this.state.isSavedSchedule)}\r\n                CurrentWeek={()=>this.CurrentWeek(this.state.isSavedSchedule)}\r\n                NextWeek={()=>{this.NextWeek(this.state.isSavedSchedule)}}\r\n                getCurrentLesson={this.getCurrentLesson}\r\n                doSetTeacher={(teacherName: string) => this.doSetTeacher(teacherName)}\r\n                weekParam={page > 7 ? 1 : 0}\r\n                day={this.state.day}\r\n                spinner={this.state.spinner}\r\n                today={this.state.today}\r\n                schedule={this.state.isSavedSchedule ? this.state.saved_schedule : this.state.other_schedule}\r\n                group={this.state.group}\r\n                subGroup={this.state.subGroup}\r\n                getIsCorrectTeacher={this.getIsCorrectTeacher}\r\n              />\r\n            }\r\n            {\r\n              <div></div>\r\n            }\r\n          </Route>\r\n        </Switch>\r\n      </Router>\r\n    )\r\n  }\r\n}","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);  \r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n}\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport { App } from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n// import { DeviceThemeProvider } from '@sberdevices/plasma-ui/components/Device'; // Типографика, имеющая размеры, зависимые от типа устройства\r\n\r\n\r\n\r\nReactDOM.render(\r\n  // <DeviceThemeProvider>\r\n  // <GlobalStyle />\r\n  <App />\r\n// </DeviceThemeProvider>\r\n,\r\ndocument.getElementById('root'),\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}